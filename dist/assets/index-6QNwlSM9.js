(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function UT(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Ep={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function Aw(){if(Uv)return zl;Uv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return zl.Fragment=e,zl.jsx=n,zl.jsxs=n,zl}var jv;function bw(){return jv||(jv=1,Ep.exports=Aw()),Ep.exports}var w=bw(),Tp={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function Sw(){if(Bv)return Oe;Bv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function T(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,G={};function L(O,J,ue){this.props=O,this.context=J,this.refs=G,this.updater=ue||x}L.prototype.isReactComponent={},L.prototype.setState=function(O,J){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,J,"setState")},L.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function H(){}H.prototype=L.prototype;function ee(O,J,ue){this.props=O,this.context=J,this.refs=G,this.updater=ue||x}var Z=ee.prototype=new H;Z.constructor=ee,D(Z,L.prototype),Z.isPureReactComponent=!0;var oe=Array.isArray,ce={H:null,A:null,T:null,S:null,V:null},_e=Object.prototype.hasOwnProperty;function P(O,J,ue,se,ve,Ie){return ue=Ie.ref,{$$typeof:i,type:O,key:J,ref:ue!==void 0?ue:null,props:Ie}}function R(O,J){return P(O.type,J,void 0,void 0,void 0,O.props)}function C(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function k(O){var J={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ue){return J[ue]})}var V=/\/+/g;function U(O,J){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):J.toString(36)}function N(){}function pt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(N,N):(O.status="pending",O.then(function(J){O.status==="pending"&&(O.status="fulfilled",O.value=J)},function(J){O.status==="pending"&&(O.status="rejected",O.reason=J)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function st(O,J,ue,se,ve){var Ie=typeof O;(Ie==="undefined"||Ie==="boolean")&&(O=null);var we=!1;if(O===null)we=!0;else switch(Ie){case"bigint":case"string":case"number":we=!0;break;case"object":switch(O.$$typeof){case i:case e:we=!0;break;case E:return we=O._init,st(we(O._payload),J,ue,se,ve)}}if(we)return ve=ve(O),we=se===""?"."+U(O,0):se,oe(ve)?(ue="",we!=null&&(ue=we.replace(V,"$&/")+"/"),st(ve,J,ue,"",function(le){return le})):ve!=null&&(C(ve)&&(ve=R(ve,ue+(ve.key==null||O&&O.key===ve.key?"":(""+ve.key).replace(V,"$&/")+"/")+we)),J.push(ve)),1;we=0;var mt=se===""?".":se+":";if(oe(O))for(var Ze=0;Ze<O.length;Ze++)se=O[Ze],Ie=mt+U(se,Ze),we+=st(se,J,ue,Ie,ve);else if(Ze=T(O),typeof Ze=="function")for(O=Ze.call(O),Ze=0;!(se=O.next()).done;)se=se.value,Ie=mt+U(se,Ze++),we+=st(se,J,ue,Ie,ve);else if(Ie==="object"){if(typeof O.then=="function")return st(pt(O),J,ue,se,ve);throw J=String(O),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return we}function Y(O,J,ue){if(O==null)return O;var se=[],ve=0;return st(O,se,"","",function(Ie){return J.call(ue,Ie,ve++)}),se}function te(O){if(O._status===-1){var J=O._result;J=J(),J.then(function(ue){(O._status===0||O._status===-1)&&(O._status=1,O._result=ue)},function(ue){(O._status===0||O._status===-1)&&(O._status=2,O._result=ue)}),O._status===-1&&(O._status=0,O._result=J)}if(O._status===1)return O._result.default;throw O._result}var de=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function De(){}return Oe.Children={map:Y,forEach:function(O,J,ue){Y(O,function(){J.apply(this,arguments)},ue)},count:function(O){var J=0;return Y(O,function(){J++}),J},toArray:function(O){return Y(O,function(J){return J})||[]},only:function(O){if(!C(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Oe.Component=L,Oe.Fragment=n,Oe.Profiler=o,Oe.PureComponent=ee,Oe.StrictMode=s,Oe.Suspense=m,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return ce.H.useMemoCache(O)}},Oe.cache=function(O){return function(){return O.apply(null,arguments)}},Oe.cloneElement=function(O,J,ue){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var se=D({},O.props),ve=O.key,Ie=void 0;if(J!=null)for(we in J.ref!==void 0&&(Ie=void 0),J.key!==void 0&&(ve=""+J.key),J)!_e.call(J,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&J.ref===void 0||(se[we]=J[we]);var we=arguments.length-2;if(we===1)se.children=ue;else if(1<we){for(var mt=Array(we),Ze=0;Ze<we;Ze++)mt[Ze]=arguments[Ze+2];se.children=mt}return P(O.type,ve,void 0,void 0,Ie,se)},Oe.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Oe.createElement=function(O,J,ue){var se,ve={},Ie=null;if(J!=null)for(se in J.key!==void 0&&(Ie=""+J.key),J)_e.call(J,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ve[se]=J[se]);var we=arguments.length-2;if(we===1)ve.children=ue;else if(1<we){for(var mt=Array(we),Ze=0;Ze<we;Ze++)mt[Ze]=arguments[Ze+2];ve.children=mt}if(O&&O.defaultProps)for(se in we=O.defaultProps,we)ve[se]===void 0&&(ve[se]=we[se]);return P(O,Ie,void 0,void 0,null,ve)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(O){return{$$typeof:p,render:O}},Oe.isValidElement=C,Oe.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:te}},Oe.memo=function(O,J){return{$$typeof:g,type:O,compare:J===void 0?null:J}},Oe.startTransition=function(O){var J=ce.T,ue={};ce.T=ue;try{var se=O(),ve=ce.S;ve!==null&&ve(ue,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(De,de)}catch(Ie){de(Ie)}finally{ce.T=J}},Oe.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},Oe.use=function(O){return ce.H.use(O)},Oe.useActionState=function(O,J,ue){return ce.H.useActionState(O,J,ue)},Oe.useCallback=function(O,J){return ce.H.useCallback(O,J)},Oe.useContext=function(O){return ce.H.useContext(O)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(O,J){return ce.H.useDeferredValue(O,J)},Oe.useEffect=function(O,J,ue){var se=ce.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(O,J)},Oe.useId=function(){return ce.H.useId()},Oe.useImperativeHandle=function(O,J,ue){return ce.H.useImperativeHandle(O,J,ue)},Oe.useInsertionEffect=function(O,J){return ce.H.useInsertionEffect(O,J)},Oe.useLayoutEffect=function(O,J){return ce.H.useLayoutEffect(O,J)},Oe.useMemo=function(O,J){return ce.H.useMemo(O,J)},Oe.useOptimistic=function(O,J){return ce.H.useOptimistic(O,J)},Oe.useReducer=function(O,J,ue){return ce.H.useReducer(O,J,ue)},Oe.useRef=function(O){return ce.H.useRef(O)},Oe.useState=function(O){return ce.H.useState(O)},Oe.useSyncExternalStore=function(O,J,ue){return ce.H.useSyncExternalStore(O,J,ue)},Oe.useTransition=function(){return ce.H.useTransition()},Oe.version="19.1.0",Oe}var zv;function bm(){return zv||(zv=1,Tp.exports=Sw()),Tp.exports}var z=bm();const ww=UT(z);var Ap={exports:{}},ql={},bp={exports:{}},Sp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function Rw(){return qv||(qv=1,function(i){function e(Y,te){var de=Y.length;Y.push(te);e:for(;0<de;){var De=de-1>>>1,O=Y[De];if(0<o(O,te))Y[De]=te,Y[de]=O,de=De;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var te=Y[0],de=Y.pop();if(de!==te){Y[0]=de;e:for(var De=0,O=Y.length,J=O>>>1;De<J;){var ue=2*(De+1)-1,se=Y[ue],ve=ue+1,Ie=Y[ve];if(0>o(se,de))ve<O&&0>o(Ie,se)?(Y[De]=Ie,Y[ve]=de,De=ve):(Y[De]=se,Y[ue]=de,De=ue);else if(ve<O&&0>o(Ie,de))Y[De]=Ie,Y[ve]=de,De=ve;else break e}}return te}function o(Y,te){var de=Y.sortIndex-te.sortIndex;return de!==0?de:Y.id-te.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();i.unstable_now=function(){return f.now()-p}}var m=[],g=[],E=1,b=null,T=3,x=!1,D=!1,G=!1,L=!1,H=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function oe(Y){for(var te=n(g);te!==null;){if(te.callback===null)s(g);else if(te.startTime<=Y)s(g),te.sortIndex=te.expirationTime,e(m,te);else break;te=n(g)}}function ce(Y){if(G=!1,oe(Y),!D)if(n(m)!==null)D=!0,_e||(_e=!0,U());else{var te=n(g);te!==null&&st(ce,te.startTime-Y)}}var _e=!1,P=-1,R=5,C=-1;function k(){return L?!0:!(i.unstable_now()-C<R)}function V(){if(L=!1,_e){var Y=i.unstable_now();C=Y;var te=!0;try{e:{D=!1,G&&(G=!1,ee(P),P=-1),x=!0;var de=T;try{t:{for(oe(Y),b=n(m);b!==null&&!(b.expirationTime>Y&&k());){var De=b.callback;if(typeof De=="function"){b.callback=null,T=b.priorityLevel;var O=De(b.expirationTime<=Y);if(Y=i.unstable_now(),typeof O=="function"){b.callback=O,oe(Y),te=!0;break t}b===n(m)&&s(m),oe(Y)}else s(m);b=n(m)}if(b!==null)te=!0;else{var J=n(g);J!==null&&st(ce,J.startTime-Y),te=!1}}break e}finally{b=null,T=de,x=!1}te=void 0}}finally{te?U():_e=!1}}}var U;if(typeof Z=="function")U=function(){Z(V)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,pt=N.port2;N.port1.onmessage=V,U=function(){pt.postMessage(null)}}else U=function(){H(V,0)};function st(Y,te){P=H(function(){Y(i.unstable_now())},te)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_next=function(Y){switch(T){case 1:case 2:case 3:var te=3;break;default:te=T}var de=T;T=te;try{return Y()}finally{T=de}},i.unstable_requestPaint=function(){L=!0},i.unstable_runWithPriority=function(Y,te){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var de=T;T=Y;try{return te()}finally{T=de}},i.unstable_scheduleCallback=function(Y,te,de){var De=i.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?De+de:De):de=De,Y){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=de+O,Y={id:E++,callback:te,priorityLevel:Y,startTime:de,expirationTime:O,sortIndex:-1},de>De?(Y.sortIndex=de,e(g,Y),n(m)===null&&Y===n(g)&&(G?(ee(P),P=-1):G=!0,st(ce,de-De))):(Y.sortIndex=O,e(m,Y),D||x||(D=!0,_e||(_e=!0,U()))),Y},i.unstable_shouldYield=k,i.unstable_wrapCallback=function(Y){var te=T;return function(){var de=T;T=te;try{return Y.apply(this,arguments)}finally{T=de}}}}(Sp)),Sp}var Hv;function Cw(){return Hv||(Hv=1,bp.exports=Rw()),bp.exports}var wp={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function Iw(){if(Fv)return rn;Fv=1;var i=bm();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:m,containerInfo:g,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,rn.createPortal=function(m,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(m,g,null,E)},rn.flushSync=function(m){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,m)return m()}finally{f.T=g,s.p=E,s.d.f()}},rn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},rn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},rn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var E=g.as,b=p(E,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:T,fetchPriority:x}):E==="script"&&s.d.X(m,{crossOrigin:b,integrity:T,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},rn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=p(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},rn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,b=p(E,g.crossOrigin);s.d.L(m,E,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},rn.preloadModule=function(m,g){if(typeof m=="string")if(g){var E=p(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},rn.requestFormReset=function(m){s.d.r(m)},rn.unstable_batchedUpdates=function(m,g){return m(g)},rn.useFormState=function(m,g,E){return f.H.useFormState(m,g,E)},rn.useFormStatus=function(){return f.H.useHostTransitionStatus()},rn.version="19.1.0",rn}var Gv;function Nw(){if(Gv)return wp.exports;Gv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),wp.exports=Iw(),wp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function Dw(){if($v)return ql;$v=1;var i=Cw(),e=bm(),n=Nw();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function m(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,A=h.child;A;){if(A===a){v=!0,a=h,l=d;break}if(A===l){v=!0,l=h,a=d;break}A=A.sibling}if(!v){for(A=d.child;A;){if(A===a){v=!0,a=d,l=h;break}if(A===l){v=!0,l=d,a=h;break}A=A.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),ee=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function pt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case D:return"Fragment";case L:return"Profiler";case G:return"StrictMode";case ce:return"Suspense";case _e:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case x:return"Portal";case Z:return(t.displayName||"Context")+".Provider";case ee:return(t._context.displayName||"Context")+".Consumer";case oe:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case P:return r=t.displayName||null,r!==null?r:pt(t.type)||"Memo";case R:r=t._payload,t=t._init;try{return pt(t(r))}catch{}}return null}var st=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},De=[],O=-1;function J(t){return{current:t}}function ue(t){0>O||(t.current=De[O],De[O]=null,O--)}function se(t,r){O++,De[O]=t.current,t.current=r}var ve=J(null),Ie=J(null),we=J(null),mt=J(null);function Ze(t,r){switch(se(we,r),se(Ie,t),se(ve,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?fv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=fv(r),t=dv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ue(ve),se(ve,t)}function le(){ue(ve),ue(Ie),ue(we)}function me(t){t.memoizedState!==null&&se(mt,t);var r=ve.current,a=dv(r,t.type);r!==a&&(se(Ie,t),se(ve,a))}function he(t){Ie.current===t&&(ue(ve),ue(Ie)),mt.current===t&&(ue(mt),Vl._currentValue=de)}var xe=Object.prototype.hasOwnProperty,Ut=i.unstable_scheduleCallback,_s=i.unstable_cancelCallback,ko=i.unstable_shouldYield,Iu=i.unstable_requestPaint,On=i.unstable_now,Ef=i.unstable_getCurrentPriorityLevel,Po=i.unstable_ImmediatePriority,da=i.unstable_UserBlockingPriority,ys=i.unstable_NormalPriority,Tf=i.unstable_LowPriority,pa=i.unstable_IdlePriority,Mo=i.log,Nu=i.unstable_setDisableYieldValue,gt=null,Ye=null;function Tn(t){if(typeof Mo=="function"&&Nu(t),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(gt,t)}catch{}}var tn=Math.clz32?Math.clz32:vs,Du=Math.log,Af=Math.LN2;function vs(t){return t>>>=0,t===0?32:31-(Du(t)/Af|0)|0}var Es=256,Ts=4194304;function $n(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ma(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?h=$n(l):(v&=A,v!==0?h=$n(v):a||(a=A&~t,a!==0&&(h=$n(a))))):(A=l&~d,A!==0?h=$n(A):v!==0?h=$n(v):a||(a=l&~t,a!==0&&(h=$n(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function As(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Vo(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lo(){var t=Es;return Es<<=1,(Es&4194048)===0&&(Es=256),t}function Uo(){var t=Ts;return Ts<<=1,(Ts&62914560)===0&&(Ts=4194304),t}function Pi(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Mi(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function jo(t,r,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,I=t.expirationTimes,F=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-tn(a),ne=1<<X;A[X]=0,I[X]=-1;var $=F[X];if($!==null)for(F[X]=null,X=0;X<$.length;X++){var K=$[X];K!==null&&(K.lane&=-536870913)}a&=~ne}l!==0&&oi(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function oi(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-tn(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Bo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-tn(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function gr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ga(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function _r(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:Ov(t.type))}function xu(t,r){var a=te.p;try{return te.p=t,r()}finally{te.p=a}}var ut=Math.random().toString(36).slice(2),xt="__reactFiber$"+ut,wt="__reactProps$"+ut,kn="__reactContainer$"+ut,zo="__reactEvents$"+ut,bf="__reactListeners$"+ut,yr="__reactHandles$"+ut,Ou="__reactResources$"+ut,bs="__reactMarker$"+ut;function vr(t){delete t[xt],delete t[wt],delete t[zo],delete t[bf],delete t[yr]}function Vi(t){var r=t[xt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[kn]||a[xt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=_v(t);t!==null;){if(a=t[xt])return a;t=_v(t)}return r}t=a,a=t.parentNode}return null}function li(t){if(t=t[xt]||t[kn]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function ui(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function cn(t){var r=t[Ou];return r||(r=t[Ou]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Tt(t){t[bs]=!0}var qo=new Set,_a={};function Kn(t,r){Li(t,r),Li(t+"Capture",r)}function Li(t,r){for(_a[t]=r,t=0;t<r.length;t++)qo.add(r[t])}var ku=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pu={},Ss={};function Mu(t){return xe.call(Ss,t)?!0:xe.call(Pu,t)?!1:ku.test(t)?Ss[t]=!0:(Pu[t]=!0,!1)}function Er(t,r,a){if(Mu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function ci(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Gt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var ws,Vu;function Ui(t){if(ws===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ws=r&&r[1]||"",Vu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ws+t+Vu}var ya=!1;function va(t,r){if(!t||ya)return"";ya=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(K){var $=K}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(K){$=K}t.call(ne.prototype)}}else{try{throw Error()}catch(K){$=K}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(K){if(K&&$&&typeof K.stack=="string")return[K.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],A=d[1];if(v&&A){var I=v.split(`
`),F=A.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===F.length)for(l=I.length-1,h=F.length-1;1<=l&&0<=h&&I[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==F[h]){var X=`
`+I[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{ya=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ui(a):""}function Ho(t){switch(t.tag){case 26:case 27:case 5:return Ui(t.type);case 16:return Ui("Lazy");case 13:return Ui("Suspense");case 19:return Ui("SuspenseList");case 0:case 15:return va(t.type,!1);case 11:return va(t.type.render,!1);case 1:return va(t.type,!0);case 31:return Ui("Activity");default:return""}}function Ea(t){try{var r="";do r+=Ho(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function hn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fo(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Sf(t){var r=Fo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ta(t){t._valueTracker||(t._valueTracker=Sf(t))}function Go(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Fo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Rs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var wf=/[\n"\\]/g;function Rt(t){return t.replace(wf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function An(t,r,a,l,h,d,v,A){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+hn(r)):t.value!==""+hn(r)&&(t.value=""+hn(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?Tr(t,v,hn(r)):a!=null?Tr(t,v,hn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+hn(A):t.removeAttribute("name")}function Cs(t,r,a,l,h,d,v,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+hn(a):"",r=r!=null?""+hn(r):a,A||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Tr(t,r,a){r==="number"&&Rs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ji(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+hn(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Je(t,r,a){if(r!=null&&(r=""+hn(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+hn(a):""}function Is(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(st(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=hn(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Pn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Ns=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lu(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Ns.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function $o(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Lu(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Lu(t,d,r[d])}function Ko(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(t){return Cf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Bi=null;function Mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zi=null,qi=null;function Qo(t){var r=li(t);if(r&&(t=r.stateNode)){var a=t[wt]||null;e:switch(t=r.stateNode,r.type){case"input":if(An(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Rt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[wt]||null;if(!h)throw Error(s(90));An(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Go(l)}break e;case"textarea":Je(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&ji(t,!!a.multiple,r,!1)}}}var hi=!1;function Uu(t,r,a){if(hi)return t(r,a);hi=!0;try{var l=t(r);return l}finally{if(hi=!1,(zi!==null||qi!==null)&&(xc(),zi&&(r=zi,t=qi,qi=zi=null,Qo(r),t)))for(r=0;r<t.length;r++)Qo(t[r])}}function Ds(t,r){var a=t.stateNode;if(a===null)return null;var l=a[wt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vn=!1;if(Qn)try{var xs={};Object.defineProperty(xs,"passive",{get:function(){Vn=!0}}),window.addEventListener("test",xs,xs),window.removeEventListener("test",xs,xs)}catch{Vn=!1}var fi=null,Ar=null,Hi=null;function Yo(){if(Hi)return Hi;var t,r=Ar,a=r.length,l,h="value"in fi?fi.value:fi.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return Hi=h.slice(t,1<l?1-l:void 0)}function di(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function pi(){return!0}function Xo(){return!1}function jt(t){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?pi:Xo,this.isPropagationStopped=Xo,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pi)},persist:function(){},isPersistent:pi}),r}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ba=jt(Ke),Os=E({},Ke,{view:0,detail:0}),ju=jt(Os),Sa,wa,mi,ks=E({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mi&&(mi&&t.type==="mousemove"?(Sa=t.screenX-mi.screenX,wa=t.screenY-mi.screenY):wa=Sa=0,mi=t),Sa)},movementY:function(t){return"movementY"in t?t.movementY:wa}}),Ln=jt(ks),Bu=E({},ks,{dataTransfer:0}),If=jt(Bu),Ps=E({},Os,{relatedTarget:0}),Ra=jt(Ps),Wo=E({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),Ca=jt(Wo),zu=E({},Ke,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ia=jt(zu),Nf=E({},Ke,{data:0}),Zo=jt(Nf),Ms={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Hu[t])?!!r[t]:!1}function Vs(){return Jo}var Fu=E({},Os,{key:function(t){if(t.key){var r=Ms[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=di(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(t){return t.type==="keypress"?di(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?di(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Na=jt(Fu),Gu=E({},ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),el=jt(Gu),Fi=E({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),$u=jt(Fi),Ku=E({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qu=jt(Ku),Yu=E({},ks,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Da=jt(Yu),fn=E({},Ke,{newState:0,oldState:0}),Xu=jt(fn),Wu=[9,13,27,32],gi=Qn&&"CompositionEvent"in window,c=null;Qn&&"documentMode"in document&&(c=document.documentMode);var _=Qn&&"TextEvent"in window&&!c,y=Qn&&(!gi||c&&8<c&&11>=c),S=" ",B=!1;function Q(t,r){switch(t){case"keyup":return Wu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Be=!1;function Ot(t,r){switch(t){case"compositionend":return ae(r);case"keypress":return r.which!==32?null:(B=!0,S);case"textInput":return t=r.data,t===S&&B?null:t;default:return null}}function ze(t,r){if(Be)return t==="compositionend"||!gi&&Q(t,r)?(t=Yo(),Hi=Ar=fi=null,Be=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return y&&r.locale!=="ko"?null:r.data;default:return null}}var Bt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Bt[t.type]:r==="textarea"}function Gi(t,r,a,l){zi?qi?qi.push(l):qi=[l]:zi=l,r=Lc(r,"onChange"),0<r.length&&(a=new ba("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var $t=null,_i=null;function tl(t){ov(t,0)}function Zu(t){var r=ui(t);if(Go(r))return t}function Ig(t,r){if(t==="change")return r}var Ng=!1;if(Qn){var Df;if(Qn){var xf="oninput"in document;if(!xf){var Dg=document.createElement("div");Dg.setAttribute("oninput","return;"),xf=typeof Dg.oninput=="function"}Df=xf}else Df=!1;Ng=Df&&(!document.documentMode||9<document.documentMode)}function xg(){$t&&($t.detachEvent("onpropertychange",Og),_i=$t=null)}function Og(t){if(t.propertyName==="value"&&Zu(_i)){var r=[];Gi(r,_i,t,Mn(t)),Uu(tl,r)}}function Zb(t,r,a){t==="focusin"?(xg(),$t=r,_i=a,$t.attachEvent("onpropertychange",Og)):t==="focusout"&&xg()}function Jb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zu(_i)}function eS(t,r){if(t==="click")return Zu(r)}function tS(t,r){if(t==="input"||t==="change")return Zu(r)}function nS(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var bn=typeof Object.is=="function"?Object.is:nS;function nl(t,r){if(bn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!xe.call(r,h)||!bn(t[h],r[h]))return!1}return!0}function kg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pg(t,r){var a=kg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=kg(a)}}function Mg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Mg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Vg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Rs(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Rs(t.document)}return r}function Of(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var iS=Qn&&"documentMode"in document&&11>=document.documentMode,xa=null,kf=null,il=null,Pf=!1;function Lg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Pf||xa==null||xa!==Rs(l)||(l=xa,"selectionStart"in l&&Of(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),il&&nl(il,l)||(il=l,l=Lc(kf,"onSelect"),0<l.length&&(r=new ba("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=xa)))}function Ls(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Oa={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionrun:Ls("Transition","TransitionRun"),transitionstart:Ls("Transition","TransitionStart"),transitioncancel:Ls("Transition","TransitionCancel"),transitionend:Ls("Transition","TransitionEnd")},Mf={},Ug={};Qn&&(Ug=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Us(t){if(Mf[t])return Mf[t];if(!Oa[t])return t;var r=Oa[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Ug)return Mf[t]=r[a];return t}var jg=Us("animationend"),Bg=Us("animationiteration"),zg=Us("animationstart"),rS=Us("transitionrun"),sS=Us("transitionstart"),aS=Us("transitioncancel"),qg=Us("transitionend"),Hg=new Map,Vf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vf.push("scrollEnd");function Yn(t,r){Hg.set(t,r),Kn(r,[t])}var Fg=new WeakMap;function Un(t,r){if(typeof t=="object"&&t!==null){var a=Fg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Ea(r)},Fg.set(t,r),r)}return{value:t,source:r,stack:Ea(r)}}var jn=[],ka=0,Lf=0;function Ju(){for(var t=ka,r=Lf=ka=0;r<t;){var a=jn[r];jn[r++]=null;var l=jn[r];jn[r++]=null;var h=jn[r];jn[r++]=null;var d=jn[r];if(jn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Gg(a,h,d)}}function ec(t,r,a,l){jn[ka++]=t,jn[ka++]=r,jn[ka++]=a,jn[ka++]=l,Lf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Uf(t,r,a,l){return ec(t,r,a,l),tc(t)}function Pa(t,r){return ec(t,null,null,r),tc(t)}function Gg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-tn(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function tc(t){if(50<Il)throw Il=0,Fd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ma={};function oS(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,r,a,l){return new oS(t,r,a,l)}function jf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $i(t,r){var a=t.alternate;return a===null?(a=Sn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function $g(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function nc(t,r,a,l,h,d){var v=0;if(l=t,typeof t=="function")jf(t)&&(v=1);else if(typeof t=="string")v=uw(t,a,ve.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Sn(31,a,r,h),t.elementType=C,t.lanes=d,t;case D:return js(a.children,h,d,r);case G:v=8,h|=24;break;case L:return t=Sn(12,a,r,h|2),t.elementType=L,t.lanes=d,t;case ce:return t=Sn(13,a,r,h),t.elementType=ce,t.lanes=d,t;case _e:return t=Sn(19,a,r,h),t.elementType=_e,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case H:case Z:v=10;break e;case ee:v=9;break e;case oe:v=11;break e;case P:v=14;break e;case R:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=Sn(v,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function js(t,r,a,l){return t=Sn(7,t,l,r),t.lanes=a,t}function Bf(t,r,a){return t=Sn(6,t,null,r),t.lanes=a,t}function zf(t,r,a){return r=Sn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Va=[],La=0,ic=null,rc=0,Bn=[],zn=0,Bs=null,Ki=1,Qi="";function zs(t,r){Va[La++]=rc,Va[La++]=ic,ic=t,rc=r}function Kg(t,r,a){Bn[zn++]=Ki,Bn[zn++]=Qi,Bn[zn++]=Bs,Bs=t;var l=Ki;t=Qi;var h=32-tn(l)-1;l&=~(1<<h),a+=1;var d=32-tn(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ki=1<<32-tn(r)+h|a<<h|l,Qi=d+t}else Ki=1<<d|a<<h|l,Qi=t}function qf(t){t.return!==null&&(zs(t,1),Kg(t,1,0))}function Hf(t){for(;t===ic;)ic=Va[--La],Va[La]=null,rc=Va[--La],Va[La]=null;for(;t===Bs;)Bs=Bn[--zn],Bn[zn]=null,Qi=Bn[--zn],Bn[zn]=null,Ki=Bn[--zn],Bn[zn]=null}var dn=null,_t=null,$e=!1,qs=null,yi=!1,Ff=Error(s(519));function Hs(t){var r=Error(s(418,""));throw al(Un(r,t)),Ff}function Qg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[xt]=t,r[wt]=l,a){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(a=0;a<Dl.length;a++)Le(Dl[a],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":Le("invalid",r),Cs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ta(r);break;case"select":Le("invalid",r);break;case"textarea":Le("invalid",r),Is(r,l.value,l.defaultValue,l.children),Ta(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||hv(r.textContent,a)?(l.popover!=null&&(Le("beforetoggle",r),Le("toggle",r)),l.onScroll!=null&&Le("scroll",r),l.onScrollEnd!=null&&Le("scrollend",r),l.onClick!=null&&(r.onclick=Uc),r=!0):r=!1,r||Hs(t)}function Yg(t){for(dn=t.return;dn;)switch(dn.tag){case 5:case 13:yi=!1;return;case 27:case 3:yi=!0;return;default:dn=dn.return}}function rl(t){if(t!==dn)return!1;if(!$e)return Yg(t),$e=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||ap(t.type,t.memoizedProps)),a=!a),a&&_t&&Hs(t),Yg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){_t=Wn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}_t=null}}else r===27?(r=_t,Ur(t.type)?(t=cp,cp=null,_t=t):_t=r):_t=dn?Wn(t.stateNode.nextSibling):null;return!0}function sl(){_t=dn=null,$e=!1}function Xg(){var t=qs;return t!==null&&(_n===null?_n=t:_n.push.apply(_n,t),qs=null),t}function al(t){qs===null?qs=[t]:qs.push(t)}var Gf=J(null),Fs=null,Yi=null;function br(t,r,a){se(Gf,r._currentValue),r._currentValue=a}function Xi(t){t._currentValue=Gf.current,ue(Gf)}function $f(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Kf(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=h;for(var I=0;I<r.length;I++)if(A.context===r[I]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),$f(d.return,a,t),l||(v=null);break e}d=A.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),$f(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function ol(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var A=h.type;bn(h.pendingProps.value,v.value)||(t!==null?t.push(A):t=[A])}}else if(h===mt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Vl):t=[Vl])}h=h.return}t!==null&&Kf(r,t,a,l),r.flags|=262144}function sc(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Gs(t){Fs=t,Yi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function nn(t){return Wg(Fs,t)}function ac(t,r){return Fs===null&&Gs(t),Wg(t,r)}function Wg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Yi===null){if(t===null)throw Error(s(308));Yi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Yi=Yi.next=r;return a}var lS=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},uS=i.unstable_scheduleCallback,cS=i.unstable_NormalPriority,Pt={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qf(){return{controller:new lS,data:new Map,refCount:0}}function ll(t){t.refCount--,t.refCount===0&&uS(cS,function(){t.controller.abort()})}var ul=null,Yf=0,Ua=0,ja=null;function hS(t,r){if(ul===null){var a=ul=[];Yf=0,Ua=Wd(),ja={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Yf++,r.then(Zg,Zg),r}function Zg(){if(--Yf===0&&ul!==null){ja!==null&&(ja.status="fulfilled");var t=ul;ul=null,Ua=0,ja=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function fS(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Jg=Y.S;Y.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&hS(t,r),Jg!==null&&Jg(t,r)};var $s=J(null);function Xf(){var t=$s.current;return t!==null?t:at.pooledCache}function oc(t,r){r===null?se($s,$s.current):se($s,r.pool)}function e_(){var t=Xf();return t===null?null:{parent:Pt._currentValue,pool:t}}var cl=Error(s(460)),t_=Error(s(474)),lc=Error(s(542)),Wf={then:function(){}};function n_(t){return t=t.status,t==="fulfilled"||t==="rejected"}function uc(){}function i_(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(uc,uc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,s_(t),t;default:if(typeof r.status=="string")r.then(uc,uc);else{if(t=at,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,s_(t),t}throw hl=r,cl}}var hl=null;function r_(){if(hl===null)throw Error(s(459));var t=hl;return hl=null,t}function s_(t){if(t===cl||t===lc)throw Error(s(483))}var Sr=!1;function Zf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function wr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Rr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Xe&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=tc(t),Gg(t,null,a),r}return ec(t,l,r,a),tc(t)}function fl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Bo(t,a)}}function ed(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var td=!1;function dl(){if(td){var t=ja;if(t!==null)throw t}}function pl(t,r,a,l){td=!1;var h=t.updateQueue;Sr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var I=A,F=I.next;I.next=null,v===null?d=F:v.next=F,v=I;var X=t.alternate;X!==null&&(X=X.updateQueue,A=X.lastBaseUpdate,A!==v&&(A===null?X.firstBaseUpdate=F:A.next=F,X.lastBaseUpdate=I))}if(d!==null){var ne=h.baseState;v=0,X=F=I=null,A=d;do{var $=A.lane&-536870913,K=$!==A.lane;if(K?(qe&$)===$:(l&$)===$){$!==0&&$===Ua&&(td=!0),X!==null&&(X=X.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Re=t,Te=A;$=r;var nt=a;switch(Te.tag){case 1:if(Re=Te.payload,typeof Re=="function"){ne=Re.call(nt,ne,$);break e}ne=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Te.payload,$=typeof Re=="function"?Re.call(nt,ne,$):Re,$==null)break e;ne=E({},ne,$);break e;case 2:Sr=!0}}$=A.callback,$!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[$]:K.push($))}else K={lane:$,tag:A.tag,payload:A.payload,callback:A.callback,next:null},X===null?(F=X=K,I=ne):X=X.next=K,v|=$;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;K=A,A=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);X===null&&(I=ne),h.baseState=I,h.firstBaseUpdate=F,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Pr|=v,t.lanes=v,t.memoizedState=ne}}function a_(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function o_(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)a_(a[t],r)}var Ba=J(null),cc=J(0);function l_(t,r){t=ir,se(cc,t),se(Ba,r),ir=t|r.baseLanes}function nd(){se(cc,ir),se(Ba,Ba.current)}function id(){ir=cc.current,ue(Ba),ue(cc)}var Cr=0,ke=null,et=null,Ct=null,hc=!1,za=!1,Ks=!1,fc=0,ml=0,qa=null,dS=0;function At(){throw Error(s(321))}function rd(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!bn(t[a],r[a]))return!1;return!0}function sd(t,r,a,l,h,d){return Cr=d,ke=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=t===null||t.memoizedState===null?G_:$_,Ks=!1,d=a(l,h),Ks=!1,za&&(d=c_(r,a,l,h)),u_(t),d}function u_(t){Y.H=yc;var r=et!==null&&et.next!==null;if(Cr=0,Ct=et=ke=null,hc=!1,ml=0,qa=null,r)throw Error(s(300));t===null||zt||(t=t.dependencies,t!==null&&sc(t)&&(zt=!0))}function c_(t,r,a,l){ke=t;var h=0;do{if(za&&(qa=null),ml=0,za=!1,25<=h)throw Error(s(301));if(h+=1,Ct=et=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=ES,d=r(a,l)}while(za);return d}function pS(){var t=Y.H,r=t.useState()[0];return r=typeof r.then=="function"?gl(r):r,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(ke.flags|=1024),r}function ad(){var t=fc!==0;return fc=0,t}function od(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function ld(t){if(hc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}hc=!1}Cr=0,Ct=et=ke=null,za=!1,ml=fc=0,qa=null}function mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?ke.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function It(){if(et===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var r=Ct===null?ke.memoizedState:Ct.next;if(r!==null)Ct=r,et=t;else{if(t===null)throw ke.alternate===null?Error(s(467)):Error(s(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Ct===null?ke.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function ud(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(t){var r=ml;return ml+=1,qa===null&&(qa=[]),t=i_(qa,t,r),r=ke,(Ct===null?r.memoizedState:Ct.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?G_:$_),t}function dc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return gl(t);if(t.$$typeof===Z)return nn(t)}throw Error(s(438,String(t)))}function cd(t){var r=null,a=ke.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=ke.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=ud(),ke.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=k;return r.index++,a}function Wi(t,r){return typeof r=="function"?r(t):r}function pc(t){var r=It();return hd(r,et,t)}function hd(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var A=v=null,I=null,F=r,X=!1;do{var ne=F.lane&-536870913;if(ne!==F.lane?(qe&ne)===ne:(Cr&ne)===ne){var $=F.revertLane;if($===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ne===Ua&&(X=!0);else if((Cr&$)===$){F=F.next,$===Ua&&(X=!0);continue}else ne={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(A=I=ne,v=d):I=I.next=ne,ke.lanes|=$,Pr|=$;ne=F.action,Ks&&a(d,ne),d=F.hasEagerState?F.eagerState:a(d,ne)}else $={lane:ne,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(A=I=$,v=d):I=I.next=$,ke.lanes|=ne,Pr|=ne;F=F.next}while(F!==null&&F!==r);if(I===null?v=d:I.next=A,!bn(d,t.memoizedState)&&(zt=!0,X&&(a=ja,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function fd(t){var r=It(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);bn(d,r.memoizedState)||(zt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function h_(t,r,a){var l=ke,h=It(),d=$e;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!bn((et||h).memoizedState,a);v&&(h.memoizedState=a,zt=!0),h=h.queue;var A=p_.bind(null,l,h,t);if(_l(2048,8,A,[t]),h.getSnapshot!==r||v||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,Ha(9,mc(),d_.bind(null,l,h,a,r),null),at===null)throw Error(s(349));d||(Cr&124)!==0||f_(l,r,a)}return a}function f_(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=ke.updateQueue,r===null?(r=ud(),ke.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function d_(t,r,a,l){r.value=a,r.getSnapshot=l,m_(r)&&g_(t)}function p_(t,r,a){return a(function(){m_(r)&&g_(t)})}function m_(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!bn(t,a)}catch{return!0}}function g_(t){var r=Pa(t,2);r!==null&&Nn(r,t,2)}function dd(t){var r=mn();if(typeof t=="function"){var a=t;if(t=a(),Ks){Tn(!0);try{a()}finally{Tn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:t},r}function __(t,r,a,l){return t.baseState=a,hd(t,et,typeof l=="function"?l:Wi)}function mS(t,r,a,l,h){if(_c(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,y_(r,d)):(d.next=a.next,r.pending=a.next=d)}}function y_(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=Y.T,v={};Y.T=v;try{var A=a(h,l),I=Y.S;I!==null&&I(v,A),v_(t,r,A)}catch(F){pd(t,r,F)}finally{Y.T=d}}else try{d=a(h,l),v_(t,r,d)}catch(F){pd(t,r,F)}}function v_(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){E_(t,r,l)},function(l){return pd(t,r,l)}):E_(t,r,a)}function E_(t,r,a){r.status="fulfilled",r.value=a,T_(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,y_(t,a)))}function pd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,T_(r),r=r.next;while(r!==l)}t.action=null}function T_(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function A_(t,r){return r}function b_(t,r){if($e){var a=at.formState;if(a!==null){e:{var l=ke;if($e){if(_t){t:{for(var h=_t,d=yi;h.nodeType!==8;){if(!d){h=null;break t}if(h=Wn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){_t=Wn(h.nextSibling),l=h.data==="F!";break e}}Hs(l)}l=!1}l&&(r=a[0])}}return a=mn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A_,lastRenderedState:r},a.queue=l,a=q_.bind(null,ke,l),l.dispatch=a,l=dd(!1),d=vd.bind(null,ke,!1,l.queue),l=mn(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=mS.bind(null,ke,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function S_(t){var r=It();return w_(r,et,t)}function w_(t,r,a){if(r=hd(t,r,A_)[0],t=pc(Wi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=gl(r)}catch(v){throw v===cl?lc:v}else l=r;r=It();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(ke.flags|=2048,Ha(9,mc(),gS.bind(null,h,a),null)),[l,d,t]}function gS(t,r){t.action=r}function R_(t){var r=It(),a=et;if(a!==null)return w_(r,a,t);It(),r=r.memoizedState,a=It();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Ha(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=ke.updateQueue,r===null&&(r=ud(),ke.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function mc(){return{destroy:void 0,resource:void 0}}function C_(){return It().memoizedState}function gc(t,r,a,l){var h=mn();l=l===void 0?null:l,ke.flags|=t,h.memoizedState=Ha(1|r,mc(),a,l)}function _l(t,r,a,l){var h=It();l=l===void 0?null:l;var d=h.memoizedState.inst;et!==null&&l!==null&&rd(l,et.memoizedState.deps)?h.memoizedState=Ha(r,d,a,l):(ke.flags|=t,h.memoizedState=Ha(1|r,d,a,l))}function I_(t,r){gc(8390656,8,t,r)}function N_(t,r){_l(2048,8,t,r)}function D_(t,r){return _l(4,2,t,r)}function x_(t,r){return _l(4,4,t,r)}function O_(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function k_(t,r,a){a=a!=null?a.concat([t]):null,_l(4,4,O_.bind(null,r,t),a)}function md(){}function P_(t,r){var a=It();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&rd(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function M_(t,r){var a=It();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&rd(r,l[1]))return l[0];if(l=t(),Ks){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[l,r],l}function gd(t,r,a){return a===void 0||(Cr&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=Uy(),ke.lanes|=t,Pr|=t,a)}function V_(t,r,a,l){return bn(a,r)?a:Ba.current!==null?(t=gd(t,a,l),bn(t,r)||(zt=!0),t):(Cr&42)===0?(zt=!0,t.memoizedState=a):(t=Uy(),ke.lanes|=t,Pr|=t,r)}function L_(t,r,a,l,h){var d=te.p;te.p=d!==0&&8>d?d:8;var v=Y.T,A={};Y.T=A,vd(t,!1,r,a);try{var I=h(),F=Y.S;if(F!==null&&F(A,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=fS(I,l);yl(t,r,X,In(t))}else yl(t,r,l,In(t))}catch(ne){yl(t,r,{then:function(){},status:"rejected",reason:ne},In())}finally{te.p=d,Y.T=v}}function _S(){}function _d(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=U_(t).queue;L_(t,h,r,de,a===null?_S:function(){return j_(t),a(l)})}function U_(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:de},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function j_(t){var r=U_(t).next.queue;yl(t,r,{},In())}function yd(){return nn(Vl)}function B_(){return It().memoizedState}function z_(){return It().memoizedState}function yS(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=In();t=wr(a);var l=Rr(r,t,a);l!==null&&(Nn(l,r,a),fl(l,r,a)),r={cache:Qf()},t.payload=r;return}r=r.return}}function vS(t,r,a){var l=In();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},_c(t)?H_(r,a):(a=Uf(t,r,a,l),a!==null&&(Nn(a,t,l),F_(a,r,l)))}function q_(t,r,a){var l=In();yl(t,r,a,l)}function yl(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(_c(t))H_(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,A=d(v,a);if(h.hasEagerState=!0,h.eagerState=A,bn(A,v))return ec(t,r,h,0),at===null&&Ju(),!1}catch{}finally{}if(a=Uf(t,r,h,l),a!==null)return Nn(a,t,l),F_(a,r,l),!0}return!1}function vd(t,r,a,l){if(l={lane:2,revertLane:Wd(),action:l,hasEagerState:!1,eagerState:null,next:null},_c(t)){if(r)throw Error(s(479))}else r=Uf(t,a,l,2),r!==null&&Nn(r,t,2)}function _c(t){var r=t.alternate;return t===ke||r!==null&&r===ke}function H_(t,r){za=hc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function F_(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Bo(t,a)}}var yc={readContext:nn,use:dc,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At},G_={readContext:nn,use:dc,useCallback:function(t,r){return mn().memoizedState=[t,r===void 0?null:r],t},useContext:nn,useEffect:I_,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,gc(4194308,4,O_.bind(null,r,t),a)},useLayoutEffect:function(t,r){return gc(4194308,4,t,r)},useInsertionEffect:function(t,r){gc(4,2,t,r)},useMemo:function(t,r){var a=mn();r=r===void 0?null:r;var l=t();if(Ks){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=mn();if(a!==void 0){var h=a(r);if(Ks){Tn(!0);try{a(r)}finally{Tn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=vS.bind(null,ke,t),[l.memoizedState,t]},useRef:function(t){var r=mn();return t={current:t},r.memoizedState=t},useState:function(t){t=dd(t);var r=t.queue,a=q_.bind(null,ke,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:md,useDeferredValue:function(t,r){var a=mn();return gd(a,t,r)},useTransition:function(){var t=dd(!1);return t=L_.bind(null,ke,t.queue,!0,!1),mn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=ke,h=mn();if($e){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),at===null)throw Error(s(349));(qe&124)!==0||f_(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,I_(p_.bind(null,l,d,t),[t]),l.flags|=2048,Ha(9,mc(),d_.bind(null,l,d,a,r),null),a},useId:function(){var t=mn(),r=at.identifierPrefix;if($e){var a=Qi,l=Ki;a=(l&~(1<<32-tn(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=fc++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=dS++,r="«"+r+"r"+a.toString(32)+"»";return t.memoizedState=r},useHostTransitionStatus:yd,useFormState:b_,useActionState:b_,useOptimistic:function(t){var r=mn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=vd.bind(null,ke,!0,a),a.dispatch=r,[t,r]},useMemoCache:cd,useCacheRefresh:function(){return mn().memoizedState=yS.bind(null,ke)}},$_={readContext:nn,use:dc,useCallback:P_,useContext:nn,useEffect:N_,useImperativeHandle:k_,useInsertionEffect:D_,useLayoutEffect:x_,useMemo:M_,useReducer:pc,useRef:C_,useState:function(){return pc(Wi)},useDebugValue:md,useDeferredValue:function(t,r){var a=It();return V_(a,et.memoizedState,t,r)},useTransition:function(){var t=pc(Wi)[0],r=It().memoizedState;return[typeof t=="boolean"?t:gl(t),r]},useSyncExternalStore:h_,useId:B_,useHostTransitionStatus:yd,useFormState:S_,useActionState:S_,useOptimistic:function(t,r){var a=It();return __(a,et,t,r)},useMemoCache:cd,useCacheRefresh:z_},ES={readContext:nn,use:dc,useCallback:P_,useContext:nn,useEffect:N_,useImperativeHandle:k_,useInsertionEffect:D_,useLayoutEffect:x_,useMemo:M_,useReducer:fd,useRef:C_,useState:function(){return fd(Wi)},useDebugValue:md,useDeferredValue:function(t,r){var a=It();return et===null?gd(a,t,r):V_(a,et.memoizedState,t,r)},useTransition:function(){var t=fd(Wi)[0],r=It().memoizedState;return[typeof t=="boolean"?t:gl(t),r]},useSyncExternalStore:h_,useId:B_,useHostTransitionStatus:yd,useFormState:R_,useActionState:R_,useOptimistic:function(t,r){var a=It();return et!==null?__(a,et,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:cd,useCacheRefresh:z_},Fa=null,vl=0;function vc(t){var r=vl;return vl+=1,Fa===null&&(Fa=[]),i_(Fa,t,r)}function El(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Ec(t,r){throw r.$$typeof===b?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function K_(t){var r=t._init;return r(t._payload)}function Q_(t){function r(j,M){if(t){var q=j.deletions;q===null?(j.deletions=[M],j.flags|=16):q.push(M)}}function a(j,M){if(!t)return null;for(;M!==null;)r(j,M),M=M.sibling;return null}function l(j){for(var M=new Map;j!==null;)j.key!==null?M.set(j.key,j):M.set(j.index,j),j=j.sibling;return M}function h(j,M){return j=$i(j,M),j.index=0,j.sibling=null,j}function d(j,M,q){return j.index=q,t?(q=j.alternate,q!==null?(q=q.index,q<M?(j.flags|=67108866,M):q):(j.flags|=67108866,M)):(j.flags|=1048576,M)}function v(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function A(j,M,q,W){return M===null||M.tag!==6?(M=Bf(q,j.mode,W),M.return=j,M):(M=h(M,q),M.return=j,M)}function I(j,M,q,W){var ge=q.type;return ge===D?X(j,M,q.props.children,W,q.key):M!==null&&(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===R&&K_(ge)===M.type)?(M=h(M,q.props),El(M,q),M.return=j,M):(M=nc(q.type,q.key,q.props,null,j.mode,W),El(M,q),M.return=j,M)}function F(j,M,q,W){return M===null||M.tag!==4||M.stateNode.containerInfo!==q.containerInfo||M.stateNode.implementation!==q.implementation?(M=zf(q,j.mode,W),M.return=j,M):(M=h(M,q.children||[]),M.return=j,M)}function X(j,M,q,W,ge){return M===null||M.tag!==7?(M=js(q,j.mode,W,ge),M.return=j,M):(M=h(M,q),M.return=j,M)}function ne(j,M,q){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Bf(""+M,j.mode,q),M.return=j,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case T:return q=nc(M.type,M.key,M.props,null,j.mode,q),El(q,M),q.return=j,q;case x:return M=zf(M,j.mode,q),M.return=j,M;case R:var W=M._init;return M=W(M._payload),ne(j,M,q)}if(st(M)||U(M))return M=js(M,j.mode,q,null),M.return=j,M;if(typeof M.then=="function")return ne(j,vc(M),q);if(M.$$typeof===Z)return ne(j,ac(j,M),q);Ec(j,M)}return null}function $(j,M,q,W){var ge=M!==null?M.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ge!==null?null:A(j,M,""+q,W);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case T:return q.key===ge?I(j,M,q,W):null;case x:return q.key===ge?F(j,M,q,W):null;case R:return ge=q._init,q=ge(q._payload),$(j,M,q,W)}if(st(q)||U(q))return ge!==null?null:X(j,M,q,W,null);if(typeof q.then=="function")return $(j,M,vc(q),W);if(q.$$typeof===Z)return $(j,M,ac(j,q),W);Ec(j,q)}return null}function K(j,M,q,W,ge){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return j=j.get(q)||null,A(M,j,""+W,ge);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case T:return j=j.get(W.key===null?q:W.key)||null,I(M,j,W,ge);case x:return j=j.get(W.key===null?q:W.key)||null,F(M,j,W,ge);case R:var Me=W._init;return W=Me(W._payload),K(j,M,q,W,ge)}if(st(W)||U(W))return j=j.get(q)||null,X(M,j,W,ge,null);if(typeof W.then=="function")return K(j,M,q,vc(W),ge);if(W.$$typeof===Z)return K(j,M,q,ac(M,W),ge);Ec(M,W)}return null}function Re(j,M,q,W){for(var ge=null,Me=null,ye=M,Ae=M=0,Ht=null;ye!==null&&Ae<q.length;Ae++){ye.index>Ae?(Ht=ye,ye=null):Ht=ye.sibling;var Ge=$(j,ye,q[Ae],W);if(Ge===null){ye===null&&(ye=Ht);break}t&&ye&&Ge.alternate===null&&r(j,ye),M=d(Ge,M,Ae),Me===null?ge=Ge:Me.sibling=Ge,Me=Ge,ye=Ht}if(Ae===q.length)return a(j,ye),$e&&zs(j,Ae),ge;if(ye===null){for(;Ae<q.length;Ae++)ye=ne(j,q[Ae],W),ye!==null&&(M=d(ye,M,Ae),Me===null?ge=ye:Me.sibling=ye,Me=ye);return $e&&zs(j,Ae),ge}for(ye=l(ye);Ae<q.length;Ae++)Ht=K(ye,j,Ae,q[Ae],W),Ht!==null&&(t&&Ht.alternate!==null&&ye.delete(Ht.key===null?Ae:Ht.key),M=d(Ht,M,Ae),Me===null?ge=Ht:Me.sibling=Ht,Me=Ht);return t&&ye.forEach(function(Hr){return r(j,Hr)}),$e&&zs(j,Ae),ge}function Te(j,M,q,W){if(q==null)throw Error(s(151));for(var ge=null,Me=null,ye=M,Ae=M=0,Ht=null,Ge=q.next();ye!==null&&!Ge.done;Ae++,Ge=q.next()){ye.index>Ae?(Ht=ye,ye=null):Ht=ye.sibling;var Hr=$(j,ye,Ge.value,W);if(Hr===null){ye===null&&(ye=Ht);break}t&&ye&&Hr.alternate===null&&r(j,ye),M=d(Hr,M,Ae),Me===null?ge=Hr:Me.sibling=Hr,Me=Hr,ye=Ht}if(Ge.done)return a(j,ye),$e&&zs(j,Ae),ge;if(ye===null){for(;!Ge.done;Ae++,Ge=q.next())Ge=ne(j,Ge.value,W),Ge!==null&&(M=d(Ge,M,Ae),Me===null?ge=Ge:Me.sibling=Ge,Me=Ge);return $e&&zs(j,Ae),ge}for(ye=l(ye);!Ge.done;Ae++,Ge=q.next())Ge=K(ye,j,Ae,Ge.value,W),Ge!==null&&(t&&Ge.alternate!==null&&ye.delete(Ge.key===null?Ae:Ge.key),M=d(Ge,M,Ae),Me===null?ge=Ge:Me.sibling=Ge,Me=Ge);return t&&ye.forEach(function(Tw){return r(j,Tw)}),$e&&zs(j,Ae),ge}function nt(j,M,q,W){if(typeof q=="object"&&q!==null&&q.type===D&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case T:e:{for(var ge=q.key;M!==null;){if(M.key===ge){if(ge=q.type,ge===D){if(M.tag===7){a(j,M.sibling),W=h(M,q.props.children),W.return=j,j=W;break e}}else if(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===R&&K_(ge)===M.type){a(j,M.sibling),W=h(M,q.props),El(W,q),W.return=j,j=W;break e}a(j,M);break}else r(j,M);M=M.sibling}q.type===D?(W=js(q.props.children,j.mode,W,q.key),W.return=j,j=W):(W=nc(q.type,q.key,q.props,null,j.mode,W),El(W,q),W.return=j,j=W)}return v(j);case x:e:{for(ge=q.key;M!==null;){if(M.key===ge)if(M.tag===4&&M.stateNode.containerInfo===q.containerInfo&&M.stateNode.implementation===q.implementation){a(j,M.sibling),W=h(M,q.children||[]),W.return=j,j=W;break e}else{a(j,M);break}else r(j,M);M=M.sibling}W=zf(q,j.mode,W),W.return=j,j=W}return v(j);case R:return ge=q._init,q=ge(q._payload),nt(j,M,q,W)}if(st(q))return Re(j,M,q,W);if(U(q)){if(ge=U(q),typeof ge!="function")throw Error(s(150));return q=ge.call(q),Te(j,M,q,W)}if(typeof q.then=="function")return nt(j,M,vc(q),W);if(q.$$typeof===Z)return nt(j,M,ac(j,q),W);Ec(j,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,M!==null&&M.tag===6?(a(j,M.sibling),W=h(M,q),W.return=j,j=W):(a(j,M),W=Bf(q,j.mode,W),W.return=j,j=W),v(j)):a(j,M)}return function(j,M,q,W){try{vl=0;var ge=nt(j,M,q,W);return Fa=null,ge}catch(ye){if(ye===cl||ye===lc)throw ye;var Me=Sn(29,ye,null,j.mode);return Me.lanes=W,Me.return=j,Me}finally{}}}var Ga=Q_(!0),Y_=Q_(!1),qn=J(null),vi=null;function Ir(t){var r=t.alternate;se(Mt,Mt.current&1),se(qn,t),vi===null&&(r===null||Ba.current!==null||r.memoizedState!==null)&&(vi=t)}function X_(t){if(t.tag===22){if(se(Mt,Mt.current),se(qn,t),vi===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(vi=t)}}else Nr()}function Nr(){se(Mt,Mt.current),se(qn,qn.current)}function Zi(t){ue(qn),vi===t&&(vi=null),ue(Mt)}var Mt=J(0);function Tc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||up(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Ed(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Td={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=In(),h=wr(l);h.payload=r,a!=null&&(h.callback=a),r=Rr(t,h,l),r!==null&&(Nn(r,t,l),fl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=In(),h=wr(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Rr(t,h,l),r!==null&&(Nn(r,t,l),fl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=In(),l=wr(a);l.tag=2,r!=null&&(l.callback=r),r=Rr(t,l,a),r!==null&&(Nn(r,t,a),fl(r,t,a))}};function W_(t,r,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!nl(a,l)||!nl(h,d):!0}function Z_(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Td.enqueueReplaceState(r,r.state,null)}function Qs(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Ac=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function J_(t){Ac(t)}function ey(t){console.error(t)}function ty(t){Ac(t)}function bc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function ny(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ad(t,r,a){return a=wr(a),a.tag=3,a.payload={element:null},a.callback=function(){bc(t,r)},a}function iy(t){return t=wr(t),t.tag=3,t}function ry(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){ny(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){ny(r,a,l),typeof h!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function TS(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&ol(r,a,h,!0),a=qn.current,a!==null){switch(a.tag){case 13:return vi===null?$d():a.alternate===null&&yt===0&&(yt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Wf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Qd(t,l,h)),!1;case 22:return a.flags|=65536,l===Wf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Qd(t,l,h)),!1}throw Error(s(435,a.tag))}return Qd(t,l,h),$d(),!1}if($e)return r=qn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Ff&&(t=Error(s(422),{cause:l}),al(Un(t,a)))):(l!==Ff&&(r=Error(s(423),{cause:l}),al(Un(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Un(l,a),h=Ad(t.stateNode,l,h),ed(t,h),yt!==4&&(yt=2)),!1;var d=Error(s(520),{cause:l});if(d=Un(d,a),Cl===null?Cl=[d]:Cl.push(d),yt!==4&&(yt=2),r===null)return!0;l=Un(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Ad(a.stateNode,l,t),ed(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Mr===null||!Mr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=iy(h),ry(h,t,a,l),ed(a,h),!1}a=a.return}while(a!==null);return!1}var sy=Error(s(461)),zt=!1;function Kt(t,r,a,l){r.child=t===null?Y_(r,null,a,l):Ga(r,t.child,a,l)}function ay(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var A in l)A!=="ref"&&(v[A]=l[A])}else v=l;return Gs(r),l=sd(t,r,a,v,d,h),A=ad(),t!==null&&!zt?(od(t,r,h),Ji(t,r,h)):($e&&A&&qf(r),r.flags|=1,Kt(t,r,l,h),r.child)}function oy(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!jf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,ly(t,r,d,l,h)):(t=nc(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Dd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:nl,a(v,l)&&t.ref===r.ref)return Ji(t,r,h)}return r.flags|=1,t=$i(d,l),t.ref=r.ref,t.return=r,r.child=t}function ly(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(nl(d,l)&&t.ref===r.ref)if(zt=!1,r.pendingProps=l=d,Dd(t,h))(t.flags&131072)!==0&&(zt=!0);else return r.lanes=t.lanes,Ji(t,r,h)}return bd(t,r,a,l,h)}function uy(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return cy(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&oc(r,d!==null?d.cachePool:null),d!==null?l_(r,d):nd(),X_(r);else return r.lanes=r.childLanes=536870912,cy(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(oc(r,d.cachePool),l_(r,d),Nr(),r.memoizedState=null):(t!==null&&oc(r,null),nd(),Nr());return Kt(t,r,h,a),r.child}function cy(t,r,a,l){var h=Xf();return h=h===null?null:{parent:Pt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&oc(r,null),nd(),X_(r),t!==null&&ol(t,r,l,!0),null}function Sc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function bd(t,r,a,l,h){return Gs(r),a=sd(t,r,a,l,void 0,h),l=ad(),t!==null&&!zt?(od(t,r,h),Ji(t,r,h)):($e&&l&&qf(r),r.flags|=1,Kt(t,r,a,h),r.child)}function hy(t,r,a,l,h,d){return Gs(r),r.updateQueue=null,a=c_(r,l,a,h),u_(t),l=ad(),t!==null&&!zt?(od(t,r,d),Ji(t,r,d)):($e&&l&&qf(r),r.flags|=1,Kt(t,r,a,d),r.child)}function fy(t,r,a,l,h){if(Gs(r),r.stateNode===null){var d=Ma,v=a.contextType;typeof v=="object"&&v!==null&&(d=nn(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Td,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Zf(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?nn(v):Ma,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Ed(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Td.enqueueReplaceState(d,d.state,null),pl(r,l,d,h),dl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var A=r.memoizedProps,I=Qs(a,A);d.props=I;var F=d.context,X=a.contextType;v=Ma,typeof X=="object"&&X!==null&&(v=nn(X));var ne=a.getDerivedStateFromProps;X=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||F!==v)&&Z_(r,d,l,v),Sr=!1;var $=r.memoizedState;d.state=$,pl(r,l,d,h),dl(),F=r.memoizedState,A||$!==F||Sr?(typeof ne=="function"&&(Ed(r,a,ne,l),F=r.memoizedState),(I=Sr||W_(r,a,I,l,$,F,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),d.props=l,d.state=F,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Jf(t,r),v=r.memoizedProps,X=Qs(a,v),d.props=X,ne=r.pendingProps,$=d.context,F=a.contextType,I=Ma,typeof F=="object"&&F!==null&&(I=nn(F)),A=a.getDerivedStateFromProps,(F=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ne||$!==I)&&Z_(r,d,l,I),Sr=!1,$=r.memoizedState,d.state=$,pl(r,l,d,h),dl();var K=r.memoizedState;v!==ne||$!==K||Sr||t!==null&&t.dependencies!==null&&sc(t.dependencies)?(typeof A=="function"&&(Ed(r,a,A,l),K=r.memoizedState),(X=Sr||W_(r,a,X,l,$,K,I)||t!==null&&t.dependencies!==null&&sc(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&$===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&$===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),d.props=l,d.state=K,d.context=I,l=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&$===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&$===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Sc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Ga(r,t.child,null,h),r.child=Ga(r,null,a,h)):Kt(t,r,a,h),r.memoizedState=d.state,t=r.child):t=Ji(t,r,h),t}function dy(t,r,a,l){return sl(),r.flags|=256,Kt(t,r,a,l),r.child}var Sd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wd(t){return{baseLanes:t,cachePool:e_()}}function Rd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Hn),t}function py(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Mt.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if($e){if(h?Ir(r):Nr(),$e){var A=_t,I;if(I=A){e:{for(I=A,A=yi;I.nodeType!==8;){if(!A){A=null;break e}if(I=Wn(I.nextSibling),I===null){A=null;break e}}A=I}A!==null?(r.memoizedState={dehydrated:A,treeContext:Bs!==null?{id:Ki,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},I=Sn(18,null,null,0),I.stateNode=A,I.return=r,r.child=I,dn=r,_t=null,I=!0):I=!1}I||Hs(r)}if(A=r.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return up(A)?r.lanes=32:r.lanes=536870912,null;Zi(r)}return A=l.children,l=l.fallback,h?(Nr(),h=r.mode,A=wc({mode:"hidden",children:A},h),l=js(l,h,a,null),A.return=r,l.return=r,A.sibling=l,r.child=A,h=r.child,h.memoizedState=wd(a),h.childLanes=Rd(t,v,a),r.memoizedState=Sd,l):(Ir(r),Cd(r,A))}if(I=t.memoizedState,I!==null&&(A=I.dehydrated,A!==null)){if(d)r.flags&256?(Ir(r),r.flags&=-257,r=Id(t,r,a)):r.memoizedState!==null?(Nr(),r.child=t.child,r.flags|=128,r=null):(Nr(),h=l.fallback,A=r.mode,l=wc({mode:"visible",children:l.children},A),h=js(h,A,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Ga(r,t.child,null,a),l=r.child,l.memoizedState=wd(a),l.childLanes=Rd(t,v,a),r.memoizedState=Sd,r=h);else if(Ir(r),up(A)){if(v=A.nextSibling&&A.nextSibling.dataset,v)var F=v.dgst;v=F,l=Error(s(419)),l.stack="",l.digest=v,al({value:l,source:null,stack:null}),r=Id(t,r,a)}else if(zt||ol(t,r,a,!1),v=(a&t.childLanes)!==0,zt||v){if(v=at,v!==null&&(l=a&-a,l=(l&42)!==0?1:gr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Pa(t,l),Nn(v,t,l),sy;A.data==="$?"||$d(),r=Id(t,r,a)}else A.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=I.treeContext,_t=Wn(A.nextSibling),dn=r,$e=!0,qs=null,yi=!1,t!==null&&(Bn[zn++]=Ki,Bn[zn++]=Qi,Bn[zn++]=Bs,Ki=t.id,Qi=t.overflow,Bs=r),r=Cd(r,l.children),r.flags|=4096);return r}return h?(Nr(),h=l.fallback,A=r.mode,I=t.child,F=I.sibling,l=$i(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,F!==null?h=$i(F,h):(h=js(h,A,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,A=t.child.memoizedState,A===null?A=wd(a):(I=A.cachePool,I!==null?(F=Pt._currentValue,I=I.parent!==F?{parent:F,pool:F}:I):I=e_(),A={baseLanes:A.baseLanes|a,cachePool:I}),h.memoizedState=A,h.childLanes=Rd(t,v,a),r.memoizedState=Sd,l):(Ir(r),a=t.child,t=a.sibling,a=$i(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function Cd(t,r){return r=wc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function wc(t,r){return t=Sn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Id(t,r,a){return Ga(r,t.child,null,a),t=Cd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function my(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),$f(t.return,r,a)}function Nd(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function gy(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(Kt(t,r,l.children,a),l=Mt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&my(t,a,r);else if(t.tag===19)my(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(se(Mt,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&Tc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),Nd(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Tc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Nd(r,!0,a,null,d);break;case"together":Nd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Ji(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Pr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(ol(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=$i(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=$i(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Dd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&sc(t)))}function AS(t,r,a){switch(r.tag){case 3:Ze(r,r.stateNode.containerInfo),br(r,Pt,t.memoizedState.cache),sl();break;case 27:case 5:me(r);break;case 4:Ze(r,r.stateNode.containerInfo);break;case 10:br(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ir(r),r.flags|=128,null):(a&r.child.childLanes)!==0?py(t,r,a):(Ir(r),t=Ji(t,r,a),t!==null?t.sibling:null);Ir(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(ol(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return gy(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(Mt,Mt.current),l)break;return null;case 22:case 23:return r.lanes=0,uy(t,r,a);case 24:br(r,Pt,t.memoizedState.cache)}return Ji(t,r,a)}function _y(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)zt=!0;else{if(!Dd(t,a)&&(r.flags&128)===0)return zt=!1,AS(t,r,a);zt=(t.flags&131072)!==0}else zt=!1,$e&&(r.flags&1048576)!==0&&Kg(r,rc,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")jf(l)?(t=Qs(l,t),r.tag=1,r=fy(null,r,l,t,a)):(r.tag=0,r=bd(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===oe){r.tag=11,r=ay(null,r,l,t,a);break e}else if(h===P){r.tag=14,r=oy(null,r,l,t,a);break e}}throw r=pt(l)||l,Error(s(306,r,""))}}return r;case 0:return bd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Qs(l,r.pendingProps),fy(t,r,l,h,a);case 3:e:{if(Ze(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Jf(t,r),pl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,br(r,Pt,l),l!==d.cache&&Kf(r,[Pt],a,!0),dl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=dy(t,r,l,a);break e}else if(l!==h){h=Un(Error(s(424)),r),al(h),r=dy(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(_t=Wn(t.firstChild),dn=r,$e=!0,qs=null,yi=!0,a=Y_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(sl(),l===h){r=Ji(t,r,a);break e}Kt(t,r,l,a)}r=r.child}return r;case 26:return Sc(t,r),t===null?(a=Tv(r.type,null,r.pendingProps,null))?r.memoizedState=a:$e||(a=r.type,t=r.pendingProps,l=jc(we.current).createElement(a),l[xt]=r,l[wt]=t,Yt(l,a,t),Tt(l),r.stateNode=l):r.memoizedState=Tv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return me(r),t===null&&$e&&(l=r.stateNode=yv(r.type,r.pendingProps,we.current),dn=r,yi=!0,h=_t,Ur(r.type)?(cp=h,_t=Wn(l.firstChild)):_t=h),Kt(t,r,r.pendingProps.children,a),Sc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&$e&&((h=l=_t)&&(l=XS(l,r.type,r.pendingProps,yi),l!==null?(r.stateNode=l,dn=r,_t=Wn(l.firstChild),yi=!1,h=!0):h=!1),h||Hs(r)),me(r),h=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,ap(h,d)?l=null:v!==null&&ap(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=sd(t,r,pS,null,null,a),Vl._currentValue=h),Sc(t,r),Kt(t,r,l,a),r.child;case 6:return t===null&&$e&&((t=a=_t)&&(a=WS(a,r.pendingProps,yi),a!==null?(r.stateNode=a,dn=r,_t=null,t=!0):t=!1),t||Hs(r)),null;case 13:return py(t,r,a);case 4:return Ze(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Ga(r,null,l,a):Kt(t,r,l,a),r.child;case 11:return ay(t,r,r.type,r.pendingProps,a);case 7:return Kt(t,r,r.pendingProps,a),r.child;case 8:return Kt(t,r,r.pendingProps.children,a),r.child;case 12:return Kt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,br(r,r.type,l.value),Kt(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Gs(r),h=nn(h),l=l(h),r.flags|=1,Kt(t,r,l,a),r.child;case 14:return oy(t,r,r.type,r.pendingProps,a);case 15:return ly(t,r,r.type,r.pendingProps,a);case 19:return gy(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=wc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=$i(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return uy(t,r,a);case 24:return Gs(r),l=nn(Pt),t===null?(h=Xf(),h===null&&(h=at,d=Qf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Zf(r),br(r,Pt,h)):((t.lanes&a)!==0&&(Jf(t,r),pl(r,null,null,a),dl()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),br(r,Pt,l)):(l=d.cache,br(r,Pt,l),l!==h.cache&&Kf(r,[Pt],a,!0))),Kt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function er(t){t.flags|=4}function yy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Rv(r)){if(r=qn.current,r!==null&&((qe&4194048)===qe?vi!==null:(qe&62914560)!==qe&&(qe&536870912)===0||r!==vi))throw hl=Wf,t_;t.flags|=8192}}function Rc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Uo():536870912,t.lanes|=r,Ya|=r)}function Tl(t,r){if(!$e)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ft(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function bS(t,r,a){var l=r.pendingProps;switch(Hf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(r),null;case 1:return ft(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Xi(Pt),le(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(rl(r)?er(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Xg())),ft(r),null;case 26:return a=r.memoizedState,t===null?(er(r),a!==null?(ft(r),yy(r,a)):(ft(r),r.flags&=-16777217)):a?a!==t.memoizedState?(er(r),ft(r),yy(r,a)):(ft(r),r.flags&=-16777217):(t.memoizedProps!==l&&er(r),ft(r),r.flags&=-16777217),null;case 27:he(r),a=we.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&er(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ft(r),null}t=ve.current,rl(r)?Qg(r):(t=yv(h,l,a),r.stateNode=t,er(r))}return ft(r),null;case 5:if(he(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&er(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ft(r),null}if(t=ve.current,rl(r))Qg(r);else{switch(h=jc(we.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[xt]=r,t[wt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(Yt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&er(r)}}return ft(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&er(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=we.current,rl(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=dn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[xt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||hv(t.nodeValue,a)),t||Hs(r)}else t=jc(t).createTextNode(l),t[xt]=r,r.stateNode=t}return ft(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=rl(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[xt]=r}else sl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ft(r),h=!1}else h=Xg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Zi(r),r):(Zi(r),null)}if(Zi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),Rc(r,r.updateQueue),ft(r),null;case 4:return le(),t===null&&tp(r.stateNode.containerInfo),ft(r),null;case 10:return Xi(r.type),ft(r),null;case 19:if(ue(Mt),h=r.memoizedState,h===null)return ft(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)Tl(h,!1);else{if(yt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=Tc(t),d!==null){for(r.flags|=128,Tl(h,!1),t=d.updateQueue,r.updateQueue=t,Rc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)$g(a,t),a=a.sibling;return se(Mt,Mt.current&1|2),r.child}t=t.sibling}h.tail!==null&&On()>Nc&&(r.flags|=128,l=!0,Tl(h,!1),r.lanes=4194304)}else{if(!l)if(t=Tc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,Rc(r,t),Tl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!$e)return ft(r),null}else 2*On()-h.renderingStartTime>Nc&&a!==536870912&&(r.flags|=128,l=!0,Tl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=On(),r.sibling=null,t=Mt.current,se(Mt,l?t&1|2:t&1),r):(ft(r),null);case 22:case 23:return Zi(r),id(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ft(r),r.subtreeFlags&6&&(r.flags|=8192)):ft(r),a=r.updateQueue,a!==null&&Rc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&ue($s),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Xi(Pt),ft(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function SS(t,r){switch(Hf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Xi(Pt),le(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return he(r),null;case 13:if(Zi(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));sl()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ue(Mt),null;case 4:return le(),null;case 10:return Xi(r.type),null;case 22:case 23:return Zi(r),id(),t!==null&&ue($s),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Xi(Pt),null;case 25:return null;default:return null}}function vy(t,r){switch(Hf(r),r.tag){case 3:Xi(Pt),le();break;case 26:case 27:case 5:he(r);break;case 4:le();break;case 13:Zi(r);break;case 19:ue(Mt);break;case 10:Xi(r.type);break;case 22:case 23:Zi(r),id(),t!==null&&ue($s);break;case 24:Xi(Pt)}}function Al(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(A){it(r,r.return,A)}}function Dr(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,A=v.destroy;if(A!==void 0){v.destroy=void 0,h=r;var I=a,F=A;try{F()}catch(X){it(h,I,X)}}}l=l.next}while(l!==d)}}catch(X){it(r,r.return,X)}}function Ey(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{o_(r,a)}catch(l){it(t,t.return,l)}}}function Ty(t,r,a){a.props=Qs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){it(t,r,l)}}function bl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){it(t,r,h)}}function Ei(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){it(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){it(t,r,h)}else a.current=null}function Ay(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){it(t,t.return,h)}}function xd(t,r,a){try{var l=t.stateNode;GS(l,t.type,a,r),l[wt]=r}catch(h){it(t,t.return,h)}}function by(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ur(t.type)||t.tag===4}function Od(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||by(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ur(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Uc));else if(l!==4&&(l===27&&Ur(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(kd(t,r,a),t=t.sibling;t!==null;)kd(t,r,a),t=t.sibling}function Cc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Ur(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Cc(t,r,a),t=t.sibling;t!==null;)Cc(t,r,a),t=t.sibling}function Sy(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Yt(r,l,a),r[xt]=t,r[wt]=a}catch(d){it(t,t.return,d)}}var tr=!1,bt=!1,Pd=!1,wy=typeof WeakSet=="function"?WeakSet:Set,qt=null;function wS(t,r){if(t=t.containerInfo,rp=Gc,t=Vg(t),Of(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,A=-1,I=-1,F=0,X=0,ne=t,$=null;t:for(;;){for(var K;ne!==a||h!==0&&ne.nodeType!==3||(A=v+h),ne!==d||l!==0&&ne.nodeType!==3||(I=v+l),ne.nodeType===3&&(v+=ne.nodeValue.length),(K=ne.firstChild)!==null;)$=ne,ne=K;for(;;){if(ne===t)break t;if($===a&&++F===h&&(A=v),$===d&&++X===l&&(I=v),(K=ne.nextSibling)!==null)break;ne=$,$=ne.parentNode}ne=K}a=A===-1||I===-1?null:{start:A,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(sp={focusedElem:t,selectionRange:a},Gc=!1,qt=r;qt!==null;)if(r=qt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,qt=t;else for(;qt!==null;){switch(r=qt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Re=Qs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Re,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Te){it(a,a.return,Te)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)lp(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":lp(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,qt=t;break}qt=r.return}}function Ry(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:xr(t,a),l&4&&Al(5,a);break;case 1:if(xr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){it(a,a.return,v)}else{var h=Qs(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){it(a,a.return,v)}}l&64&&Ey(a),l&512&&bl(a,a.return);break;case 3:if(xr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{o_(t,r)}catch(v){it(a,a.return,v)}}break;case 27:r===null&&l&4&&Sy(a);case 26:case 5:xr(t,a),r===null&&l&4&&Ay(a),l&512&&bl(a,a.return);break;case 12:xr(t,a);break;case 13:xr(t,a),l&4&&Ny(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=PS.bind(null,a),ZS(t,a))));break;case 22:if(l=a.memoizedState!==null||tr,!l){r=r!==null&&r.memoizedState!==null||bt,h=tr;var d=bt;tr=l,(bt=r)&&!d?Or(t,a,(a.subtreeFlags&8772)!==0):xr(t,a),tr=h,bt=d}break;case 30:break;default:xr(t,a)}}function Cy(t){var r=t.alternate;r!==null&&(t.alternate=null,Cy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&vr(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,gn=!1;function nr(t,r,a){for(a=a.child;a!==null;)Iy(t,r,a),a=a.sibling}function Iy(t,r,a){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(gt,a)}catch{}switch(a.tag){case 26:bt||Ei(a,r),nr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:bt||Ei(a,r);var l=ct,h=gn;Ur(a.type)&&(ct=a.stateNode,gn=!1),nr(t,r,a),Ol(a.stateNode),ct=l,gn=h;break;case 5:bt||Ei(a,r);case 6:if(l=ct,h=gn,ct=null,nr(t,r,a),ct=l,gn=h,ct!==null)if(gn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){it(a,r,d)}else try{ct.removeChild(a.stateNode)}catch(d){it(a,r,d)}break;case 18:ct!==null&&(gn?(t=ct,gv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Bl(t)):gv(ct,a.stateNode));break;case 4:l=ct,h=gn,ct=a.stateNode.containerInfo,gn=!0,nr(t,r,a),ct=l,gn=h;break;case 0:case 11:case 14:case 15:bt||Dr(2,a,r),bt||Dr(4,a,r),nr(t,r,a);break;case 1:bt||(Ei(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ty(a,r,l)),nr(t,r,a);break;case 21:nr(t,r,a);break;case 22:bt=(l=bt)||a.memoizedState!==null,nr(t,r,a),bt=l;break;default:nr(t,r,a)}}function Ny(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Bl(t)}catch(a){it(r,r.return,a)}}function RS(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new wy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new wy),r;default:throw Error(s(435,t.tag))}}function Md(t,r){var a=RS(t);r.forEach(function(l){var h=MS.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function wn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=r,A=v;e:for(;A!==null;){switch(A.tag){case 27:if(Ur(A.type)){ct=A.stateNode,gn=!1;break e}break;case 5:ct=A.stateNode,gn=!1;break e;case 3:case 4:ct=A.stateNode.containerInfo,gn=!0;break e}A=A.return}if(ct===null)throw Error(s(160));Iy(d,v,h),ct=null,gn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Dy(r,t),r=r.sibling}var Xn=null;function Dy(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:wn(r,t),Rn(t),l&4&&(Dr(3,t,t.return),Al(3,t),Dr(5,t,t.return));break;case 1:wn(r,t),Rn(t),l&512&&(bt||a===null||Ei(a,a.return)),l&64&&tr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Xn;if(wn(r,t),Rn(t),l&512&&(bt||a===null||Ei(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[bs]||d[xt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Yt(d,l,a),d[xt]=t,Tt(d),l=d;break e;case"link":var v=Sv("link","href",h).get(l+(a.href||""));if(v){for(var A=0;A<v.length;A++)if(d=v[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(A,1);break t}}d=h.createElement(l),Yt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=Sv("meta","content",h).get(l+(a.content||""))){for(A=0;A<v.length;A++)if(d=v[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(A,1);break t}}d=h.createElement(l),Yt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[xt]=t,Tt(d),l=d}t.stateNode=l}else wv(h,t.type,t.stateNode);else t.stateNode=bv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?wv(h,t.type,t.stateNode):bv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&xd(t,t.memoizedProps,a.memoizedProps)}break;case 27:wn(r,t),Rn(t),l&512&&(bt||a===null||Ei(a,a.return)),a!==null&&l&4&&xd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(wn(r,t),Rn(t),l&512&&(bt||a===null||Ei(a,a.return)),t.flags&32){h=t.stateNode;try{Pn(h,"")}catch(K){it(t,t.return,K)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,xd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Pd=!0);break;case 6:if(wn(r,t),Rn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(K){it(t,t.return,K)}}break;case 3:if(qc=null,h=Xn,Xn=Bc(r.containerInfo),wn(r,t),Xn=h,Rn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Bl(r.containerInfo)}catch(K){it(t,t.return,K)}Pd&&(Pd=!1,xy(t));break;case 4:l=Xn,Xn=Bc(t.stateNode.containerInfo),wn(r,t),Rn(t),Xn=l;break;case 12:wn(r,t),Rn(t);break;case 13:wn(r,t),Rn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(zd=On()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Md(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,F=tr,X=bt;if(tr=F||h,bt=X||I,wn(r,t),bt=X,tr=F,Rn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||I||tr||bt||Ys(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{A=I.stateNode;var ne=I.memoizedProps.style,$=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;A.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(K){it(I,I.return,K)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(K){it(I,I.return,K)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Md(t,a))));break;case 19:wn(r,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Md(t,l)));break;case 30:break;case 21:break;default:wn(r,t),Rn(t)}}function Rn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(by(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Od(t);Cc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Pn(v,""),a.flags&=-33);var A=Od(t);Cc(t,A,v);break;case 3:case 4:var I=a.stateNode.containerInfo,F=Od(t);kd(t,F,I);break;default:throw Error(s(161))}}catch(X){it(t,t.return,X)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function xy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;xy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function xr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Ry(t,r.alternate,r),r=r.sibling}function Ys(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Dr(4,r,r.return),Ys(r);break;case 1:Ei(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Ty(r,r.return,a),Ys(r);break;case 27:Ol(r.stateNode);case 26:case 5:Ei(r,r.return),Ys(r);break;case 22:r.memoizedState===null&&Ys(r);break;case 30:Ys(r);break;default:Ys(r)}t=t.sibling}}function Or(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:Or(h,d,a),Al(4,d);break;case 1:if(Or(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){it(l,l.return,F)}if(l=d,h=l.updateQueue,h!==null){var A=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)a_(I[h],A)}catch(F){it(l,l.return,F)}}a&&v&64&&Ey(d),bl(d,d.return);break;case 27:Sy(d);case 26:case 5:Or(h,d,a),a&&l===null&&v&4&&Ay(d),bl(d,d.return);break;case 12:Or(h,d,a);break;case 13:Or(h,d,a),a&&v&4&&Ny(h,d);break;case 22:d.memoizedState===null&&Or(h,d,a),bl(d,d.return);break;case 30:break;default:Or(h,d,a)}r=r.sibling}}function Vd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ll(a))}function Ld(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ll(t))}function Ti(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Oy(t,r,a,l),r=r.sibling}function Oy(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Ti(t,r,a,l),h&2048&&Al(9,r);break;case 1:Ti(t,r,a,l);break;case 3:Ti(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ll(t)));break;case 12:if(h&2048){Ti(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,A=d.onPostCommit;typeof A=="function"&&A(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){it(r,r.return,I)}}else Ti(t,r,a,l);break;case 13:Ti(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?Ti(t,r,a,l):Sl(t,r):d._visibility&2?Ti(t,r,a,l):(d._visibility|=2,$a(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&Vd(v,r);break;case 24:Ti(t,r,a,l),h&2048&&Ld(r.alternate,r);break;default:Ti(t,r,a,l)}}function $a(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,v=r,A=a,I=l,F=v.flags;switch(v.tag){case 0:case 11:case 15:$a(d,v,A,I,h),Al(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?$a(d,v,A,I,h):Sl(d,v):(X._visibility|=2,$a(d,v,A,I,h)),h&&F&2048&&Vd(v.alternate,v);break;case 24:$a(d,v,A,I,h),h&&F&2048&&Ld(v.alternate,v);break;default:$a(d,v,A,I,h)}r=r.sibling}}function Sl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:Sl(a,l),h&2048&&Vd(l.alternate,l);break;case 24:Sl(a,l),h&2048&&Ld(l.alternate,l);break;default:Sl(a,l)}r=r.sibling}}var wl=8192;function Ka(t){if(t.subtreeFlags&wl)for(t=t.child;t!==null;)ky(t),t=t.sibling}function ky(t){switch(t.tag){case 26:Ka(t),t.flags&wl&&t.memoizedState!==null&&hw(Xn,t.memoizedState,t.memoizedProps);break;case 5:Ka(t);break;case 3:case 4:var r=Xn;Xn=Bc(t.stateNode.containerInfo),Ka(t),Xn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=wl,wl=16777216,Ka(t),wl=r):Ka(t));break;default:Ka(t)}}function Py(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Rl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];qt=l,Vy(l,t)}Py(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)My(t),t=t.sibling}function My(t){switch(t.tag){case 0:case 11:case 15:Rl(t),t.flags&2048&&Dr(9,t,t.return);break;case 3:Rl(t);break;case 12:Rl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Ic(t)):Rl(t);break;default:Rl(t)}}function Ic(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];qt=l,Vy(l,t)}Py(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Dr(8,r,r.return),Ic(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Ic(r));break;default:Ic(r)}t=t.sibling}}function Vy(t,r){for(;qt!==null;){var a=qt;switch(a.tag){case 0:case 11:case 15:Dr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,qt=l;else e:for(a=t;qt!==null;){l=qt;var h=l.sibling,d=l.return;if(Cy(l),l===a){qt=null;break e}if(h!==null){h.return=d,qt=h;break e}qt=d}}}var CS={getCacheForType:function(t){var r=nn(Pt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},IS=typeof WeakMap=="function"?WeakMap:Map,Xe=0,at=null,Ve=null,qe=0,We=0,Cn=null,kr=!1,Qa=!1,Ud=!1,ir=0,yt=0,Pr=0,Xs=0,jd=0,Hn=0,Ya=0,Cl=null,_n=null,Bd=!1,zd=0,Nc=1/0,Dc=null,Mr=null,Qt=0,Vr=null,Xa=null,Wa=0,qd=0,Hd=null,Ly=null,Il=0,Fd=null;function In(){if((Xe&2)!==0&&qe!==0)return qe&-qe;if(Y.T!==null){var t=Ua;return t!==0?t:Wd()}return _r()}function Uy(){Hn===0&&(Hn=(qe&536870912)===0||$e?Lo():536870912);var t=qn.current;return t!==null&&(t.flags|=32),Hn}function Nn(t,r,a){(t===at&&(We===2||We===9)||t.cancelPendingCommit!==null)&&(Za(t,0),Lr(t,qe,Hn,!1)),Mi(t,a),((Xe&2)===0||t!==at)&&(t===at&&((Xe&2)===0&&(Xs|=a),yt===4&&Lr(t,qe,Hn,!1)),Ai(t))}function jy(t,r,a){if((Xe&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||As(t,r),h=l?xS(t,r):Kd(t,r,!0),d=l;do{if(h===0){Qa&&!l&&Lr(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!NS(a)){h=Kd(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var A=t;h=Cl;var I=A.current.memoizedState.isDehydrated;if(I&&(Za(A,v).flags|=256),v=Kd(A,v,!1),v!==2){if(Ud&&!I){A.errorRecoveryDisabledLanes|=d,Xs|=d,h=4;break e}d=_n,_n=h,d!==null&&(_n===null?_n=d:_n.push.apply(_n,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Za(t,0),Lr(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Lr(l,r,Hn,!kr);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=zd+300-On(),10<h)){if(Lr(l,r,Hn,!kr),ma(l,0,!0)!==0)break e;l.timeoutHandle=pv(By.bind(null,l,a,_n,Dc,Bd,r,Hn,Xs,Ya,kr,d,2,-0,0),h);break e}By(l,a,_n,Dc,Bd,r,Hn,Xs,Ya,kr,d,0,-0,0)}}break}while(!0);Ai(t)}function By(t,r,a,l,h,d,v,A,I,F,X,ne,$,K){if(t.timeoutHandle=-1,ne=r.subtreeFlags,(ne&8192||(ne&16785408)===16785408)&&(Ml={stylesheets:null,count:0,unsuspend:cw},ky(r),ne=fw(),ne!==null)){t.cancelPendingCommit=ne(Ky.bind(null,t,r,d,a,l,h,v,A,I,X,1,$,K)),Lr(t,d,v,!F);return}Ky(t,r,d,a,l,h,v,A,I)}function NS(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!bn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Lr(t,r,a,l){r&=~jd,r&=~Xs,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-tn(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&oi(t,a,r)}function xc(){return(Xe&6)===0?(Nl(0),!1):!0}function Gd(){if(Ve!==null){if(We===0)var t=Ve.return;else t=Ve,Yi=Fs=null,ld(t),Fa=null,vl=0,t=Ve;for(;t!==null;)vy(t.alternate,t),t=t.return;Ve=null}}function Za(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,KS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Gd(),at=t,Ve=a=$i(t.current,null),qe=r,We=0,Cn=null,kr=!1,Qa=As(t,r),Ud=!1,Ya=Hn=jd=Xs=Pr=yt=0,_n=Cl=null,Bd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-tn(l),d=1<<h;r|=t[h],l&=~d}return ir=r,Ju(),a}function zy(t,r){ke=null,Y.H=yc,r===cl||r===lc?(r=r_(),We=3):r===t_?(r=r_(),We=4):We=r===sy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Cn=r,Ve===null&&(yt=1,bc(t,Un(r,t.current)))}function qy(){var t=Y.H;return Y.H=yc,t===null?yc:t}function Hy(){var t=Y.A;return Y.A=CS,t}function $d(){yt=4,kr||(qe&4194048)!==qe&&qn.current!==null||(Qa=!0),(Pr&134217727)===0&&(Xs&134217727)===0||at===null||Lr(at,qe,Hn,!1)}function Kd(t,r,a){var l=Xe;Xe|=2;var h=qy(),d=Hy();(at!==t||qe!==r)&&(Dc=null,Za(t,r)),r=!1;var v=yt;e:do try{if(We!==0&&Ve!==null){var A=Ve,I=Cn;switch(We){case 8:Gd(),v=6;break e;case 3:case 2:case 9:case 6:qn.current===null&&(r=!0);var F=We;if(We=0,Cn=null,Ja(t,A,I,F),a&&Qa){v=0;break e}break;default:F=We,We=0,Cn=null,Ja(t,A,I,F)}}DS(),v=yt;break}catch(X){zy(t,X)}while(!0);return r&&t.shellSuspendCounter++,Yi=Fs=null,Xe=l,Y.H=h,Y.A=d,Ve===null&&(at=null,qe=0,Ju()),v}function DS(){for(;Ve!==null;)Fy(Ve)}function xS(t,r){var a=Xe;Xe|=2;var l=qy(),h=Hy();at!==t||qe!==r?(Dc=null,Nc=On()+500,Za(t,r)):Qa=As(t,r);e:do try{if(We!==0&&Ve!==null){r=Ve;var d=Cn;t:switch(We){case 1:We=0,Cn=null,Ja(t,r,d,1);break;case 2:case 9:if(n_(d)){We=0,Cn=null,Gy(r);break}r=function(){We!==2&&We!==9||at!==t||(We=7),Ai(t)},d.then(r,r);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:n_(d)?(We=0,Cn=null,Gy(r)):(We=0,Cn=null,Ja(t,r,d,7));break;case 5:var v=null;switch(Ve.tag){case 26:v=Ve.memoizedState;case 5:case 27:var A=Ve;if(!v||Rv(v)){We=0,Cn=null;var I=A.sibling;if(I!==null)Ve=I;else{var F=A.return;F!==null?(Ve=F,Oc(F)):Ve=null}break t}}We=0,Cn=null,Ja(t,r,d,5);break;case 6:We=0,Cn=null,Ja(t,r,d,6);break;case 8:Gd(),yt=6;break e;default:throw Error(s(462))}}OS();break}catch(X){zy(t,X)}while(!0);return Yi=Fs=null,Y.H=l,Y.A=h,Xe=a,Ve!==null?0:(at=null,qe=0,Ju(),yt)}function OS(){for(;Ve!==null&&!ko();)Fy(Ve)}function Fy(t){var r=_y(t.alternate,t,ir);t.memoizedProps=t.pendingProps,r===null?Oc(t):Ve=r}function Gy(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=hy(a,r,r.pendingProps,r.type,void 0,qe);break;case 11:r=hy(a,r,r.pendingProps,r.type.render,r.ref,qe);break;case 5:ld(r);default:vy(a,r),r=Ve=$g(r,ir),r=_y(a,r,ir)}t.memoizedProps=t.pendingProps,r===null?Oc(t):Ve=r}function Ja(t,r,a,l){Yi=Fs=null,ld(r),Fa=null,vl=0;var h=r.return;try{if(TS(t,h,r,a,qe)){yt=1,bc(t,Un(a,t.current)),Ve=null;return}}catch(d){if(h!==null)throw Ve=h,d;yt=1,bc(t,Un(a,t.current)),Ve=null;return}r.flags&32768?($e||l===1?t=!0:Qa||(qe&536870912)!==0?t=!1:(kr=t=!0,(l===2||l===9||l===3||l===6)&&(l=qn.current,l!==null&&l.tag===13&&(l.flags|=16384))),$y(r,t)):Oc(r)}function Oc(t){var r=t;do{if((r.flags&32768)!==0){$y(r,kr);return}t=r.return;var a=bS(r.alternate,r,ir);if(a!==null){Ve=a;return}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=t}while(r!==null);yt===0&&(yt=5)}function $y(t,r){do{var a=SS(t.alternate,t);if(a!==null){a.flags&=32767,Ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=a}while(t!==null);yt=6,Ve=null}function Ky(t,r,a,l,h,d,v,A,I){t.cancelPendingCommit=null;do kc();while(Qt!==0);if((Xe&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Lf,jo(t,a,d,v,A,I),t===at&&(Ve=at=null,qe=0),Xa=r,Vr=t,Wa=a,qd=d,Hd=h,Ly=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,VS(ys,function(){return Zy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=te.p,te.p=2,v=Xe,Xe|=4;try{wS(t,r,a)}finally{Xe=v,te.p=h,Y.T=l}}Qt=1,Qy(),Yy(),Xy()}}function Qy(){if(Qt===1){Qt=0;var t=Vr,r=Xa,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=te.p;te.p=2;var h=Xe;Xe|=4;try{Dy(r,t);var d=sp,v=Vg(t.containerInfo),A=d.focusedElem,I=d.selectionRange;if(v!==A&&A&&A.ownerDocument&&Mg(A.ownerDocument.documentElement,A)){if(I!==null&&Of(A)){var F=I.start,X=I.end;if(X===void 0&&(X=F),"selectionStart"in A)A.selectionStart=F,A.selectionEnd=Math.min(X,A.value.length);else{var ne=A.ownerDocument||document,$=ne&&ne.defaultView||window;if($.getSelection){var K=$.getSelection(),Re=A.textContent.length,Te=Math.min(I.start,Re),nt=I.end===void 0?Te:Math.min(I.end,Re);!K.extend&&Te>nt&&(v=nt,nt=Te,Te=v);var j=Pg(A,Te),M=Pg(A,nt);if(j&&M&&(K.rangeCount!==1||K.anchorNode!==j.node||K.anchorOffset!==j.offset||K.focusNode!==M.node||K.focusOffset!==M.offset)){var q=ne.createRange();q.setStart(j.node,j.offset),K.removeAllRanges(),Te>nt?(K.addRange(q),K.extend(M.node,M.offset)):(q.setEnd(M.node,M.offset),K.addRange(q))}}}}for(ne=[],K=A;K=K.parentNode;)K.nodeType===1&&ne.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ne.length;A++){var W=ne[A];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Gc=!!rp,sp=rp=null}finally{Xe=h,te.p=l,Y.T=a}}t.current=r,Qt=2}}function Yy(){if(Qt===2){Qt=0;var t=Vr,r=Xa,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=te.p;te.p=2;var h=Xe;Xe|=4;try{Ry(t,r.alternate,r)}finally{Xe=h,te.p=l,Y.T=a}}Qt=3}}function Xy(){if(Qt===4||Qt===3){Qt=0,Iu();var t=Vr,r=Xa,a=Wa,l=Ly;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Qt=5:(Qt=0,Xa=Vr=null,Wy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Mr=null),ga(a),r=r.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(gt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Y.T,h=te.p,te.p=2,Y.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var A=l[v];d(A.value,{componentStack:A.stack})}}finally{Y.T=r,te.p=h}}(Wa&3)!==0&&kc(),Ai(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Fd?Il++:(Il=0,Fd=t):Il=0,Nl(0)}}function Wy(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,ll(r)))}function kc(t){return Qy(),Yy(),Xy(),Zy()}function Zy(){if(Qt!==5)return!1;var t=Vr,r=qd;qd=0;var a=ga(Wa),l=Y.T,h=te.p;try{te.p=32>a?32:a,Y.T=null,a=Hd,Hd=null;var d=Vr,v=Wa;if(Qt=0,Xa=Vr=null,Wa=0,(Xe&6)!==0)throw Error(s(331));var A=Xe;if(Xe|=4,My(d.current),Oy(d,d.current,v,a),Xe=A,Nl(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(gt,d)}catch{}return!0}finally{te.p=h,Y.T=l,Wy(t,r)}}function Jy(t,r,a){r=Un(a,r),r=Ad(t.stateNode,r,2),t=Rr(t,r,2),t!==null&&(Mi(t,2),Ai(t))}function it(t,r,a){if(t.tag===3)Jy(t,t,a);else for(;r!==null;){if(r.tag===3){Jy(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Mr===null||!Mr.has(l))){t=Un(a,t),a=iy(2),l=Rr(r,a,2),l!==null&&(ry(a,l,r,t),Mi(l,2),Ai(l));break}}r=r.return}}function Qd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new IS;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Ud=!0,h.add(a),t=kS.bind(null,t,r,a),r.then(t,t))}function kS(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,at===t&&(qe&a)===a&&(yt===4||yt===3&&(qe&62914560)===qe&&300>On()-zd?(Xe&2)===0&&Za(t,0):jd|=a,Ya===qe&&(Ya=0)),Ai(t)}function ev(t,r){r===0&&(r=Uo()),t=Pa(t,r),t!==null&&(Mi(t,r),Ai(t))}function PS(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),ev(t,a)}function MS(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),ev(t,a)}function VS(t,r){return Ut(t,r)}var Pc=null,eo=null,Yd=!1,Mc=!1,Xd=!1,Ws=0;function Ai(t){t!==eo&&t.next===null&&(eo===null?Pc=eo=t:eo=eo.next=t),Mc=!0,Yd||(Yd=!0,US())}function Nl(t,r){if(!Xd&&Mc){Xd=!0;do for(var a=!1,l=Pc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-tn(42|t)+1)-1,d&=h&~(v&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,rv(l,d))}else d=qe,d=ma(l,l===at?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||As(l,d)||(a=!0,rv(l,d));l=l.next}while(a);Xd=!1}}function LS(){tv()}function tv(){Mc=Yd=!1;var t=0;Ws!==0&&($S()&&(t=Ws),Ws=0);for(var r=On(),a=null,l=Pc;l!==null;){var h=l.next,d=nv(l,r);d===0?(l.next=null,a===null?Pc=h:a.next=h,h===null&&(eo=a)):(a=l,(t!==0||(d&3)!==0)&&(Mc=!0)),l=h}Nl(t)}function nv(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-tn(d),A=1<<v,I=h[v];I===-1?((A&a)===0||(A&l)!==0)&&(h[v]=Vo(A,r)):I<=r&&(t.expiredLanes|=A),d&=~A}if(r=at,a=qe,a=ma(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(We===2||We===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&_s(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||As(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&_s(l),ga(a)){case 2:case 8:a=da;break;case 32:a=ys;break;case 268435456:a=pa;break;default:a=ys}return l=iv.bind(null,t),a=Ut(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&_s(l),t.callbackPriority=2,t.callbackNode=null,2}function iv(t,r){if(Qt!==0&&Qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(kc()&&t.callbackNode!==a)return null;var l=qe;return l=ma(t,t===at?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(jy(t,l,r),nv(t,On()),t.callbackNode!=null&&t.callbackNode===a?iv.bind(null,t):null)}function rv(t,r){if(kc())return null;jy(t,r,!0)}function US(){QS(function(){(Xe&6)!==0?Ut(Po,LS):tv()})}function Wd(){return Ws===0&&(Ws=Lo()),Ws}function sv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Aa(""+t)}function av(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function jS(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=sv((h[wt]||null).action),v=l.submitter;v&&(r=(r=v[wt]||null)?sv(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var A=new ba("action","action",null,l,h);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ws!==0){var I=v?av(h,v):new FormData(h);_d(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(A.preventDefault(),I=v?av(h,v):new FormData(h),_d(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Zd=0;Zd<Vf.length;Zd++){var Jd=Vf[Zd],BS=Jd.toLowerCase(),zS=Jd[0].toUpperCase()+Jd.slice(1);Yn(BS,"on"+zS)}Yn(jg,"onAnimationEnd"),Yn(Bg,"onAnimationIteration"),Yn(zg,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(rS,"onTransitionRun"),Yn(sS,"onTransitionStart"),Yn(aS,"onTransitionCancel"),Yn(qg,"onTransitionEnd"),Li("onMouseEnter",["mouseout","mouseover"]),Li("onMouseLeave",["mouseout","mouseover"]),Li("onPointerEnter",["pointerout","pointerover"]),Li("onPointerLeave",["pointerout","pointerover"]),Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function ov(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var A=l[v],I=A.instance,F=A.currentTarget;if(A=A.listener,I!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=F;try{d(h)}catch(X){Ac(X)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(A=l[v],I=A.instance,F=A.currentTarget,A=A.listener,I!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=F;try{d(h)}catch(X){Ac(X)}h.currentTarget=null,d=I}}}}function Le(t,r){var a=r[zo];a===void 0&&(a=r[zo]=new Set);var l=t+"__bubble";a.has(l)||(lv(r,t,2,!1),a.add(l))}function ep(t,r,a){var l=0;r&&(l|=4),lv(a,t,l,r)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function tp(t){if(!t[Vc]){t[Vc]=!0,qo.forEach(function(a){a!=="selectionchange"&&(qS.has(a)||ep(a,!1,t),ep(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Vc]||(r[Vc]=!0,ep("selectionchange",!1,r))}}function lv(t,r,a,l){switch(Ov(r)){case 2:var h=mw;break;case 8:h=gw;break;default:h=mp}a=h.bind(null,r,a,t),h=void 0,!Vn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function np(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var A=l.stateNode.containerInfo;if(A===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;A!==null;){if(v=Vi(A),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}A=A.parentNode}}l=l.return}Uu(function(){var F=d,X=Mn(a),ne=[];e:{var $=Hg.get(t);if($!==void 0){var K=ba,Re=t;switch(t){case"keypress":if(di(a)===0)break e;case"keydown":case"keyup":K=Na;break;case"focusin":Re="focus",K=Ra;break;case"focusout":Re="blur",K=Ra;break;case"beforeblur":case"afterblur":K=Ra;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=If;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=$u;break;case jg:case Bg:case zg:K=Ca;break;case qg:K=Qu;break;case"scroll":case"scrollend":K=ju;break;case"wheel":K=Da;break;case"copy":case"cut":case"paste":K=Ia;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=el;break;case"toggle":case"beforetoggle":K=Xu}var Te=(r&4)!==0,nt=!Te&&(t==="scroll"||t==="scrollend"),j=Te?$!==null?$+"Capture":null:$;Te=[];for(var M=F,q;M!==null;){var W=M;if(q=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||q===null||j===null||(W=Ds(M,j),W!=null&&Te.push(xl(M,W,q))),nt)break;M=M.return}0<Te.length&&($=new K($,Re,null,a,X),ne.push({event:$,listeners:Te}))}}if((r&7)===0){e:{if($=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",$&&a!==Bi&&(Re=a.relatedTarget||a.fromElement)&&(Vi(Re)||Re[kn]))break e;if((K||$)&&($=X.window===X?X:($=X.ownerDocument)?$.defaultView||$.parentWindow:window,K?(Re=a.relatedTarget||a.toElement,K=F,Re=Re?Vi(Re):null,Re!==null&&(nt=u(Re),Te=Re.tag,Re!==nt||Te!==5&&Te!==27&&Te!==6)&&(Re=null)):(K=null,Re=F),K!==Re)){if(Te=Ln,W="onMouseLeave",j="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Te=el,W="onPointerLeave",j="onPointerEnter",M="pointer"),nt=K==null?$:ui(K),q=Re==null?$:ui(Re),$=new Te(W,M+"leave",K,a,X),$.target=nt,$.relatedTarget=q,W=null,Vi(X)===F&&(Te=new Te(j,M+"enter",Re,a,X),Te.target=q,Te.relatedTarget=nt,W=Te),nt=W,K&&Re)t:{for(Te=K,j=Re,M=0,q=Te;q;q=to(q))M++;for(q=0,W=j;W;W=to(W))q++;for(;0<M-q;)Te=to(Te),M--;for(;0<q-M;)j=to(j),q--;for(;M--;){if(Te===j||j!==null&&Te===j.alternate)break t;Te=to(Te),j=to(j)}Te=null}else Te=null;K!==null&&uv(ne,$,K,Te,!1),Re!==null&&nt!==null&&uv(ne,nt,Re,Te,!0)}}e:{if($=F?ui(F):window,K=$.nodeName&&$.nodeName.toLowerCase(),K==="select"||K==="input"&&$.type==="file")var ge=Ig;else if(kt($))if(Ng)ge=tS;else{ge=Jb;var Me=Zb}else K=$.nodeName,!K||K.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?F&&Ko(F.elementType)&&(ge=Ig):ge=eS;if(ge&&(ge=ge(t,F))){Gi(ne,ge,a,X);break e}Me&&Me(t,$,F),t==="focusout"&&F&&$.type==="number"&&F.memoizedProps.value!=null&&Tr($,"number",$.value)}switch(Me=F?ui(F):window,t){case"focusin":(kt(Me)||Me.contentEditable==="true")&&(xa=Me,kf=F,il=null);break;case"focusout":il=kf=xa=null;break;case"mousedown":Pf=!0;break;case"contextmenu":case"mouseup":case"dragend":Pf=!1,Lg(ne,a,X);break;case"selectionchange":if(iS)break;case"keydown":case"keyup":Lg(ne,a,X)}var ye;if(gi)e:{switch(t){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Be?Q(t,a)&&(Ae="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ae="onCompositionStart");Ae&&(y&&a.locale!=="ko"&&(Be||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Be&&(ye=Yo()):(fi=X,Ar="value"in fi?fi.value:fi.textContent,Be=!0)),Me=Lc(F,Ae),0<Me.length&&(Ae=new Zo(Ae,t,null,a,X),ne.push({event:Ae,listeners:Me}),ye?Ae.data=ye:(ye=ae(a),ye!==null&&(Ae.data=ye)))),(ye=_?Ot(t,a):ze(t,a))&&(Ae=Lc(F,"onBeforeInput"),0<Ae.length&&(Me=new Zo("onBeforeInput","beforeinput",null,a,X),ne.push({event:Me,listeners:Ae}),Me.data=ye)),jS(ne,t,F,a,X)}ov(ne,r)})}function xl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Lc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ds(t,a),h!=null&&l.unshift(xl(t,h,d)),h=Ds(t,r),h!=null&&l.push(xl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function to(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function uv(t,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var A=a,I=A.alternate,F=A.stateNode;if(A=A.tag,I!==null&&I===l)break;A!==5&&A!==26&&A!==27||F===null||(I=F,h?(F=Ds(a,d),F!=null&&v.unshift(xl(a,F,I))):h||(F=Ds(a,d),F!=null&&v.push(xl(a,F,I)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var HS=/\r\n?/g,FS=/\u0000|\uFFFD/g;function cv(t){return(typeof t=="string"?t:""+t).replace(HS,`
`).replace(FS,"")}function hv(t,r){return r=cv(r),cv(t)===r}function Uc(){}function tt(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Pn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Pn(t,""+l);break;case"className":ci(t,"class",l);break;case"tabIndex":ci(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ci(t,a,l);break;case"style":$o(t,l,d);break;case"data":if(r!=="object"){ci(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Aa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&tt(t,r,"name",h.name,h,null),tt(t,r,"formEncType",h.formEncType,h,null),tt(t,r,"formMethod",h.formMethod,h,null),tt(t,r,"formTarget",h.formTarget,h,null)):(tt(t,r,"encType",h.encType,h,null),tt(t,r,"method",h.method,h,null),tt(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Aa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Uc);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Aa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Le("beforetoggle",t),Le("toggle",t),Er(t,"popover",l);break;case"xlinkActuate":Gt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Gt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Gt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Gt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Gt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Gt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Gt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Gt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Gt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Er(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Rf.get(a)||a,Er(t,a,l))}}function ip(t,r,a,l,h,d){switch(a){case"style":$o(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Pn(t,l):(typeof l=="number"||typeof l=="bigint")&&Pn(t,""+l);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Uc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_a.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[wt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Er(t,a,l)}}}function Yt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(t,r,d,v,a,null)}}h&&tt(t,r,"srcSet",a.srcSet,a,null),l&&tt(t,r,"src",a.src,a,null);return;case"input":Le("invalid",t);var A=d=v=h=null,I=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":I=X;break;case"defaultChecked":F=X;break;case"value":d=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:tt(t,r,l,X,a,null)}}Cs(t,d,A,I,F,v,h,!1),Ta(t);return;case"select":Le("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(A=a[h],A!=null))switch(h){case"value":d=A;break;case"defaultValue":v=A;break;case"multiple":l=A;default:tt(t,r,h,A,a,null)}r=d,a=v,t.multiple=!!l,r!=null?ji(t,!!l,r,!1):a!=null&&ji(t,!!l,a,!0);return;case"textarea":Le("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(A=a[v],A!=null))switch(v){case"value":l=A;break;case"defaultValue":h=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:tt(t,r,v,A,a,null)}Is(t,l,h,d),Ta(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:tt(t,r,I,l,a,null)}return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(l=0;l<Dl.length;l++)Le(Dl[l],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(t,r,F,l,a,null)}return;default:if(Ko(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&ip(t,r,X,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&tt(t,r,A,l,a,null))}function GS(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,A=null,I=null,F=null,X=null;for(K in a){var ne=a[K];if(a.hasOwnProperty(K)&&ne!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":I=ne;default:l.hasOwnProperty(K)||tt(t,r,K,null,l,ne)}}for(var $ in l){var K=l[$];if(ne=a[$],l.hasOwnProperty($)&&(K!=null||ne!=null))switch($){case"type":d=K;break;case"name":h=K;break;case"checked":F=K;break;case"defaultChecked":X=K;break;case"value":v=K;break;case"defaultValue":A=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==ne&&tt(t,r,$,K,l,ne)}}An(t,v,A,I,F,X,d,h);return;case"select":K=v=A=$=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":K=I;default:l.hasOwnProperty(d)||tt(t,r,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":$=d;break;case"defaultValue":A=d;break;case"multiple":v=d;default:d!==I&&tt(t,r,h,d,l,I)}r=A,a=v,l=K,$!=null?ji(t,!!a,$,!1):!!l!=!!a&&(r!=null?ji(t,!!a,r,!0):ji(t,!!a,a?[]:"",!1));return;case"textarea":K=$=null;for(A in a)if(h=a[A],a.hasOwnProperty(A)&&h!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:tt(t,r,A,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":$=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&tt(t,r,v,h,l,d)}Je(t,$,K);return;case"option":for(var Re in a)if($=a[Re],a.hasOwnProperty(Re)&&$!=null&&!l.hasOwnProperty(Re))switch(Re){case"selected":t.selected=!1;break;default:tt(t,r,Re,null,l,$)}for(I in l)if($=l[I],K=a[I],l.hasOwnProperty(I)&&$!==K&&($!=null||K!=null))switch(I){case"selected":t.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:tt(t,r,I,$,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)$=a[Te],a.hasOwnProperty(Te)&&$!=null&&!l.hasOwnProperty(Te)&&tt(t,r,Te,null,l,$);for(F in l)if($=l[F],K=a[F],l.hasOwnProperty(F)&&$!==K&&($!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:tt(t,r,F,$,l,K)}return;default:if(Ko(r)){for(var nt in a)$=a[nt],a.hasOwnProperty(nt)&&$!==void 0&&!l.hasOwnProperty(nt)&&ip(t,r,nt,void 0,l,$);for(X in l)$=l[X],K=a[X],!l.hasOwnProperty(X)||$===K||$===void 0&&K===void 0||ip(t,r,X,$,l,K);return}}for(var j in a)$=a[j],a.hasOwnProperty(j)&&$!=null&&!l.hasOwnProperty(j)&&tt(t,r,j,null,l,$);for(ne in l)$=l[ne],K=a[ne],!l.hasOwnProperty(ne)||$===K||$==null&&K==null||tt(t,r,ne,$,l,K)}var rp=null,sp=null;function jc(t){return t.nodeType===9?t:t.ownerDocument}function fv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function ap(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var op=null;function $S(){var t=window.event;return t&&t.type==="popstate"?t===op?!1:(op=t,!0):(op=null,!1)}var pv=typeof setTimeout=="function"?setTimeout:void 0,KS=typeof clearTimeout=="function"?clearTimeout:void 0,mv=typeof Promise=="function"?Promise:void 0,QS=typeof queueMicrotask=="function"?queueMicrotask:typeof mv<"u"?function(t){return mv.resolve(null).then(t).catch(YS)}:pv;function YS(t){setTimeout(function(){throw t})}function Ur(t){return t==="head"}function gv(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Ol(v.documentElement),a&2&&Ol(v.body),a&4)for(a=v.head,Ol(a),v=a.firstChild;v;){var A=v.nextSibling,I=v.nodeName;v[bs]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=A}}if(h===0){t.removeChild(d),Bl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Bl(r)}function lp(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":lp(a),vr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function XS(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[bs])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Wn(t.nextSibling),t===null)break}return null}function WS(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Wn(t.nextSibling),t===null))return null;return t}function up(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function ZS(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Wn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var cp=null;function _v(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function yv(t,r,a){switch(r=jc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ol(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);vr(t)}var Fn=new Map,vv=new Set;function Bc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var rr=te.d;te.d={f:JS,r:ew,D:tw,C:nw,L:iw,m:rw,X:aw,S:sw,M:ow};function JS(){var t=rr.f(),r=xc();return t||r}function ew(t){var r=li(t);r!==null&&r.tag===5&&r.type==="form"?j_(r):rr.r(t)}var no=typeof document>"u"?null:document;function Ev(t,r,a){var l=no;if(l&&typeof r=="string"&&r){var h=Rt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),vv.has(h)||(vv.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Yt(r,"link",t),Tt(r),l.head.appendChild(r)))}}function tw(t){rr.D(t),Ev("dns-prefetch",t,null)}function nw(t,r){rr.C(t,r),Ev("preconnect",t,r)}function iw(t,r,a){rr.L(t,r,a);var l=no;if(l&&t&&r){var h='link[rel="preload"][as="'+Rt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Rt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Rt(a.imageSizes)+'"]')):h+='[href="'+Rt(t)+'"]';var d=h;switch(r){case"style":d=io(t);break;case"script":d=ro(t)}Fn.has(d)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Fn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(kl(d))||r==="script"&&l.querySelector(Pl(d))||(r=l.createElement("link"),Yt(r,"link",t),Tt(r),l.head.appendChild(r)))}}function rw(t,r){rr.m(t,r);var a=no;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Rt(l)+'"][href="'+Rt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ro(t)}if(!Fn.has(d)&&(t=E({rel:"modulepreload",href:t},r),Fn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Pl(d)))return}l=a.createElement("link"),Yt(l,"link",t),Tt(l),a.head.appendChild(l)}}}function sw(t,r,a){rr.S(t,r,a);var l=no;if(l&&t){var h=cn(l).hoistableStyles,d=io(t);r=r||"default";var v=h.get(d);if(!v){var A={loading:0,preload:null};if(v=l.querySelector(kl(d)))A.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Fn.get(d))&&hp(t,a);var I=v=l.createElement("link");Tt(I),Yt(I,"link",t),I._p=new Promise(function(F,X){I.onload=F,I.onerror=X}),I.addEventListener("load",function(){A.loading|=1}),I.addEventListener("error",function(){A.loading|=2}),A.loading|=4,zc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:A},h.set(d,v)}}}function aw(t,r){rr.X(t,r);var a=no;if(a&&t){var l=cn(a).hoistableScripts,h=ro(t),d=l.get(h);d||(d=a.querySelector(Pl(h)),d||(t=E({src:t,async:!0},r),(r=Fn.get(h))&&fp(t,r),d=a.createElement("script"),Tt(d),Yt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function ow(t,r){rr.M(t,r);var a=no;if(a&&t){var l=cn(a).hoistableScripts,h=ro(t),d=l.get(h);d||(d=a.querySelector(Pl(h)),d||(t=E({src:t,async:!0,type:"module"},r),(r=Fn.get(h))&&fp(t,r),d=a.createElement("script"),Tt(d),Yt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Tv(t,r,a,l){var h=(h=we.current)?Bc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=io(a.href),a=cn(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=io(a.href);var d=cn(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(kl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Fn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Fn.set(t,a),d||lw(h,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ro(a),a=cn(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function io(t){return'href="'+Rt(t)+'"'}function kl(t){return'link[rel="stylesheet"]['+t+"]"}function Av(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function lw(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Yt(r,"link",a),Tt(r),t.head.appendChild(r))}function ro(t){return'[src="'+Rt(t)+'"]'}function Pl(t){return"script[async]"+t}function bv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Rt(a.href)+'"]');if(l)return r.instance=l,Tt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Tt(l),Yt(l,"style",h),zc(l,a.precedence,t),r.instance=l;case"stylesheet":h=io(a.href);var d=t.querySelector(kl(h));if(d)return r.state.loading|=4,r.instance=d,Tt(d),d;l=Av(a),(h=Fn.get(h))&&hp(l,h),d=(t.ownerDocument||t).createElement("link"),Tt(d);var v=d;return v._p=new Promise(function(A,I){v.onload=A,v.onerror=I}),Yt(d,"link",l),r.state.loading|=4,zc(d,a.precedence,t),r.instance=d;case"script":return d=ro(a.src),(h=t.querySelector(Pl(d)))?(r.instance=h,Tt(h),h):(l=a,(h=Fn.get(d))&&(l=E({},a),fp(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Tt(h),Yt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,zc(l,a.precedence,t));return r.instance}function zc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var A=l[v];if(A.dataset.precedence===r)d=A;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function hp(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function fp(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var qc=null;function Sv(t,r,a){if(qc===null){var l=new Map,h=qc=new Map;h.set(a,l)}else h=qc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[bs]||d[xt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var A=l.get(v);A?A.push(d):l.set(v,[d])}}return l}function wv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function uw(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Rv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ml=null;function cw(){}function hw(t,r,a){if(Ml===null)throw Error(s(475));var l=Ml;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=io(a.href),d=t.querySelector(kl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Hc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,Tt(d);return}d=t.ownerDocument||t,a=Av(a),(h=Fn.get(h))&&hp(a,h),d=d.createElement("link"),Tt(d);var v=d;v._p=new Promise(function(A,I){v.onload=A,v.onerror=I}),Yt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Hc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function fw(){if(Ml===null)throw Error(s(475));var t=Ml;return t.stylesheets&&t.count===0&&dp(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&dp(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Hc(){if(this.count--,this.count===0){if(this.stylesheets)dp(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Fc=null;function dp(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Fc=new Map,r.forEach(dw,t),Fc=null,Hc.call(t))}function dw(t,r){if(!(r.state.loading&4)){var a=Fc.get(t);if(a)var l=a.get(null);else{a=new Map,Fc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Hc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Vl={$$typeof:Z,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function pw(t,r,a,l,h,d,v,A){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.hiddenUpdates=Pi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Cv(t,r,a,l,h,d,v,A,I,F,X,ne){return t=new pw(t,r,a,v,A,I,F,ne),r=1,d===!0&&(r|=24),d=Sn(3,null,null,r),t.current=d,d.stateNode=t,r=Qf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Zf(d),t}function Iv(t){return t?(t=Ma,t):Ma}function Nv(t,r,a,l,h,d){h=Iv(h),l.context===null?l.context=h:l.pendingContext=h,l=wr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Rr(t,l,r),a!==null&&(Nn(a,t,r),fl(a,t,r))}function Dv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function pp(t,r){Dv(t,r),(t=t.alternate)&&Dv(t,r)}function xv(t){if(t.tag===13){var r=Pa(t,67108864);r!==null&&Nn(r,t,67108864),pp(t,67108864)}}var Gc=!0;function mw(t,r,a,l){var h=Y.T;Y.T=null;var d=te.p;try{te.p=2,mp(t,r,a,l)}finally{te.p=d,Y.T=h}}function gw(t,r,a,l){var h=Y.T;Y.T=null;var d=te.p;try{te.p=8,mp(t,r,a,l)}finally{te.p=d,Y.T=h}}function mp(t,r,a,l){if(Gc){var h=gp(l);if(h===null)np(t,r,l,$c,a),kv(t,l);else if(yw(h,t,r,a,l))l.stopPropagation();else if(kv(t,l),r&4&&-1<_w.indexOf(t)){for(;h!==null;){var d=li(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=$n(d.pendingLanes);if(v!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;v;){var I=1<<31-tn(v);A.entanglements[1]|=I,v&=~I}Ai(d),(Xe&6)===0&&(Nc=On()+500,Nl(0))}}break;case 13:A=Pa(d,2),A!==null&&Nn(A,d,2),xc(),pp(d,2)}if(d=gp(l),d===null&&np(t,r,l,$c,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else np(t,r,l,null,a)}}function gp(t){return t=Mn(t),_p(t)}var $c=null;function _p(t){if($c=null,t=Vi(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return $c=t,null}function Ov(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ef()){case Po:return 2;case da:return 8;case ys:case Tf:return 32;case pa:return 268435456;default:return 32}default:return 32}}var yp=!1,jr=null,Br=null,zr=null,Ll=new Map,Ul=new Map,qr=[],_w="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kv(t,r){switch(t){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":Ll.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(r.pointerId)}}function jl(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=li(r),r!==null&&xv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function yw(t,r,a,l,h){switch(r){case"focusin":return jr=jl(jr,t,r,a,l,h),!0;case"dragenter":return Br=jl(Br,t,r,a,l,h),!0;case"mouseover":return zr=jl(zr,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ll.set(d,jl(Ll.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ul.set(d,jl(Ul.get(d)||null,t,r,a,l,h)),!0}return!1}function Pv(t){var r=Vi(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,xu(t.priority,function(){if(a.tag===13){var l=In();l=gr(l);var h=Pa(a,l);h!==null&&Nn(h,a,l),pp(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=gp(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Bi=l,a.target.dispatchEvent(l),Bi=null}else return r=li(a),r!==null&&xv(r),t.blockedOn=a,!1;r.shift()}return!0}function Mv(t,r,a){Kc(t)&&a.delete(r)}function vw(){yp=!1,jr!==null&&Kc(jr)&&(jr=null),Br!==null&&Kc(Br)&&(Br=null),zr!==null&&Kc(zr)&&(zr=null),Ll.forEach(Mv),Ul.forEach(Mv)}function Qc(t,r){t.blockedOn===r&&(t.blockedOn=null,yp||(yp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,vw)))}var Yc=null;function Vv(t){Yc!==t&&(Yc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Yc===t&&(Yc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(_p(l||a)===null)continue;break}var d=li(a);d!==null&&(t.splice(r,3),r-=3,_d(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Bl(t){function r(I){return Qc(I,t)}jr!==null&&Qc(jr,t),Br!==null&&Qc(Br,t),zr!==null&&Qc(zr,t),Ll.forEach(r),Ul.forEach(r);for(var a=0;a<qr.length;a++){var l=qr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<qr.length&&(a=qr[0],a.blockedOn===null);)Pv(a),a.blockedOn===null&&qr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[wt]||null;if(typeof d=="function")v||Vv(a);else if(v){var A=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[wt]||null)A=v.formAction;else if(_p(h)!==null)continue}else A=v.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),Vv(a)}}}function vp(t){this._internalRoot=t}Xc.prototype.render=vp.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=In();Nv(a,l,t,r,null,null)},Xc.prototype.unmount=vp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Nv(t.current,2,null,t,null,null),xc(),r[kn]=null}};function Xc(t){this._internalRoot=t}Xc.prototype.unstable_scheduleHydration=function(t){if(t){var r=_r();t={blockedOn:null,target:t,priority:r};for(var a=0;a<qr.length&&r!==0&&r<qr[a].priority;a++);qr.splice(a,0,t),a===0&&Pv(t)}};var Lv=e.version;if(Lv!=="19.1.0")throw Error(s(527,Lv,"19.1.0"));te.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=m(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var Ew={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{gt=Wc.inject(Ew),Ye=Wc}catch{}}return ql.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=J_,d=ey,v=ty,A=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(A=r.unstable_transitionCallbacks)),r=Cv(t,1,!1,null,null,a,l,h,d,v,A,null),t[kn]=r.current,tp(t),new vp(r)},ql.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=J_,v=ey,A=ty,I=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),r=Cv(t,1,!0,r,a??null,l,h,d,v,A,I,F),r.context=Iv(null),a=r.current,l=In(),l=gr(l),h=wr(l),h.callback=null,Rr(a,h,l),a=l,r.current.lanes=a,Mi(r,a),Ai(r),t[kn]=r.current,tp(t),new Xc(r)},ql.version="19.1.0",ql}var Kv;function xw(){if(Kv)return Ap.exports;Kv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Ap.exports=Dw(),Ap.exports}var Ow=xw();const kw=UT(Ow);var Hl={},Qv;function Pw(){if(Qv)return Hl;Qv=1,Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.parse=f,Hl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function f(T,x){const D=new u,G=T.length;if(G<2)return D;const L=x?.decode||E;let H=0;do{const ee=T.indexOf("=",H);if(ee===-1)break;const Z=T.indexOf(";",H),oe=Z===-1?G:Z;if(ee>oe){H=T.lastIndexOf(";",ee-1)+1;continue}const ce=p(T,H,ee),_e=m(T,ee,ce),P=T.slice(ce,_e);if(D[P]===void 0){let R=p(T,ee+1,oe),C=m(T,oe,R);const k=L(T.slice(R,C));D[P]=k}H=oe+1}while(H<G);return D}function p(T,x,D){do{const G=T.charCodeAt(x);if(G!==32&&G!==9)return x}while(++x<D);return D}function m(T,x,D){for(;x>D;){const G=T.charCodeAt(--x);if(G!==32&&G!==9)return x+1}return D}function g(T,x,D){const G=D?.encode||encodeURIComponent;if(!i.test(T))throw new TypeError(`argument name is invalid: ${T}`);const L=G(x);if(!e.test(L))throw new TypeError(`argument val is invalid: ${x}`);let H=T+"="+L;if(!D)return H;if(D.maxAge!==void 0){if(!Number.isInteger(D.maxAge))throw new TypeError(`option maxAge is invalid: ${D.maxAge}`);H+="; Max-Age="+D.maxAge}if(D.domain){if(!n.test(D.domain))throw new TypeError(`option domain is invalid: ${D.domain}`);H+="; Domain="+D.domain}if(D.path){if(!s.test(D.path))throw new TypeError(`option path is invalid: ${D.path}`);H+="; Path="+D.path}if(D.expires){if(!b(D.expires)||!Number.isFinite(D.expires.valueOf()))throw new TypeError(`option expires is invalid: ${D.expires}`);H+="; Expires="+D.expires.toUTCString()}if(D.httpOnly&&(H+="; HttpOnly"),D.secure&&(H+="; Secure"),D.partitioned&&(H+="; Partitioned"),D.priority)switch(typeof D.priority=="string"?D.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${D.priority}`)}if(D.sameSite)switch(typeof D.sameSite=="string"?D.sameSite.toLowerCase():D.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${D.sameSite}`)}return H}function E(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function b(T){return o.call(T)==="[object Date]"}return Hl}Pw();var Yv="popstate";function Mw(i={}){function e(s,o){let{pathname:u,search:f,hash:p}=s.location;return qp("",{pathname:u,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:su(o)}return Lw(e,n,null,i)}function ht(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function ni(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Vw(){return Math.random().toString(36).substring(2,10)}function Xv(i,e){return{usr:i.state,key:i.key,idx:e}}function qp(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?bo(e):e,state:n,key:e&&e.key||s||Vw()}}function su({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function bo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function Lw(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,p="POP",m=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function b(){p="POP";let L=E(),H=L==null?null:L-g;g=L,m&&m({action:p,location:G.location,delta:H})}function T(L,H){p="PUSH";let ee=qp(G.location,L,H);g=E()+1;let Z=Xv(ee,g),oe=G.createHref(ee);try{f.pushState(Z,"",oe)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(oe)}u&&m&&m({action:p,location:G.location,delta:1})}function x(L,H){p="REPLACE";let ee=qp(G.location,L,H);g=E();let Z=Xv(ee,g),oe=G.createHref(ee);f.replaceState(Z,"",oe),u&&m&&m({action:p,location:G.location,delta:0})}function D(L){return Uw(L)}let G={get action(){return p},get location(){return i(o,f)},listen(L){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Yv,b),m=L,()=>{o.removeEventListener(Yv,b),m=null}},createHref(L){return e(o,L)},createURL:D,encodeLocation(L){let H=D(L);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:T,replace:x,go(L){return f.go(L)}};return G}function Uw(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:su(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function jT(i,e,n="/"){return jw(i,e,n,!1)}function jw(i,e,n,s){let o=typeof e=="string"?bo(e):e,u=ur(o.pathname||"/",n);if(u==null)return null;let f=BT(i);Bw(f);let p=null;for(let m=0;p==null&&m<f.length;++m){let g=Ww(u);p=Yw(f[m],g,s)}return p}function BT(i,e=[],n=[],s=""){let o=(u,f,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};m.relativePath.startsWith("/")&&(ht(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let g=or([s,m.relativePath]),E=n.concat(m);u.children&&u.children.length>0&&(ht(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),BT(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:Kw(g,u.index),routesMeta:E})};return i.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let p of zT(u.path))o(u,f,p)}),e}function zT(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=zT(s.join("/")),p=[];return p.push(...f.map(m=>m===""?u:[u,m].join("/"))),o&&p.push(...f),p.map(m=>i.startsWith("/")&&m===""?"/":m)}function Bw(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Qw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var zw=/^:[\w-]+$/,qw=3,Hw=2,Fw=1,Gw=10,$w=-2,Wv=i=>i==="*";function Kw(i,e){let n=i.split("/"),s=n.length;return n.some(Wv)&&(s+=$w),e&&(s+=Hw),n.filter(o=>!Wv(o)).reduce((o,u)=>o+(zw.test(u)?qw:u===""?Fw:Gw),s)}function Qw(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function Yw(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let p=0;p<s.length;++p){let m=s[p],g=p===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=Eh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},E),T=m.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=Eh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:or([u,b.pathname]),pathnameBase:t1(or([u,b.pathnameBase])),route:T}),b.pathnameBase!=="/"&&(u=or([u,b.pathnameBase]))}return f}function Eh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=Xw(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:b},T)=>{if(E==="*"){let D=p[T]||"";f=u.slice(0,u.length-D.length).replace(/(.)\/+$/,"$1")}const x=p[T];return b&&!x?g[E]=void 0:g[E]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function Xw(i,e=!1,n=!0){ni(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,m)=>(s.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Ww(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ni(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ur(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function Zw(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?bo(i):i;return{pathname:n?n.startsWith("/")?n:Jw(n,e):e,search:n1(s),hash:i1(o)}}function Jw(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Rp(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function e1(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Sm(i){let e=e1(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function wm(i,e,n,s=!1){let o;typeof i=="string"?o=bo(i):(o={...i},ht(!o.pathname||!o.pathname.includes("?"),Rp("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),Rp("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),Rp("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let T=f.split("/");for(;T[0]==="..";)T.shift(),b-=1;o.pathname=T.join("/")}p=b>=0?e[b]:"/"}let m=Zw(o,p),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||E)&&(m.pathname+="/"),m}var or=i=>i.join("/").replace(/\/\/+/g,"/"),t1=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),n1=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,i1=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function r1(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var qT=["POST","PUT","PATCH","DELETE"];new Set(qT);var s1=["GET",...qT];new Set(s1);var So=z.createContext(null);So.displayName="DataRouter";var qh=z.createContext(null);qh.displayName="DataRouterState";var HT=z.createContext({isTransitioning:!1});HT.displayName="ViewTransition";var a1=z.createContext(new Map);a1.displayName="Fetchers";var o1=z.createContext(null);o1.displayName="Await";var si=z.createContext(null);si.displayName="Navigation";var pu=z.createContext(null);pu.displayName="Location";var ai=z.createContext({outlet:null,matches:[],isDataRoute:!1});ai.displayName="Route";var Rm=z.createContext(null);Rm.displayName="RouteError";function l1(i,{relative:e}={}){ht(wo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=z.useContext(si),{hash:o,pathname:u,search:f}=mu(i,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:or([n,u])),s.createHref({pathname:p,search:f,hash:o})}function wo(){return z.useContext(pu)!=null}function fs(){return ht(wo(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(pu).location}var FT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GT(i){z.useContext(si).static||z.useLayoutEffect(i)}function la(){let{isDataRoute:i}=z.useContext(ai);return i?A1():u1()}function u1(){ht(wo(),"useNavigate() may be used only in the context of a <Router> component.");let i=z.useContext(So),{basename:e,navigator:n}=z.useContext(si),{matches:s}=z.useContext(ai),{pathname:o}=fs(),u=JSON.stringify(Sm(s)),f=z.useRef(!1);return GT(()=>{f.current=!0}),z.useCallback((m,g={})=>{if(ni(f.current,FT),!f.current)return;if(typeof m=="number"){n.go(m);return}let E=wm(m,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:or([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}z.createContext(null);function c1(){let{matches:i}=z.useContext(ai),e=i[i.length-1];return e?e.params:{}}function mu(i,{relative:e}={}){let{matches:n}=z.useContext(ai),{pathname:s}=fs(),o=JSON.stringify(Sm(n));return z.useMemo(()=>wm(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function h1(i,e){return $T(i,e)}function $T(i,e,n,s){ht(wo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=z.useContext(si),{matches:u}=z.useContext(ai),f=u[u.length-1],p=f?f.params:{},m=f?f.pathname:"/",g=f?f.pathnameBase:"/",E=f&&f.route;{let H=E&&E.path||"";KT(m,!E||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let b=fs(),T;if(e){let H=typeof e=="string"?bo(e):e;ht(g==="/"||H.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${H.pathname}" was given in the \`location\` prop.`),T=H}else T=b;let x=T.pathname||"/",D=x;if(g!=="/"){let H=g.replace(/^\//,"").split("/");D="/"+x.replace(/^\//,"").split("/").slice(H.length).join("/")}let G=jT(i,{pathname:D});ni(E||G!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),ni(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=g1(G&&G.map(H=>Object.assign({},H,{params:Object.assign({},p,H.params),pathname:or([g,o.encodeLocation?o.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?g:or([g,o.encodeLocation?o.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),u,n,s);return e&&L?z.createElement(pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},L):L}function f1(){let i=T1(),e=r1(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=z.createElement(z.Fragment,null,z.createElement("p",null,"💿 Hey developer 👋"),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,f)}var d1=z.createElement(f1,null),p1=class extends z.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?z.createElement(ai.Provider,{value:this.props.routeContext},z.createElement(Rm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function m1({routeContext:i,match:e,children:n}){let s=z.useContext(So);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(ai.Provider,{value:i},n)}function g1(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n?.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);ht(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let f=!1,p=-1;if(n)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=m),g.route.id){let{loaderData:E,errors:b}=n,T=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||T){f=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((m,g,E)=>{let b,T=!1,x=null,D=null;n&&(b=u&&g.route.id?u[g.route.id]:void 0,x=g.route.errorElement||d1,f&&(p<0&&E===0?(KT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,D=null):p===E&&(T=!0,D=g.route.hydrateFallbackElement||null)));let G=e.concat(o.slice(0,E+1)),L=()=>{let H;return b?H=x:T?H=D:g.route.Component?H=z.createElement(g.route.Component,null):g.route.element?H=g.route.element:H=m,z.createElement(m1,{match:g,routeContext:{outlet:m,matches:G,isDataRoute:n!=null},children:H})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?z.createElement(p1,{location:n.location,revalidation:n.revalidation,component:x,error:b,children:L(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):L()},null)}function Cm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _1(i){let e=z.useContext(So);return ht(e,Cm(i)),e}function y1(i){let e=z.useContext(qh);return ht(e,Cm(i)),e}function v1(i){let e=z.useContext(ai);return ht(e,Cm(i)),e}function Im(i){let e=v1(i),n=e.matches[e.matches.length-1];return ht(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function E1(){return Im("useRouteId")}function T1(){let i=z.useContext(Rm),e=y1("useRouteError"),n=Im("useRouteError");return i!==void 0?i:e.errors?.[n]}function A1(){let{router:i}=_1("useNavigate"),e=Im("useNavigate"),n=z.useRef(!1);return GT(()=>{n.current=!0}),z.useCallback(async(o,u={})=>{ni(n.current,FT),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Zv={};function KT(i,e,n){!e&&!Zv[i]&&(Zv[i]=!0,ni(!1,n))}z.memo(b1);function b1({routes:i,future:e,state:n}){return $T(i,void 0,n,e)}function S1({to:i,replace:e,state:n,relative:s}){ht(wo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=z.useContext(si);ni(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=z.useContext(ai),{pathname:f}=fs(),p=la(),m=wm(i,Sm(u),f,s==="path"),g=JSON.stringify(m);return z.useEffect(()=>{p(JSON.parse(g),{replace:e,state:n,relative:s})},[p,g,s,e,n]),null}function Si(i){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function w1({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ht(!wo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),p=z.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=bo(n));let{pathname:m="/",search:g="",hash:E="",state:b=null,key:T="default"}=n,x=z.useMemo(()=>{let D=ur(m,f);return D==null?null:{location:{pathname:D,search:g,hash:E,state:b,key:T},navigationType:s}},[f,m,g,E,b,T,s]);return ni(x!=null,`<Router basename="${f}"> is not able to match the URL "${m}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:z.createElement(si.Provider,{value:p},z.createElement(pu.Provider,{children:e,value:x}))}function R1({children:i,location:e}){return h1(Hp(i),e)}function Hp(i,e=[]){let n=[];return z.Children.forEach(i,(s,o)=>{if(!z.isValidElement(s))return;let u=[...e,o];if(s.type===z.Fragment){n.push.apply(n,Hp(s.props.children,u));return}ht(s.type===Si,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Hp(s.props.children,u)),n.push(f)}),n}var oh="get",lh="application/x-www-form-urlencoded";function Hh(i){return i!=null&&typeof i.tagName=="string"}function C1(i){return Hh(i)&&i.tagName.toLowerCase()==="button"}function I1(i){return Hh(i)&&i.tagName.toLowerCase()==="form"}function N1(i){return Hh(i)&&i.tagName.toLowerCase()==="input"}function D1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function x1(i,e){return i.button===0&&(!e||e==="_self")&&!D1(i)}var Zc=null;function O1(){if(Zc===null)try{new FormData(document.createElement("form"),0),Zc=!1}catch{Zc=!0}return Zc}var k1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cp(i){return i!=null&&!k1.has(i)?(ni(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lh}"`),null):i}function P1(i,e){let n,s,o,u,f;if(I1(i)){let p=i.getAttribute("action");s=p?ur(p,e):null,n=i.getAttribute("method")||oh,o=Cp(i.getAttribute("enctype"))||lh,u=new FormData(i)}else if(C1(i)||N1(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||p.getAttribute("action");if(s=m?ur(m,e):null,n=i.getAttribute("formmethod")||p.getAttribute("method")||oh,o=Cp(i.getAttribute("formenctype"))||Cp(p.getAttribute("enctype"))||lh,u=new FormData(p,i),!O1()){let{name:g,type:E,value:b}=i;if(E==="image"){let T=g?`${g}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else g&&u.append(g,b)}}else{if(Hh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=oh,s=null,o=lh,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Nm(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function M1(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function V1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function L1(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await M1(u,n);return f.links?f.links():[]}return[]}));return z1(s.flat(1).filter(V1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Jv(i,e,n,s,o,u){let f=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,p=(m,g)=>n[g].pathname!==m.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==m.params["*"];return u==="assets"?e.filter((m,g)=>f(m,g)||p(m,g)):u==="data"?e.filter((m,g)=>{let E=s.routes[m.route.id];if(!E||!E.hasLoader)return!1;if(f(m,g)||p(m,g))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function U1(i,e,{includeHydrateFallback:n}={}){return j1(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function j1(i){return[...new Set(i)]}function B1(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function z1(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(B1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var q1=new Set([100,101,204,205]);function H1(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&ur(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function QT(){let i=z.useContext(So);return Nm(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function F1(){let i=z.useContext(qh);return Nm(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Dm=z.createContext(void 0);Dm.displayName="FrameworkContext";function YT(){let i=z.useContext(Dm);return Nm(i,"You must render this element inside a <HydratedRouter> element"),i}function G1(i,e){let n=z.useContext(Dm),[s,o]=z.useState(!1),[u,f]=z.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:g,onMouseLeave:E,onTouchStart:b}=e,T=z.useRef(null);z.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let G=H=>{H.forEach(ee=>{f(ee.isIntersecting)})},L=new IntersectionObserver(G,{threshold:.5});return T.current&&L.observe(T.current),()=>{L.disconnect()}}},[i]),z.useEffect(()=>{if(s){let G=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(G)}}},[s]);let x=()=>{o(!0)},D=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,T,{}]:[u,T,{onFocus:Fl(p,x),onBlur:Fl(m,D),onMouseEnter:Fl(g,x),onMouseLeave:Fl(E,D),onTouchStart:Fl(b,x)}]:[!1,T,{}]}function Fl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function $1({page:i,...e}){let{router:n}=QT(),s=z.useMemo(()=>jT(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?z.createElement(Q1,{page:i,matches:s,...e}):null}function K1(i){let{manifest:e,routeModules:n}=YT(),[s,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return L1(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function Q1({page:i,matches:e,...n}){let s=fs(),{manifest:o,routeModules:u}=YT(),{basename:f}=QT(),{loaderData:p,matches:m}=F1(),g=z.useMemo(()=>Jv(i,e,m,o,s,"data"),[i,e,m,o,s]),E=z.useMemo(()=>Jv(i,e,m,o,s,"assets"),[i,e,m,o,s]),b=z.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let D=new Set,G=!1;if(e.forEach(H=>{let ee=o.routes[H.route.id];!ee||!ee.hasLoader||(!g.some(Z=>Z.route.id===H.route.id)&&H.route.id in p&&u[H.route.id]?.shouldRevalidate||ee.hasClientLoader?G=!0:D.add(H.route.id))}),D.size===0)return[];let L=H1(i,f);return G&&D.size>0&&L.searchParams.set("_routes",e.filter(H=>D.has(H.route.id)).map(H=>H.route.id).join(",")),[L.pathname+L.search]},[f,p,s,o,g,e,i,u]),T=z.useMemo(()=>U1(E,o),[E,o]),x=K1(E);return z.createElement(z.Fragment,null,b.map(D=>z.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),T.map(D=>z.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),x.map(({key:D,link:G})=>z.createElement("link",{key:D,...G})))}function Y1(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var XT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{XT&&(window.__reactRouterVersion="7.6.3")}catch{}function X1({basename:i,children:e,window:n}){let s=z.useRef();s.current==null&&(s.current=Mw({window:n,v5Compat:!0}));let o=s.current,[u,f]=z.useState({action:o.action,location:o.location}),p=z.useCallback(m=>{z.startTransition(()=>f(m))},[f]);return z.useLayoutEffect(()=>o.listen(p),[o,p]),z.createElement(w1,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var WT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zr=z.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:p,target:m,to:g,preventScrollReset:E,viewTransition:b,...T},x){let{basename:D}=z.useContext(si),G=typeof g=="string"&&WT.test(g),L,H=!1;if(typeof g=="string"&&G&&(L=g,XT))try{let C=new URL(window.location.href),k=g.startsWith("//")?new URL(C.protocol+g):new URL(g),V=ur(k.pathname,D);k.origin===C.origin&&V!=null?g=V+k.search+k.hash:H=!0}catch{ni(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=l1(g,{relative:o}),[Z,oe,ce]=G1(s,T),_e=eR(g,{replace:f,state:p,target:m,preventScrollReset:E,relative:o,viewTransition:b});function P(C){e&&e(C),C.defaultPrevented||_e(C)}let R=z.createElement("a",{...T,...ce,href:L||ee,onClick:H||u?e:P,ref:Y1(x,oe),target:m,"data-discover":!G&&n==="render"?"true":void 0});return Z&&!G?z.createElement(z.Fragment,null,R,z.createElement($1,{page:ee})):R});Zr.displayName="Link";var W1=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:p,children:m,...g},E){let b=mu(f,{relative:g.relative}),T=fs(),x=z.useContext(qh),{navigator:D,basename:G}=z.useContext(si),L=x!=null&&sR(b)&&p===!0,H=D.encodeLocation?D.encodeLocation(b).pathname:b.pathname,ee=T.pathname,Z=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(ee=ee.toLowerCase(),Z=Z?Z.toLowerCase():null,H=H.toLowerCase()),Z&&G&&(Z=ur(Z,G)||Z);const oe=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let ce=ee===H||!o&&ee.startsWith(H)&&ee.charAt(oe)==="/",_e=Z!=null&&(Z===H||!o&&Z.startsWith(H)&&Z.charAt(H.length)==="/"),P={isActive:ce,isPending:_e,isTransitioning:L},R=ce?e:void 0,C;typeof s=="function"?C=s(P):C=[s,ce?"active":null,_e?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(P):u;return z.createElement(Zr,{...g,"aria-current":R,className:C,ref:E,style:k,to:f,viewTransition:p},typeof m=="function"?m(P):m)});W1.displayName="NavLink";var Z1=z.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=oh,action:p,onSubmit:m,relative:g,preventScrollReset:E,viewTransition:b,...T},x)=>{let D=iR(),G=rR(p,{relative:g}),L=f.toLowerCase()==="get"?"get":"post",H=typeof p=="string"&&WT.test(p),ee=Z=>{if(m&&m(Z),Z.defaultPrevented)return;Z.preventDefault();let oe=Z.nativeEvent.submitter,ce=oe?.getAttribute("formmethod")||f;D(oe||Z.currentTarget,{fetcherKey:e,method:ce,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:b})};return z.createElement("form",{ref:x,method:L,action:G,onSubmit:s?m:ee,...T,"data-discover":!H&&i==="render"?"true":void 0})});Z1.displayName="Form";function J1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZT(i){let e=z.useContext(So);return ht(e,J1(i)),e}function eR(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let p=la(),m=fs(),g=mu(i,{relative:u});return z.useCallback(E=>{if(x1(E,e)){E.preventDefault();let b=n!==void 0?n:su(m)===su(g);p(i,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[m,p,g,n,s,e,i,o,u,f])}var tR=0,nR=()=>`__${String(++tR)}__`;function iR(){let{router:i}=ZT("useSubmit"),{basename:e}=z.useContext(si),n=E1();return z.useCallback(async(s,o={})=>{let{action:u,method:f,encType:p,formData:m,body:g}=P1(s,e);if(o.navigate===!1){let E=o.fetcherKey||nR();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function rR(i,{relative:e}={}){let{basename:n}=z.useContext(si),s=z.useContext(ai);ht(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...mu(i||".",{relative:e})},f=fs();if(i==null){u.search=f.search;let p=new URLSearchParams(u.search),m=p.getAll("index");if(m.some(E=>E==="")){p.delete("index"),m.filter(b=>b).forEach(b=>p.append("index",b));let E=p.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:or([n,u.pathname])),su(u)}function sR(i,e={}){let n=z.useContext(HT);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ZT("useViewTransitionState"),o=mu(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=ur(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ur(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Eh(o.pathname,f)!=null||Eh(o.pathname,u)!=null}[...q1];const aR="_container_17u6m_1",oR="_header_17u6m_8",lR="_logo_17u6m_17",uR="_navLink_17u6m_23",cR="_ctaButton_17u6m_35",hR="_mainContent_17u6m_48",fR="_hero_17u6m_57",dR="_title_17u6m_62",pR="_subtitle_17u6m_68",mR="_ctaButtonLarge_17u6m_74",gR="_howItWorks_17u6m_88",_R="_steps_17u6m_102",yR="_step_17u6m_102",Xt={container:aR,header:oR,logo:lR,navLink:uR,ctaButton:cR,mainContent:hR,hero:fR,title:dR,subtitle:pR,ctaButtonLarge:mR,howItWorks:gR,steps:_R,step:yR},vR=()=>w.jsxs("div",{className:Xt.container,children:[w.jsxs("header",{className:Xt.header,children:[w.jsx("h1",{className:Xt.logo,children:"Journeest"}),w.jsxs("nav",{children:[w.jsx(Zr,{to:"/login",className:Xt.navLink,children:"Iniciar Sesión"}),w.jsx(Zr,{to:"/registro",className:`${Xt.navLink} ${Xt.ctaButton}`,children:"Empezar Diagnóstico"})]})]}),w.jsxs("main",{className:Xt.mainContent,children:[w.jsxs("div",{className:Xt.hero,children:[w.jsx("h2",{className:Xt.title,children:"Transforma tu negocio turístico con inteligencia."}),w.jsx("p",{className:Xt.subtitle,children:"Journeest es la plataforma que te guía para descubrir ineficiencias, optimizar procesos y potenciar tu empresa con automatización e IA."}),w.jsx(Zr,{to:"/registro",className:`${Xt.navLink} ${Xt.ctaButtonLarge}`,children:"Comienza tu diagnóstico gratuito"})]}),w.jsxs("div",{className:Xt.howItWorks,children:[w.jsx("h3",{children:"¿Cómo funciona?"}),w.jsxs("div",{className:Xt.steps,children:[w.jsxs("div",{className:Xt.step,children:[w.jsx("h4",{children:"1. Registra tu empresa"}),w.jsx("p",{children:"Crea tu cuenta y define la estructura y áreas clave de tu negocio."})]}),w.jsxs("div",{className:Xt.step,children:[w.jsx("h4",{children:"2. Colabora con tu equipo"}),w.jsx("p",{children:"Invita a los responsables de cada área a completar un análisis detallado."})]}),w.jsxs("div",{className:Xt.step,children:[w.jsx("h4",{children:"3. Recibe tus informes"}),w.jsx("p",{children:"Nuestra IA analiza los datos y genera informes de valor y propuestas de automatización."})]})]})]})]})]}),ER=()=>{};var eE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},TR=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],p=i[n++],m=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},e0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,p=f?i[o+1]:0,m=o+2<i.length,g=m?i[o+2]:0,E=u>>2,b=(u&3)<<4|p>>4;let T=(p&15)<<2|g>>6,x=g&63;m||(x=64,f||(T=64)),s.push(n[E],n[b],n[T],n[x])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(JT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):TR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],p=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const b=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||p==null||g==null||b==null)throw new AR;const T=u<<2|p>>4;if(s.push(T),g!==64){const x=p<<4&240|g>>2;if(s.push(x),b!==64){const D=g<<6&192|b;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class AR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bR=function(i){const e=JT(i);return e0.encodeByteArray(e,!0)},Th=function(i){return bR(i).replace(/\./g,"")},t0=function(i){try{return e0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=()=>SR().__FIREBASE_DEFAULTS__,RR=()=>{if(typeof process>"u"||typeof eE>"u")return;const i=eE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},CR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&t0(i[1]);return e&&JSON.parse(e)},Fh=()=>{try{return ER()||wR()||RR()||CR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},n0=i=>{var e,n;return(n=(e=Fh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},xm=i=>{const e=n0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},i0=()=>{var i;return(i=Fh())===null||i===void 0?void 0:i.config},r0=i=>{var e;return(e=Fh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(i){return i.endsWith(".cloudworkstations.dev")}async function Gh(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Th(JSON.stringify(n)),Th(JSON.stringify(f)),""].join(".")}const Zl={};function NR(){const i={prod:[],emulator:[]};for(const e of Object.keys(Zl))Zl[e]?i.emulator.push(e):i.prod.push(e);return i}function DR(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let tE=!1;function $h(i,e){if(typeof window>"u"||typeof document>"u"||!mr(window.location.host)||Zl[i]===e||Zl[i]||tE)return;Zl[i]=e;function n(T){return`__firebase__banner__${T}`}const s="__firebase__banner",u=NR().prod.length>0;function f(){const T=document.getElementById(s);T&&T.remove()}function p(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,x){T.setAttribute("width","24"),T.setAttribute("id",x),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{tE=!0,f()},T}function E(T,x){T.setAttribute("id",x),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function b(){const T=DR(s),x=n("text"),D=document.getElementById(x)||document.createElement("span"),G=n("learnmore"),L=document.getElementById(G)||document.createElement("a"),H=n("preprendIcon"),ee=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const Z=T.element;p(Z),E(L,G);const oe=g();m(ee,H),Z.append(ee,D,L,oe),document.body.appendChild(Z)}u?(D.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function OR(){var i;const e=(i=Fh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function MR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VR(){const i=un();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function LR(){return!OR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UR(){try{return typeof indexedDB=="object"}catch{return!1}}function jR(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="FirebaseError";class ki extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=BR,Object.setPrototypeOf(this,ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gu.prototype.create)}}class gu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?zR(u,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new ki(o,p,s)}}function zR(i,e){return i.replace(qR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const qR=/\{\$([^}]+)}/g;function HR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function rs(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(nE(u)&&nE(f)){if(!rs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function nE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function $l(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Kl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function FR(i,e){const n=new GR(i,e);return n.subscribe.bind(n)}class GR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");$R(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Ip),o.error===void 0&&(o.error=Ip),o.complete===void 0&&(o.complete=Ip);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $R(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Ip(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(i){return i&&i._delegate?i._delegate:i}class cr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new IR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e?.identifier),o=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YR(e))try{this.getOrInitializeService({instanceIdentifier:Zs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zs){return this.instances.has(e)}getOptions(e=Zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:QR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Zs){return this.component?this.component.multipleInstances?e:Zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QR(i){return i===Zs?void 0:i}function YR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ue||(Ue={}));const WR={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},ZR=Ue.INFO,JR={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},eC=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=JR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Om{constructor(e){this.name=e,this._logLevel=ZR,this._logHandler=eC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const tC=(i,e)=>e.some(n=>i instanceof n);let iE,rE;function nC(){return iE||(iE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iC(){return rE||(rE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const a0=new WeakMap,Fp=new WeakMap,o0=new WeakMap,Np=new WeakMap,km=new WeakMap;function rC(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(Jr(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&a0.set(n,i)}).catch(()=>{}),km.set(e,i),e}function sC(i){if(Fp.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Fp.set(i,e)}let Gp={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Fp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||o0.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function aC(i){Gp=i(Gp)}function oC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Dp(this),e,...n);return o0.set(s,e.sort?e.sort():[e]),Jr(s)}:iC().includes(i)?function(...e){return i.apply(Dp(this),e),Jr(a0.get(this))}:function(...e){return Jr(i.apply(Dp(this),e))}}function lC(i){return typeof i=="function"?oC(i):(i instanceof IDBTransaction&&sC(i),tC(i,nC())?new Proxy(i,Gp):i)}function Jr(i){if(i instanceof IDBRequest)return rC(i);if(Np.has(i))return Np.get(i);const e=lC(i);return e!==i&&(Np.set(i,e),km.set(e,i)),e}const Dp=i=>km.get(i);function uC(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),p=Jr(f);return s&&f.addEventListener("upgradeneeded",m=>{s(Jr(f.result),m.oldVersion,m.newVersion,Jr(f.transaction),m)}),n&&f.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),p.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const cC=["get","getKey","getAll","getAllKeys","count"],hC=["put","add","delete","clear"],xp=new Map;function sE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(xp.get(e))return xp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=hC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||cC.includes(n)))return;const u=async function(f,...p){const m=this.transaction(f,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[n](...p),o&&m.done]))[0]};return xp.set(e,u),u}aC(i=>({...i,get:(e,n,s)=>sE(e,n)||i.get(e,n,s),has:(e,n)=>!!sE(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function dC(i){const e=i.getComponent();return e?.type==="VERSION"}const $p="@firebase/app",aE="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=new Om("@firebase/app"),pC="@firebase/app-compat",mC="@firebase/analytics-compat",gC="@firebase/analytics",_C="@firebase/app-check-compat",yC="@firebase/app-check",vC="@firebase/auth",EC="@firebase/auth-compat",TC="@firebase/database",AC="@firebase/data-connect",bC="@firebase/database-compat",SC="@firebase/functions",wC="@firebase/functions-compat",RC="@firebase/installations",CC="@firebase/installations-compat",IC="@firebase/messaging",NC="@firebase/messaging-compat",DC="@firebase/performance",xC="@firebase/performance-compat",OC="@firebase/remote-config",kC="@firebase/remote-config-compat",PC="@firebase/storage",MC="@firebase/storage-compat",VC="@firebase/firestore",LC="@firebase/ai",UC="@firebase/firestore-compat",jC="firebase",BC="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="[DEFAULT]",zC={[$p]:"fire-core",[pC]:"fire-core-compat",[gC]:"fire-analytics",[mC]:"fire-analytics-compat",[yC]:"fire-app-check",[_C]:"fire-app-check-compat",[vC]:"fire-auth",[EC]:"fire-auth-compat",[TC]:"fire-rtdb",[AC]:"fire-data-connect",[bC]:"fire-rtdb-compat",[SC]:"fire-fn",[wC]:"fire-fn-compat",[RC]:"fire-iid",[CC]:"fire-iid-compat",[IC]:"fire-fcm",[NC]:"fire-fcm-compat",[DC]:"fire-perf",[xC]:"fire-perf-compat",[OC]:"fire-rc",[kC]:"fire-rc-compat",[PC]:"fire-gcs",[MC]:"fire-gcs-compat",[VC]:"fire-fst",[UC]:"fire-fst-compat",[LC]:"fire-vertex","fire-js":"fire-js",[jC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Map,qC=new Map,Qp=new Map;function oE(i,e){try{i.container.addComponent(e)}catch(n){hr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function ss(i){const e=i.name;if(Qp.has(e))return hr.debug(`There were multiple attempts to register component ${e}.`),!1;Qp.set(e,i);for(const n of Ah.values())oE(n,i);for(const n of qC.values())oE(n,i);return!0}function yu(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function vn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},es=new gu("app","Firebase",HC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new cr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=BC;function l0(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Kp,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw es.create("bad-app-name",{appName:String(o)});if(n||(n=i0()),!n)throw es.create("no-options");const u=Ah.get(o);if(u){if(rs(n,u.options)&&rs(s,u.config))return u;throw es.create("duplicate-app",{appName:o})}const f=new XR(o);for(const m of Qp.values())f.addComponent(m);const p=new FC(n,s,f);return Ah.set(o,p),p}function Kh(i=Kp){const e=Ah.get(i);if(!e&&i===Kp&&i0())return l0();if(!e)throw es.create("no-app",{appName:i});return e}function Gn(i,e,n){var s;let o=(s=zC[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const p=[`Unable to register library "${o}" with version "${e}":`];u&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&p.push("and"),f&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hr.warn(p.join(" "));return}ss(new cr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="firebase-heartbeat-database",$C=1,au="firebase-heartbeat-store";let Op=null;function u0(){return Op||(Op=uC(GC,$C,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(au)}catch(n){console.warn(n)}}}}).catch(i=>{throw es.create("idb-open",{originalErrorMessage:i.message})})),Op}async function KC(i){try{const n=(await u0()).transaction(au),s=await n.objectStore(au).get(c0(i));return await n.done,s}catch(e){if(e instanceof ki)hr.warn(e.message);else{const n=es.create("idb-get",{originalErrorMessage:e?.message});hr.warn(n.message)}}}async function lE(i,e){try{const s=(await u0()).transaction(au,"readwrite");await s.objectStore(au).put(e,c0(i)),await s.done}catch(n){if(n instanceof ki)hr.warn(n.message);else{const s=es.create("idb-set",{originalErrorMessage:n?.message});hr.warn(s.message)}}}function c0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=1024,YC=30;class XC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ZC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=uE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>YC){const f=JC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){hr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=uE(),{heartbeatsToSend:s,unsentEntries:o}=WC(this._heartbeatsCache.heartbeats),u=Th(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return hr.warn(n),""}}}function uE(){return new Date().toISOString().substring(0,10)}function WC(i,e=QC){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),cE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),cE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class ZC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UR()?jR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return lE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return lE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function cE(i){return Th(JSON.stringify({version:2,heartbeats:i})).length}function JC(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(i){ss(new cr("platform-logger",e=>new fC(e),"PRIVATE")),ss(new cr("heartbeat",e=>new XC(e),"PRIVATE")),Gn($p,aE,i),Gn($p,aE,"esm2017"),Gn("fire-js","")}eI("");function Pm(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function h0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tI=h0,f0=new gu("auth","Firebase",h0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new Om("@firebase/auth");function nI(i,...e){bh.logLevel<=Ue.WARN&&bh.warn(`Auth (${ua}): ${i}`,...e)}function uh(i,...e){bh.logLevel<=Ue.ERROR&&bh.error(`Auth (${ua}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(i,...e){throw Mm(i,...e)}function Ii(i,...e){return Mm(i,...e)}function d0(i,e,n){const s=Object.assign(Object.assign({},tI()),{[e]:n});return new gu("auth","Firebase",s).create(e,{appName:i.name})}function lr(i){return d0(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mm(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return f0.create(i,...e)}function be(i,e,...n){if(!i)throw Mm(e,...n)}function sr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw uh(e),new Error(e)}function fr(i,e){i||sr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function iI(){return hE()==="http:"||hE()==="https:"}function hE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iI()||PR()||"connection"in navigator)?navigator.onLine:!0}function sI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,fr(n>e,"Short delay should be less than long delay!"),this.isMobile=xR()||MR()}get(){return rI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(i,e){fr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],lI=new vu(3e4,6e4);function ds(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function ps(i,e,n,s,o={}){return m0(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const p=_u(Object.assign({key:i.config.apiKey},f)).slice(1),m=await i._getAdditionalHeaders();m["Content-Type"]="application/json",i.languageCode&&(m["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:m},u);return kR()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&mr(i.emulatorConfig.host)&&(g.credentials="include"),p0.fetch()(await g0(i,i.config.apiHost,n,p),g)})}async function m0(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},aI),e);try{const o=new cI(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Jc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[m,g]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jc(i,"credential-already-in-use",f);if(m==="EMAIL_EXISTS")throw Jc(i,"email-already-in-use",f);if(m==="USER_DISABLED")throw Jc(i,"user-disabled",f);const E=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw d0(i,E,g);ii(i,E)}}catch(o){if(o instanceof ki)throw o;ii(i,"network-request-failed",{message:String(o)})}}async function Eu(i,e,n,s,o={}){const u=await ps(i,e,n,s,o);return"mfaPendingCredential"in u&&ii(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function g0(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?Vm(i.config,o):`${i.config.apiScheme}://${o}`;return oI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function uI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ii(this.auth,"network-request-failed")),lI.get())})}}function Jc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ii(i,e,s);return o.customData._tokenResponse=n,o}function fE(i){return i!==void 0&&i.enterprise!==void 0}class hI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return uI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function fI(i,e){return ps(i,"GET","/v2/recaptchaConfig",ds(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dI(i,e){return ps(i,"POST","/v1/accounts:delete",e)}async function Sh(i,e){return ps(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pI(i,e=!1){const n=lt(i),s=await n.getIdToken(e),o=Lm(s);be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Jl(kp(o.auth_time)),issuedAtTime:Jl(kp(o.iat)),expirationTime:Jl(kp(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function kp(i){return Number(i)*1e3}function Lm(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return uh("JWT malformed, contained fewer than 3 sections"),null;try{const o=t0(n);return o?JSON.parse(o):(uh("Failed to decode base64 JWT payload"),null)}catch(o){return uh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function dE(i){const e=Lm(i);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ki&&mI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function mI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(i){var e;const n=i.auth,s=await i.getIdToken(),o=await ou(i,Sh(n,{idToken:s}));be(o?.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?_0(u.providerUserInfo):[],p=yI(i.providerData,f),m=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!p?.length,E=m?g:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new Xp(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,b)}async function _I(i){const e=lt(i);await wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yI(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function _0(i){return i.map(e=>{var{providerId:n}=e,s=Pm(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vI(i,e){const n=await m0(i,{},async()=>{const s=_u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await g0(i,o,"/v1/token",`key=${u}`),p=await i._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:p,body:s};return i.emulatorConfig&&mr(i.emulatorConfig.host)&&(m.credentials="include"),p0.fetch()(f,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function EI(i,e){return ps(i,"POST","/v2/accounts:revokeToken",ds(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=dE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await vI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new co;return s&&(be(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(be(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new co,this.toJSON())}_performRefresh(){return sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(i,e){be(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Jn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Pm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Xp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await ou(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return pI(this,e)}reload(){return _I(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Jn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await wh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vn(this.auth.app))return Promise.reject(lr(this.auth));const e=await this.getIdToken();return await ou(this,dI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,p,m,g,E;const b=(s=n.displayName)!==null&&s!==void 0?s:void 0,T=(o=n.email)!==null&&o!==void 0?o:void 0,x=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,D=(f=n.photoURL)!==null&&f!==void 0?f:void 0,G=(p=n.tenantId)!==null&&p!==void 0?p:void 0,L=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,H=(g=n.createdAt)!==null&&g!==void 0?g:void 0,ee=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:Z,emailVerified:oe,isAnonymous:ce,providerData:_e,stsTokenManager:P}=n;be(Z&&P,e,"internal-error");const R=co.fromJSON(this.name,P);be(typeof Z=="string",e,"internal-error"),Fr(b,e.name),Fr(T,e.name),be(typeof oe=="boolean",e,"internal-error"),be(typeof ce=="boolean",e,"internal-error"),Fr(x,e.name),Fr(D,e.name),Fr(G,e.name),Fr(L,e.name),Fr(H,e.name),Fr(ee,e.name);const C=new Jn({uid:Z,auth:e,email:T,emailVerified:oe,displayName:b,isAnonymous:ce,photoURL:D,phoneNumber:x,tenantId:G,stsTokenManager:R,createdAt:H,lastLoginAt:ee});return _e&&Array.isArray(_e)&&(C.providerData=_e.map(k=>Object.assign({},k))),L&&(C._redirectEventId=L),C}static async _fromIdTokenResponse(e,n,s=!1){const o=new co;o.updateFromServerResponse(n);const u=new Jn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await wh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?_0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,p=new co;p.updateFromIdToken(s);const m=new Jn({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Xp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=new Map;function ar(i){fr(i instanceof Function,"Expected a class definition");let e=pE.get(i);return e?(fr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,pE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}y0.type="NONE";const mE=y0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(i,e,n){return`firebase:${i}:${e}:${n}`}class ho{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ch(this.userKey,o.apiKey,u),this.fullPersistenceKey=ch("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sh(this.auth,{idToken:e}).catch(()=>{});return n?Jn._fromGetAccountInfoResponse(this.auth,n,e):null}return Jn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ho(ar(mE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ar(mE);const f=ch(s,e.config.apiKey,e.name);let p=null;for(const g of n)try{const E=await g._get(f);if(E){let b;if(typeof E=="string"){const T=await Sh(e,{idToken:E}).catch(()=>{});if(!T)break;b=await Jn._fromGetAccountInfoResponse(e,T,E)}else b=Jn._fromJSON(e,E);g!==u&&(p=b),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new ho(u,e,s):(u=m[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new ho(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(A0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(v0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(S0(e))return"Blackberry";if(w0(e))return"Webos";if(E0(e))return"Safari";if((e.includes("chrome/")||T0(e))&&!e.includes("edge/"))return"Chrome";if(b0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function v0(i=un()){return/firefox\//i.test(i)}function E0(i=un()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function T0(i=un()){return/crios\//i.test(i)}function A0(i=un()){return/iemobile/i.test(i)}function b0(i=un()){return/android/i.test(i)}function S0(i=un()){return/blackberry/i.test(i)}function w0(i=un()){return/webos/i.test(i)}function Um(i=un()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function TI(i=un()){var e;return Um(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function AI(){return VR()&&document.documentMode===10}function R0(i=un()){return Um(i)||b0(i)||w0(i)||S0(i)||/windows phone/i.test(i)||A0(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(i,e=[]){let n;switch(i){case"Browser":n=gE(un());break;case"Worker":n=`${gE(un())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ua}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,p)=>{try{const m=e(u);f(m)}catch(m){p(m)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SI(i,e={}){return ps(i,"GET","/v2/passwordPolicy",ds(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=6;class RI{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:wI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,p;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(u=m.containsUppercaseLetter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(f=m.containsNumericCharacter)!==null&&f!==void 0?f:!0),m.isValid&&(m.isValid=(p=m.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),m}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _E(this),this.idTokenSubscription=new _E(this),this.beforeStateQueue=new bI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ar(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await ho.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sh(this,{idToken:e}),s=await Jn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(vn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,p=o?._redirectEventId,m=await this.tryRedirectSignIn(e);(!f||f===p)&&m?.user&&(o=m.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vn(this.app))return Promise.reject(lr(this));const n=e?lt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vn(this.app)?Promise.reject(lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vn(this.app)?Promise.reject(lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SI(this),n=new RI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await EI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ar(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await ho.create(this,[ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,o);return()=>{f=!0,m()}}else{const m=e.addObserver(n);return()=>{f=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=C0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&nI(`Error while retrieving App Check token: ${n.error}`),n?.token}}function ca(i){return lt(i)}class _E{constructor(e){this.auth=e,this.observer=null,this.addObserver=FR(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function II(i){Qh=i}function I0(i){return Qh.loadJS(i)}function NI(){return Qh.recaptchaEnterpriseScript}function DI(){return Qh.gapiScript}function xI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class OI{constructor(){this.enterprise=new kI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class kI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const PI="recaptcha-enterprise",N0="NO_RECAPTCHA";class MI{constructor(e){this.type=PI,this.auth=ca(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{fI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new hI(m);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(m=>{p(m)})})}function o(u,f,p){const m=window.grecaptcha;fE(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(N0)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new OI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(p=>{if(!n&&fE(window.grecaptcha))o(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let m=NI();m.length!==0&&(m+=p),I0(m).then(()=>{o(p,u,f)}).catch(g=>{f(g)})}}).catch(p=>{f(p)})})}}async function yE(i,e,n,s=!1,o=!1){const u=new MI(i);let f;if(o)f=N0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const p=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const m=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const m=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Wp(i,e,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await yE(i,e,n,n==="getOobCode");return s(i,f)}else return s(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await yE(i,e,n,n==="getOobCode");return s(i,p)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(i,e){const n=yu(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(rs(u,e??{}))return o;ii(o,"already-initialized")}return n.initialize({options:e})}function LI(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ar);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function UI(i,e,n){const s=ca(i);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=D0(e),{host:f,port:p}=jI(e),m=p===null?"":`:${p}`,g={url:`${u}//${f}${m}/`},E=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(rs(g,s.config.emulator)&&rs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,mr(f)?(Gh(`${u}//${f}${m}`),$h("Auth",!0)):BI()}function D0(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function jI(i){const e=D0(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:vE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:vE(f)}}}function vE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function BI(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return sr("not implemented")}_getIdTokenResponse(e){return sr("not implemented")}_linkToIdToken(e,n){return sr("not implemented")}_getReauthenticationResolver(e){return sr("not implemented")}}async function zI(i,e){return ps(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qI(i,e){return Eu(i,"POST","/v1/accounts:signInWithPassword",ds(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(i,e){return Eu(i,"POST","/v1/accounts:signInWithEmailLink",ds(i,e))}async function FI(i,e){return Eu(i,"POST","/v1/accounts:signInWithEmailLink",ds(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends jm{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new lu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new lu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wp(e,n,"signInWithPassword",qI);case"emailLink":return HI(e,{email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wp(e,s,"signUpPassword",zI);case"emailLink":return FI(e,{idToken:n,email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(i,e){return Eu(i,"POST","/v1/accounts:signInWithIdp",ds(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="http://localhost";class na extends jm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ii("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Pm(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new na(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return fo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,fo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fo(e,n)}buildRequest(){const e={requestUri:GI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_u(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KI(i){const e=$l(Kl(i)).link,n=e?$l(Kl(e)).deep_link_id:null,s=$l(Kl(i)).deep_link_id;return(s?$l(Kl(s)).link:null)||s||n||e||i}class Bm{constructor(e){var n,s,o,u,f,p;const m=$l(Kl(e)),g=(n=m.apiKey)!==null&&n!==void 0?n:null,E=(s=m.oobCode)!==null&&s!==void 0?s:null,b=$I((o=m.mode)!==null&&o!==void 0?o:null);be(g&&E&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=E,this.continueUrl=(u=m.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=m.lang)!==null&&f!==void 0?f:null,this.tenantId=(p=m.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const n=KI(e);try{return new Bm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.providerId=Ro.PROVIDER_ID}static credential(e,n){return lu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Bm.parseLink(n);return be(s,"argument-error"),lu._fromEmailAndCode(e,s.code,s.tenantId)}}Ro.PROVIDER_ID="password";Ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends x0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Tu{constructor(){super("facebook.com")}static credential(e){return na._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.FACEBOOK_SIGN_IN_METHOD="facebook.com";$r.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return na._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Kr.credential(n,s)}catch{return null}}}Kr.GOOGLE_SIGN_IN_METHOD="google.com";Kr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Tu{constructor(){super("github.com")}static credential(e){return na._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.GITHUB_SIGN_IN_METHOD="github.com";Qr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends Tu{constructor(){super("twitter.com")}static credential(e,n){return na._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Yr.credential(n,s)}catch{return null}}}Yr.TWITTER_SIGN_IN_METHOD="twitter.com";Yr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(i,e){return Eu(i,"POST","/v1/accounts:signUp",ds(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Jn._fromIdTokenResponse(e,s,o),f=EE(s);return new ia({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=EE(s);return new ia({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function EE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends ki{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Rh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Rh(e,n,s,o)}}function O0(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Rh._fromErrorAndOperation(i,u,e,s):u})}async function YI(i,e,n=!1){const s=await ou(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return ia._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XI(i,e,n=!1){const{auth:s}=i;if(vn(s.app))return Promise.reject(lr(s));const o="reauthenticate";try{const u=await ou(i,O0(s,o,e,i),n);be(u.idToken,s,"internal-error");const f=Lm(u.idToken);be(f,s,"internal-error");const{sub:p}=f;return be(i.uid===p,s,"user-mismatch"),ia._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ii(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k0(i,e,n=!1){if(vn(i.app))return Promise.reject(lr(i));const s="signIn",o=await O0(i,s,e),u=await ia._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function WI(i,e){return k0(ca(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P0(i){const e=ca(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ZI(i,e,n){if(vn(i.app))return Promise.reject(lr(i));const s=ca(i),f=await Wp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",QI).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&P0(i),m}),p=await ia._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(p.user),p}function JI(i,e,n){return vn(i.app)?Promise.reject(lr(i)):WI(lt(i),Ro.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&P0(i),s})}function e2(i,e,n,s){return lt(i).onIdTokenChanged(e,n,s)}function t2(i,e,n){return lt(i).beforeAuthStateChanged(e,n)}function n2(i,e,n,s){return lt(i).onAuthStateChanged(e,n,s)}function i2(i){return lt(i).signOut()}const Ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ch,"1"),this.storage.removeItem(Ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=1e3,s2=10;class V0 extends M0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=R0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,p,m)=>{this.notifyListeners(f,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);AI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,s2):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},r2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}V0.type="LOCAL";const a2=V0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0 extends M0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}L0.type="SESSION";const U0=L0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Yh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async g=>g(n.origin,u)),m=await o2(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,m)=>{const g=zm("",20);o.port1.start();const E=setTimeout(()=>{m(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const T=b;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(T.data.response);break;default:clearTimeout(E),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(){return window}function u2(i){Ni().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function c2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function h2(){var i;return((i=navigator?.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function f2(){return j0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="firebaseLocalStorageDb",d2=1,Ih="firebaseLocalStorage",z0="fbase_key";class Au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xh(i,e){return i.transaction([Ih],e?"readwrite":"readonly").objectStore(Ih)}function p2(){const i=indexedDB.deleteDatabase(B0);return new Au(i).toPromise()}function Zp(){const i=indexedDB.open(B0,d2);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Ih,{keyPath:z0})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Ih)?e(s):(s.close(),await p2(),e(await Zp()))})})}async function TE(i,e,n){const s=Xh(i,!0).put({[z0]:e,value:n});return new Au(s).toPromise()}async function m2(i,e){const n=Xh(i,!1).get(e),s=await new Au(n).toPromise();return s===void 0?null:s.value}function AE(i,e){const n=Xh(i,!0).delete(e);return new Au(n).toPromise()}const g2=800,_2=3;class q0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>_2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return j0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yh._getInstance(f2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await c2(),!this.activeServiceWorker)return;this.sender=new l2(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||h2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zp();return await TE(e,Ch,"1"),await AE(e,Ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>TE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>m2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>AE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Xh(o,!1).getAll();return new Au(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),g2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}q0.type="LOCAL";const y2=q0;new vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(i,e){return e?ar(e):(be(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm extends jm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function E2(i){return k0(i.auth,new qm(i),i.bypassAuthState)}function T2(i){const{auth:e,user:n}=i;return be(n,e,"internal-error"),XI(n,new qm(i),i.bypassAuthState)}async function A2(i){const{auth:e,user:n}=i;return be(n,e,"internal-error"),YI(n,new qm(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:p}=e;if(f){this.reject(f);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return E2;case"linkViaPopup":case"linkViaRedirect":return A2;case"reauthViaPopup":case"reauthViaRedirect":return T2;default:ii(this.auth,"internal-error")}}resolve(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=new vu(2e3,1e4);class uo extends H0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){fr(this.filter.length===1,"Popup operations only handle one event");const e=zm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,b2.get())};e()}}uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="pendingRedirect",hh=new Map;class w2 extends H0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=hh.get(this.auth._key());if(!e){try{const s=await R2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}hh.set(this.auth._key(),e)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function R2(i,e){const n=N2(e),s=I2(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function C2(i,e){hh.set(i._key(),e)}function I2(i){return ar(i._redirectPersistence)}function N2(i){return ch(S2,i.config.apiKey,i.name)}async function D2(i,e,n=!1){if(vn(i.app))return Promise.reject(lr(i));const s=ca(i),o=v2(s,e),f=await new w2(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=10*60*1e3;class O2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!k2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!F0(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ii(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=x2&&this.cachedEventUids.clear(),this.cachedEventUids.has(bE(e))}saveEventToCache(e){this.cachedEventUids.add(bE(e)),this.lastProcessedEventTime=Date.now()}}function bE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function F0({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function k2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return F0(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P2(i,e={}){return ps(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,V2=/^https?/;async function L2(i){if(i.config.emulator)return;const{authorizedDomains:e}=await P2(i);for(const n of e)try{if(U2(n))return}catch{}ii(i,"unauthorized-domain")}function U2(i){const e=Yp(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!V2.test(n))return!1;if(M2.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=new vu(3e4,6e4);function SE(){const i=Ni().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function B2(i){return new Promise((e,n)=>{var s,o,u;function f(){SE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{SE(),n(Ii(i,"network-request-failed"))},timeout:j2.get()})}if(!((o=(s=Ni().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ni().gapi)===null||u===void 0)&&u.load)f();else{const p=xI("iframefcb");return Ni()[p]=()=>{gapi.load?f():n(Ii(i,"network-request-failed"))},I0(`${DI()}?onload=${p}`).catch(m=>n(m))}}).catch(e=>{throw fh=null,e})}let fh=null;function z2(i){return fh=fh||B2(i),fh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=new vu(5e3,15e3),H2="__/auth/iframe",F2="emulator/auth/iframe",G2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function K2(i){const e=i.config;be(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Vm(e,F2):`https://${i.config.authDomain}/${H2}`,s={apiKey:e.apiKey,appName:i.name,v:ua},o=$2.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${_u(s).slice(1)}`}async function Q2(i){const e=await z2(i),n=Ni().gapi;return be(n,i,"internal-error"),e.open({where:document.body,url:K2(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:G2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ii(i,"network-request-failed"),p=Ni().setTimeout(()=>{u(f)},q2.get());function m(){Ni().clearTimeout(p),o(s)}s.ping(m).then(m,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},X2=500,W2=600,Z2="_blank",J2="http://localhost";class wE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eN(i,e,n,s=X2,o=W2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const m=Object.assign(Object.assign({},Y2),{width:s.toString(),height:o.toString(),top:u,left:f}),g=un().toLowerCase();n&&(p=T0(g)?Z2:n),v0(g)&&(e=e||J2,m.scrollbars="yes");const E=Object.entries(m).reduce((T,[x,D])=>`${T}${x}=${D},`,"");if(TI(g)&&p!=="_self")return tN(e||"",p),new wE(null);const b=window.open(e||"",p,E);be(b,i,"popup-blocked");try{b.focus()}catch{}return new wE(b)}function tN(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN="__/auth/handler",iN="emulator/auth/handler",rN=encodeURIComponent("fac");async function RE(i,e,n,s,o,u){be(i.config.authDomain,i,"auth-domain-config-required"),be(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:ua,eventId:o};if(e instanceof x0){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",HR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(e instanceof Tu){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const p=f;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const m=await i._getAppCheckToken(),g=m?`#${rN}=${encodeURIComponent(m)}`:"";return`${sN(i)}?${_u(p).slice(1)}${g}`}function sN({config:i}){return i.emulator?Vm(i,iN):`https://${i.authDomain}/${nN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="webStorageSupport";class aN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=U0,this._completeRedirectFn=D2,this._overrideRedirectResult=C2}async _openPopup(e,n,s,o){var u;fr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await RE(e,n,s,Yp(),o);return eN(e,f,zm())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await RE(e,n,s,Yp(),o);return u2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(fr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await Q2(e),s=new O2(e);return n.register("authEvent",o=>(be(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pp,{type:Pp},o=>{var u;const f=(u=o?.[0])===null||u===void 0?void 0:u[Pp];f!==void 0&&n(!!f),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=L2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return R0()||E0()||Um()}}const oN=aN;var CE="@firebase/auth",IE="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cN(i){ss(new cr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;be(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:f,authDomain:p,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:C0(i)},g=new CI(s,o,u,m);return LI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ss(new cr("auth-internal",e=>{const n=ca(e.getProvider("auth").getImmediate());return(s=>new lN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gn(CE,IE,uN(i)),Gn(CE,IE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=5*60,fN=r0("authIdTokenMaxAge")||hN;let NE=null;const dN=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>fN)return;const o=n?.token;NE!==o&&(NE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function pN(i=Kh()){const e=yu(i,"auth");if(e.isInitialized())return e.getImmediate();const n=VI(i,{popupRedirectResolver:oN,persistence:[y2,a2,U0]}),s=r0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=dN(u.toString());t2(n,f,()=>f(n.currentUser)),e2(n,p=>f(p))}}const o=n0("auth");return o&&UI(n,`http://${o}`),n}function mN(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}II({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Ii("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",mN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cN("Browser");var DE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ts,G0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,R){function C(){}C.prototype=R.prototype,P.D=R.prototype,P.prototype=new C,P.prototype.constructor=P,P.C=function(k,V,U){for(var N=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)N[pt-2]=arguments[pt];return R.prototype[V].apply(k,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,R,C){C||(C=0);var k=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)k[V]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(V=0;16>V;++V)k[V]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=P.g[0],C=P.g[1],V=P.g[2];var U=P.g[3],N=R+(U^C&(V^U))+k[0]+3614090360&4294967295;R=C+(N<<7&4294967295|N>>>25),N=U+(V^R&(C^V))+k[1]+3905402710&4294967295,U=R+(N<<12&4294967295|N>>>20),N=V+(C^U&(R^C))+k[2]+606105819&4294967295,V=U+(N<<17&4294967295|N>>>15),N=C+(R^V&(U^R))+k[3]+3250441966&4294967295,C=V+(N<<22&4294967295|N>>>10),N=R+(U^C&(V^U))+k[4]+4118548399&4294967295,R=C+(N<<7&4294967295|N>>>25),N=U+(V^R&(C^V))+k[5]+1200080426&4294967295,U=R+(N<<12&4294967295|N>>>20),N=V+(C^U&(R^C))+k[6]+2821735955&4294967295,V=U+(N<<17&4294967295|N>>>15),N=C+(R^V&(U^R))+k[7]+4249261313&4294967295,C=V+(N<<22&4294967295|N>>>10),N=R+(U^C&(V^U))+k[8]+1770035416&4294967295,R=C+(N<<7&4294967295|N>>>25),N=U+(V^R&(C^V))+k[9]+2336552879&4294967295,U=R+(N<<12&4294967295|N>>>20),N=V+(C^U&(R^C))+k[10]+4294925233&4294967295,V=U+(N<<17&4294967295|N>>>15),N=C+(R^V&(U^R))+k[11]+2304563134&4294967295,C=V+(N<<22&4294967295|N>>>10),N=R+(U^C&(V^U))+k[12]+1804603682&4294967295,R=C+(N<<7&4294967295|N>>>25),N=U+(V^R&(C^V))+k[13]+4254626195&4294967295,U=R+(N<<12&4294967295|N>>>20),N=V+(C^U&(R^C))+k[14]+2792965006&4294967295,V=U+(N<<17&4294967295|N>>>15),N=C+(R^V&(U^R))+k[15]+1236535329&4294967295,C=V+(N<<22&4294967295|N>>>10),N=R+(V^U&(C^V))+k[1]+4129170786&4294967295,R=C+(N<<5&4294967295|N>>>27),N=U+(C^V&(R^C))+k[6]+3225465664&4294967295,U=R+(N<<9&4294967295|N>>>23),N=V+(R^C&(U^R))+k[11]+643717713&4294967295,V=U+(N<<14&4294967295|N>>>18),N=C+(U^R&(V^U))+k[0]+3921069994&4294967295,C=V+(N<<20&4294967295|N>>>12),N=R+(V^U&(C^V))+k[5]+3593408605&4294967295,R=C+(N<<5&4294967295|N>>>27),N=U+(C^V&(R^C))+k[10]+38016083&4294967295,U=R+(N<<9&4294967295|N>>>23),N=V+(R^C&(U^R))+k[15]+3634488961&4294967295,V=U+(N<<14&4294967295|N>>>18),N=C+(U^R&(V^U))+k[4]+3889429448&4294967295,C=V+(N<<20&4294967295|N>>>12),N=R+(V^U&(C^V))+k[9]+568446438&4294967295,R=C+(N<<5&4294967295|N>>>27),N=U+(C^V&(R^C))+k[14]+3275163606&4294967295,U=R+(N<<9&4294967295|N>>>23),N=V+(R^C&(U^R))+k[3]+4107603335&4294967295,V=U+(N<<14&4294967295|N>>>18),N=C+(U^R&(V^U))+k[8]+1163531501&4294967295,C=V+(N<<20&4294967295|N>>>12),N=R+(V^U&(C^V))+k[13]+2850285829&4294967295,R=C+(N<<5&4294967295|N>>>27),N=U+(C^V&(R^C))+k[2]+4243563512&4294967295,U=R+(N<<9&4294967295|N>>>23),N=V+(R^C&(U^R))+k[7]+1735328473&4294967295,V=U+(N<<14&4294967295|N>>>18),N=C+(U^R&(V^U))+k[12]+2368359562&4294967295,C=V+(N<<20&4294967295|N>>>12),N=R+(C^V^U)+k[5]+4294588738&4294967295,R=C+(N<<4&4294967295|N>>>28),N=U+(R^C^V)+k[8]+2272392833&4294967295,U=R+(N<<11&4294967295|N>>>21),N=V+(U^R^C)+k[11]+1839030562&4294967295,V=U+(N<<16&4294967295|N>>>16),N=C+(V^U^R)+k[14]+4259657740&4294967295,C=V+(N<<23&4294967295|N>>>9),N=R+(C^V^U)+k[1]+2763975236&4294967295,R=C+(N<<4&4294967295|N>>>28),N=U+(R^C^V)+k[4]+1272893353&4294967295,U=R+(N<<11&4294967295|N>>>21),N=V+(U^R^C)+k[7]+4139469664&4294967295,V=U+(N<<16&4294967295|N>>>16),N=C+(V^U^R)+k[10]+3200236656&4294967295,C=V+(N<<23&4294967295|N>>>9),N=R+(C^V^U)+k[13]+681279174&4294967295,R=C+(N<<4&4294967295|N>>>28),N=U+(R^C^V)+k[0]+3936430074&4294967295,U=R+(N<<11&4294967295|N>>>21),N=V+(U^R^C)+k[3]+3572445317&4294967295,V=U+(N<<16&4294967295|N>>>16),N=C+(V^U^R)+k[6]+76029189&4294967295,C=V+(N<<23&4294967295|N>>>9),N=R+(C^V^U)+k[9]+3654602809&4294967295,R=C+(N<<4&4294967295|N>>>28),N=U+(R^C^V)+k[12]+3873151461&4294967295,U=R+(N<<11&4294967295|N>>>21),N=V+(U^R^C)+k[15]+530742520&4294967295,V=U+(N<<16&4294967295|N>>>16),N=C+(V^U^R)+k[2]+3299628645&4294967295,C=V+(N<<23&4294967295|N>>>9),N=R+(V^(C|~U))+k[0]+4096336452&4294967295,R=C+(N<<6&4294967295|N>>>26),N=U+(C^(R|~V))+k[7]+1126891415&4294967295,U=R+(N<<10&4294967295|N>>>22),N=V+(R^(U|~C))+k[14]+2878612391&4294967295,V=U+(N<<15&4294967295|N>>>17),N=C+(U^(V|~R))+k[5]+4237533241&4294967295,C=V+(N<<21&4294967295|N>>>11),N=R+(V^(C|~U))+k[12]+1700485571&4294967295,R=C+(N<<6&4294967295|N>>>26),N=U+(C^(R|~V))+k[3]+2399980690&4294967295,U=R+(N<<10&4294967295|N>>>22),N=V+(R^(U|~C))+k[10]+4293915773&4294967295,V=U+(N<<15&4294967295|N>>>17),N=C+(U^(V|~R))+k[1]+2240044497&4294967295,C=V+(N<<21&4294967295|N>>>11),N=R+(V^(C|~U))+k[8]+1873313359&4294967295,R=C+(N<<6&4294967295|N>>>26),N=U+(C^(R|~V))+k[15]+4264355552&4294967295,U=R+(N<<10&4294967295|N>>>22),N=V+(R^(U|~C))+k[6]+2734768916&4294967295,V=U+(N<<15&4294967295|N>>>17),N=C+(U^(V|~R))+k[13]+1309151649&4294967295,C=V+(N<<21&4294967295|N>>>11),N=R+(V^(C|~U))+k[4]+4149444226&4294967295,R=C+(N<<6&4294967295|N>>>26),N=U+(C^(R|~V))+k[11]+3174756917&4294967295,U=R+(N<<10&4294967295|N>>>22),N=V+(R^(U|~C))+k[2]+718787259&4294967295,V=U+(N<<15&4294967295|N>>>17),N=C+(U^(V|~R))+k[9]+3951481745&4294967295,P.g[0]=P.g[0]+R&4294967295,P.g[1]=P.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,P.g[2]=P.g[2]+V&4294967295,P.g[3]=P.g[3]+U&4294967295}s.prototype.u=function(P,R){R===void 0&&(R=P.length);for(var C=R-this.blockSize,k=this.B,V=this.h,U=0;U<R;){if(V==0)for(;U<=C;)o(this,P,U),U+=this.blockSize;if(typeof P=="string"){for(;U<R;)if(k[V++]=P.charCodeAt(U++),V==this.blockSize){o(this,k),V=0;break}}else for(;U<R;)if(k[V++]=P[U++],V==this.blockSize){o(this,k),V=0;break}}this.h=V,this.o+=R},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var R=1;R<P.length-8;++R)P[R]=0;var C=8*this.o;for(R=P.length-8;R<P.length;++R)P[R]=C&255,C/=256;for(this.u(P),P=Array(16),R=C=0;4>R;++R)for(var k=0;32>k;k+=8)P[C++]=this.g[R]>>>k&255;return P};function u(P,R){var C=p;return Object.prototype.hasOwnProperty.call(C,P)?C[P]:C[P]=R(P)}function f(P,R){this.h=R;for(var C=[],k=!0,V=P.length-1;0<=V;V--){var U=P[V]|0;k&&U==R||(C[V]=U,k=!1)}this.g=C}var p={};function m(P){return-128<=P&&128>P?u(P,function(R){return new f([R|0],0>R?-1:0)}):new f([P|0],0>P?-1:0)}function g(P){if(isNaN(P)||!isFinite(P))return b;if(0>P)return L(g(-P));for(var R=[],C=1,k=0;P>=C;k++)R[k]=P/C|0,C*=4294967296;return new f(R,0)}function E(P,R){if(P.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(P.charAt(0)=="-")return L(E(P.substring(1),R));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(R,8)),k=b,V=0;V<P.length;V+=8){var U=Math.min(8,P.length-V),N=parseInt(P.substring(V,V+U),R);8>U?(U=g(Math.pow(R,U)),k=k.j(U).add(g(N))):(k=k.j(C),k=k.add(g(N)))}return k}var b=m(0),T=m(1),x=m(16777216);i=f.prototype,i.m=function(){if(G(this))return-L(this).m();for(var P=0,R=1,C=0;C<this.g.length;C++){var k=this.i(C);P+=(0<=k?k:4294967296+k)*R,R*=4294967296}return P},i.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(D(this))return"0";if(G(this))return"-"+L(this).toString(P);for(var R=g(Math.pow(P,6)),C=this,k="";;){var V=oe(C,R).g;C=H(C,V.j(R));var U=((0<C.g.length?C.g[0]:C.h)>>>0).toString(P);if(C=V,D(C))return U+k;for(;6>U.length;)U="0"+U;k=U+k}},i.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function D(P){if(P.h!=0)return!1;for(var R=0;R<P.g.length;R++)if(P.g[R]!=0)return!1;return!0}function G(P){return P.h==-1}i.l=function(P){return P=H(this,P),G(P)?-1:D(P)?0:1};function L(P){for(var R=P.g.length,C=[],k=0;k<R;k++)C[k]=~P.g[k];return new f(C,~P.h).add(T)}i.abs=function(){return G(this)?L(this):this},i.add=function(P){for(var R=Math.max(this.g.length,P.g.length),C=[],k=0,V=0;V<=R;V++){var U=k+(this.i(V)&65535)+(P.i(V)&65535),N=(U>>>16)+(this.i(V)>>>16)+(P.i(V)>>>16);k=N>>>16,U&=65535,N&=65535,C[V]=N<<16|U}return new f(C,C[C.length-1]&-2147483648?-1:0)};function H(P,R){return P.add(L(R))}i.j=function(P){if(D(this)||D(P))return b;if(G(this))return G(P)?L(this).j(L(P)):L(L(this).j(P));if(G(P))return L(this.j(L(P)));if(0>this.l(x)&&0>P.l(x))return g(this.m()*P.m());for(var R=this.g.length+P.g.length,C=[],k=0;k<2*R;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(var V=0;V<P.g.length;V++){var U=this.i(k)>>>16,N=this.i(k)&65535,pt=P.i(V)>>>16,st=P.i(V)&65535;C[2*k+2*V]+=N*st,ee(C,2*k+2*V),C[2*k+2*V+1]+=U*st,ee(C,2*k+2*V+1),C[2*k+2*V+1]+=N*pt,ee(C,2*k+2*V+1),C[2*k+2*V+2]+=U*pt,ee(C,2*k+2*V+2)}for(k=0;k<R;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=R;k<2*R;k++)C[k]=0;return new f(C,0)};function ee(P,R){for(;(P[R]&65535)!=P[R];)P[R+1]+=P[R]>>>16,P[R]&=65535,R++}function Z(P,R){this.g=P,this.h=R}function oe(P,R){if(D(R))throw Error("division by zero");if(D(P))return new Z(b,b);if(G(P))return R=oe(L(P),R),new Z(L(R.g),L(R.h));if(G(R))return R=oe(P,L(R)),new Z(L(R.g),R.h);if(30<P.g.length){if(G(P)||G(R))throw Error("slowDivide_ only works with positive integers.");for(var C=T,k=R;0>=k.l(P);)C=ce(C),k=ce(k);var V=_e(C,1),U=_e(k,1);for(k=_e(k,2),C=_e(C,2);!D(k);){var N=U.add(k);0>=N.l(P)&&(V=V.add(C),U=N),k=_e(k,1),C=_e(C,1)}return R=H(P,V.j(R)),new Z(V,R)}for(V=b;0<=P.l(R);){for(C=Math.max(1,Math.floor(P.m()/R.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),U=g(C),N=U.j(R);G(N)||0<N.l(P);)C-=k,U=g(C),N=U.j(R);D(U)&&(U=T),V=V.add(U),P=H(P,N)}return new Z(V,P)}i.A=function(P){return oe(this,P).h},i.and=function(P){for(var R=Math.max(this.g.length,P.g.length),C=[],k=0;k<R;k++)C[k]=this.i(k)&P.i(k);return new f(C,this.h&P.h)},i.or=function(P){for(var R=Math.max(this.g.length,P.g.length),C=[],k=0;k<R;k++)C[k]=this.i(k)|P.i(k);return new f(C,this.h|P.h)},i.xor=function(P){for(var R=Math.max(this.g.length,P.g.length),C=[],k=0;k<R;k++)C[k]=this.i(k)^P.i(k);return new f(C,this.h^P.h)};function ce(P){for(var R=P.g.length+1,C=[],k=0;k<R;k++)C[k]=P.i(k)<<1|P.i(k-1)>>>31;return new f(C,P.h)}function _e(P,R){var C=R>>5;R%=32;for(var k=P.g.length-C,V=[],U=0;U<k;U++)V[U]=0<R?P.i(U+C)>>>R|P.i(U+C+1)<<32-R:P.i(U+C);return new f(V,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,G0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,ts=f}).apply(typeof DE<"u"?DE:typeof self<"u"?self:typeof window<"u"?window:{});var eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $0,Ql,K0,dh,Jp,Q0,Y0,X0;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,_,y){return c==Array.prototype||c==Object.prototype||(c[_]=y.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof eh=="object"&&eh];for(var _=0;_<c.length;++_){var y=c[_];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function o(c,_){if(_)e:{var y=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var B=c[S];if(!(B in y))break e;y=y[B]}c=c[c.length-1],S=y[c],_=_(S),_!=S&&_!=null&&e(y,c,{configurable:!0,writable:!0,value:_})}}function u(c,_){c instanceof String&&(c+="");var y=0,S=!1,B={next:function(){if(!S&&y<c.length){var Q=y++;return{value:_(Q,c[Q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(_,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function m(c){var _=typeof c;return _=_!="object"?_:c?Array.isArray(c)?"array":_:"null",_=="array"||_=="object"&&typeof c.length=="number"}function g(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function E(c,_,y){return c.call.apply(c.bind,arguments)}function b(c,_,y){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,S),c.apply(_,B)}}return function(){return c.apply(_,arguments)}}function T(c,_,y){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,T.apply(null,arguments)}function x(c,_){var y=Array.prototype.slice.call(arguments,1);return function(){var S=y.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function D(c,_){function y(){}y.prototype=_.prototype,c.aa=_.prototype,c.prototype=new y,c.prototype.constructor=c,c.Qb=function(S,B,Q){for(var ae=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)ae[Be-2]=arguments[Be];return _.prototype[B].apply(S,ae)}}function G(c){const _=c.length;if(0<_){const y=Array(_);for(let S=0;S<_;S++)y[S]=c[S];return y}return[]}function L(c,_){for(let y=1;y<arguments.length;y++){const S=arguments[y];if(m(S)){const B=c.length||0,Q=S.length||0;c.length=B+Q;for(let ae=0;ae<Q;ae++)c[B+ae]=S[ae]}else c.push(S)}}class H{constructor(_,y){this.i=_,this.j=y,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function ee(c){return/^[\s\xa0]*$/.test(c)}function Z(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function oe(c){return oe[" "](c),c}oe[" "]=function(){};var ce=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function _e(c,_,y){for(const S in c)_.call(y,c[S],S,c)}function P(c,_){for(const y in c)_.call(void 0,c[y],y,c)}function R(c){const _={};for(const y in c)_[y]=c[y];return _}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,_){let y,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(y in S)c[y]=S[y];for(let Q=0;Q<C.length;Q++)y=C[Q],Object.prototype.hasOwnProperty.call(S,y)&&(c[y]=S[y])}}function V(c){var _=1;c=c.split(":");const y=[];for(;0<_&&c.length;)y.push(c.shift()),_--;return c.length&&y.push(c.join(":")),y}function U(c){p.setTimeout(()=>{throw c},0)}function N(){var c=De;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class pt{constructor(){this.h=this.g=null}add(_,y){const S=st.get();S.set(_,y),this.h?this.h.next=S:this.g=S,this.h=S}}var st=new H(()=>new Y,c=>c.reset());class Y{constructor(){this.next=this.g=this.h=null}set(_,y){this.h=_,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let te,de=!1,De=new pt,O=()=>{const c=p.Promise.resolve(void 0);te=()=>{c.then(J)}};var J=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(y){U(y)}var _=st;_.j(c),100>_.h&&(_.h++,c.next=_.g,_.g=c)}de=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};p.addEventListener("test",y,_),p.removeEventListener("test",y,_)}catch{}return c}();function Ie(c,_){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var y=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget){if(ce){e:{try{oe(_.nodeName);var B=!0;break e}catch{}B=!1}B||(_=null)}}else y=="mouseover"?_=c.fromElement:y=="mouseout"&&(_=c.toElement);this.relatedTarget=_,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}D(Ie,se);var we={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var mt="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function le(c,_,y,S,B){this.listener=c,this.proxy=null,this.src=_,this.type=y,this.capture=!!S,this.ha=B,this.key=++Ze,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function he(c){this.src=c,this.g={},this.h=0}he.prototype.add=function(c,_,y,S,B){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var ae=Ut(c,_,S,B);return-1<ae?(_=c[ae],y||(_.fa=!1)):(_=new le(_,this.src,Q,!!S,B),_.fa=y,c.push(_)),_};function xe(c,_){var y=_.type;if(y in c.g){var S=c.g[y],B=Array.prototype.indexOf.call(S,_,void 0),Q;(Q=0<=B)&&Array.prototype.splice.call(S,B,1),Q&&(me(_),c.g[y].length==0&&(delete c.g[y],c.h--))}}function Ut(c,_,y,S){for(var B=0;B<c.length;++B){var Q=c[B];if(!Q.da&&Q.listener==_&&Q.capture==!!y&&Q.ha==S)return B}return-1}var _s="closure_lm_"+(1e6*Math.random()|0),ko={};function Iu(c,_,y,S,B){if(Array.isArray(_)){for(var Q=0;Q<_.length;Q++)Iu(c,_[Q],y,S,B);return null}return y=Nu(y),c&&c[mt]?c.K(_,y,g(S)?!!S.capture:!1,B):On(c,_,y,!1,S,B)}function On(c,_,y,S,B,Q){if(!_)throw Error("Invalid event type");var ae=g(B)?!!B.capture:!!B,Be=pa(c);if(Be||(c[_s]=Be=new he(c)),y=Be.add(_,y,S,ae,Q),y.proxy)return y;if(S=Ef(),y.proxy=S,S.src=c,S.listener=y,c.addEventListener)ve||(B=ae),B===void 0&&(B=!1),c.addEventListener(_.toString(),S,B);else if(c.attachEvent)c.attachEvent(ys(_.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ef(){function c(y){return _.call(c.src,c.listener,y)}const _=Tf;return c}function Po(c,_,y,S,B){if(Array.isArray(_))for(var Q=0;Q<_.length;Q++)Po(c,_[Q],y,S,B);else S=g(S)?!!S.capture:!!S,y=Nu(y),c&&c[mt]?(c=c.i,_=String(_).toString(),_ in c.g&&(Q=c.g[_],y=Ut(Q,y,S,B),-1<y&&(me(Q[y]),Array.prototype.splice.call(Q,y,1),Q.length==0&&(delete c.g[_],c.h--)))):c&&(c=pa(c))&&(_=c.g[_.toString()],c=-1,_&&(c=Ut(_,y,S,B)),(y=-1<c?_[c]:null)&&da(y))}function da(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[mt])xe(_.i,c);else{var y=c.type,S=c.proxy;_.removeEventListener?_.removeEventListener(y,S,c.capture):_.detachEvent?_.detachEvent(ys(y),S):_.addListener&&_.removeListener&&_.removeListener(S),(y=pa(_))?(xe(y,c),y.h==0&&(y.src=null,_[_s]=null)):me(c)}}}function ys(c){return c in ko?ko[c]:ko[c]="on"+c}function Tf(c,_){if(c.da)c=!0;else{_=new Ie(_,this);var y=c.listener,S=c.ha||c.src;c.fa&&da(c),c=y.call(S,_)}return c}function pa(c){return c=c[_s],c instanceof he?c:null}var Mo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nu(c){return typeof c=="function"?c:(c[Mo]||(c[Mo]=function(_){return c.handleEvent(_)}),c[Mo])}function gt(){ue.call(this),this.i=new he(this),this.M=this,this.F=null}D(gt,ue),gt.prototype[mt]=!0,gt.prototype.removeEventListener=function(c,_,y,S){Po(this,c,_,y,S)};function Ye(c,_){var y,S=c.F;if(S)for(y=[];S;S=S.F)y.push(S);if(c=c.M,S=_.type||_,typeof _=="string")_=new se(_,c);else if(_ instanceof se)_.target=_.target||c;else{var B=_;_=new se(S,c),k(_,B)}if(B=!0,y)for(var Q=y.length-1;0<=Q;Q--){var ae=_.g=y[Q];B=Tn(ae,S,!0,_)&&B}if(ae=_.g=c,B=Tn(ae,S,!0,_)&&B,B=Tn(ae,S,!1,_)&&B,y)for(Q=0;Q<y.length;Q++)ae=_.g=y[Q],B=Tn(ae,S,!1,_)&&B}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var c=this.i,_;for(_ in c.g){for(var y=c.g[_],S=0;S<y.length;S++)me(y[S]);delete c.g[_],c.h--}}this.F=null},gt.prototype.K=function(c,_,y,S){return this.i.add(String(c),_,!1,y,S)},gt.prototype.L=function(c,_,y,S){return this.i.add(String(c),_,!0,y,S)};function Tn(c,_,y,S){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();for(var B=!0,Q=0;Q<_.length;++Q){var ae=_[Q];if(ae&&!ae.da&&ae.capture==y){var Be=ae.listener,Ot=ae.ha||ae.src;ae.fa&&xe(c.i,ae),B=Be.call(Ot,S)!==!1&&B}}return B&&!S.defaultPrevented}function tn(c,_,y){if(typeof c=="function")y&&(c=T(c,y));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:p.setTimeout(c,_||0)}function Du(c){c.g=tn(()=>{c.g=null,c.i&&(c.i=!1,Du(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class Af extends ue{constructor(_,y){super(),this.m=_,this.l=y,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Du(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vs(c){ue.call(this),this.h=c,this.g={}}D(vs,ue);var Es=[];function Ts(c){_e(c.g,function(_,y){this.g.hasOwnProperty(y)&&da(_)},c),c.g={}}vs.prototype.N=function(){vs.aa.N.call(this),Ts(this)},vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $n=p.JSON.stringify,ma=p.JSON.parse,As=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function Vo(){}Vo.prototype.h=null;function Lo(c){return c.h||(c.h=c.i())}function Uo(){}var Pi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mi(){se.call(this,"d")}D(Mi,se);function jo(){se.call(this,"c")}D(jo,se);var oi={},Bo=null;function gr(){return Bo=Bo||new gt}oi.La="serverreachability";function ga(c){se.call(this,oi.La,c)}D(ga,se);function _r(c){const _=gr();Ye(_,new ga(_))}oi.STAT_EVENT="statevent";function xu(c,_){se.call(this,oi.STAT_EVENT,c),this.stat=_}D(xu,se);function ut(c){const _=gr();Ye(_,new xu(_,c))}oi.Ma="timingevent";function xt(c,_){se.call(this,oi.Ma,c),this.size=_}D(xt,se);function wt(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},_)}function kn(){this.g=!0}kn.prototype.xa=function(){this.g=!1};function zo(c,_,y,S,B,Q){c.info(function(){if(c.g)if(Q)for(var ae="",Be=Q.split("&"),Ot=0;Ot<Be.length;Ot++){var ze=Be[Ot].split("=");if(1<ze.length){var Bt=ze[0];ze=ze[1];var kt=Bt.split("_");ae=2<=kt.length&&kt[1]=="type"?ae+(Bt+"="+ze+"&"):ae+(Bt+"=redacted&")}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+_+`
`+y+`
`+ae})}function bf(c,_,y,S,B,Q,ae){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+_+`
`+y+`
`+Q+" "+ae})}function yr(c,_,y,S){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+bs(c,y)+(S?" "+S:"")})}function Ou(c,_){c.info(function(){return"TIMEOUT: "+_})}kn.prototype.info=function(){};function bs(c,_){if(!c.g)return _;if(!_)return null;try{var y=JSON.parse(_);if(y){for(c=0;c<y.length;c++)if(Array.isArray(y[c])){var S=y[c];if(!(2>S.length)){var B=S[1];if(Array.isArray(B)&&!(1>B.length)){var Q=B[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ae=1;ae<B.length;ae++)B[ae]=""}}}}return $n(y)}catch{return _}}var vr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},li;function ui(){}D(ui,Vo),ui.prototype.g=function(){return new XMLHttpRequest},ui.prototype.i=function(){return{}},li=new ui;function cn(c,_,y,S){this.j=c,this.i=_,this.l=y,this.R=S||1,this.U=new vs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tt}function Tt(){this.i=null,this.g="",this.h=!1}var qo={},_a={};function Kn(c,_,y){c.L=1,c.v=Is(An(_)),c.m=y,c.P=!0,Li(c,null)}function Li(c,_){c.F=Date.now(),Ss(c),c.A=An(c.v);var y=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Qo(y.i,"t",S),c.C=0,y=c.j.J,c.h=new Tt,c.g=Qu(c.j,y?_:null,!c.m),0<c.O&&(c.M=new Af(T(c.Y,c,c.g),c.O)),_=c.U,y=c.g,S=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(Es[0]=B.toString()),B=Es);for(var Q=0;Q<B.length;Q++){var ae=Iu(y,B[Q],S||_.handleEvent,!1,_.h||_);if(!ae)break;_.g[ae.key]=ae}_=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,_)):(c.u="GET",c.g.ea(c.A,c.u,null,_)),_r(),zo(c.i,c.u,c.A,c.l,c.R,c.m)}cn.prototype.ca=function(c){c=c.target;const _=this.M;_&&Ln(c)==3?_.j():this.Y(c)},cn.prototype.Y=function(c){try{if(c==this.g)e:{const kt=Ln(this.g);var _=this.g.Ba();const Gi=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||Bu(this.g)))){this.J||kt!=4||_==7||(_==8||0>=Gi?_r(3):_r(2)),Er(this);var y=this.g.Z();this.X=y;t:if(ku(this)){var S=Bu(this.g);c="";var B=S.length,Q=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gt(this),ci(this);var ae="";break t}this.h.i=new p.TextDecoder}for(_=0;_<B;_++)this.h.h=!0,c+=this.h.i.decode(S[_],{stream:!(Q&&_==B-1)});S.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=y==200,bf(this.i,this.u,this.A,this.l,this.R,kt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Ot=this.g;if((Be=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(Be)){var ze=Be;break t}}ze=null}if(y=ze)yr(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ws(this,y);else{this.o=!1,this.s=3,ut(12),Gt(this),ci(this);break e}}if(this.P){y=!0;let $t;for(;!this.J&&this.C<ae.length;)if($t=Pu(this,ae),$t==_a){kt==4&&(this.s=4,ut(14),y=!1),yr(this.i,this.l,null,"[Incomplete Response]");break}else if($t==qo){this.s=4,ut(15),yr(this.i,this.l,ae,"[Invalid Chunk]"),y=!1;break}else yr(this.i,this.l,$t,null),ws(this,$t);if(ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||ae.length!=0||this.h.h||(this.s=1,ut(16),y=!1),this.o=this.o&&y,!y)yr(this.i,this.l,ae,"[Invalid Chunked Response]"),Gt(this),ci(this);else if(0<ae.length&&!this.W){this.W=!0;var Bt=this.j;Bt.g==this&&Bt.ba&&!Bt.M&&(Bt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Vs(Bt),Bt.M=!0,ut(11))}}else yr(this.i,this.l,ae,null),ws(this,ae);kt==4&&Gt(this),this.o&&!this.J&&(kt==4?Gu(this.j,this):(this.o=!1,Ss(this)))}else If(this.g),y==400&&0<ae.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Gt(this),ci(this)}}}catch{}finally{}};function ku(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Pu(c,_){var y=c.C,S=_.indexOf(`
`,y);return S==-1?_a:(y=Number(_.substring(y,S)),isNaN(y)?qo:(S+=1,S+y>_.length?_a:(_=_.slice(S,S+y),c.C=S+y,_)))}cn.prototype.cancel=function(){this.J=!0,Gt(this)};function Ss(c){c.S=Date.now()+c.I,Mu(c,c.I)}function Mu(c,_){if(c.B!=null)throw Error("WatchDog timer not null");c.B=wt(T(c.ba,c),_)}function Er(c){c.B&&(p.clearTimeout(c.B),c.B=null)}cn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ou(this.i,this.A),this.L!=2&&(_r(),ut(17)),Gt(this),this.s=2,ci(this)):Mu(this,this.S-c)};function ci(c){c.j.G==0||c.J||Gu(c.j,c)}function Gt(c){Er(c);var _=c.M;_&&typeof _.ma=="function"&&_.ma(),c.M=null,Ts(c.U),c.g&&(_=c.g,c.g=null,_.abort(),_.ma())}function ws(c,_){try{var y=c.j;if(y.G!=0&&(y.g==c||Ho(y.h,c))){if(!c.K&&Ho(y.h,c)&&y.G==3){try{var S=y.Da.g.parse(_)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<c.F)Na(y),Ca(y);else break e;Jo(y),ut(18)}}else y.za=B[1],0<y.za-y.T&&37500>B[2]&&y.F&&y.v==0&&!y.C&&(y.C=wt(T(y.Za,y),6e3));if(1>=va(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Fi(y,11)}else if((c.K||y.g==c)&&Na(y),!ee(_))for(B=y.Da.g.parse(_),_=0;_<B.length;_++){let ze=B[_];if(y.T=ze[0],ze=ze[1],y.G==2)if(ze[0]=="c"){y.K=ze[1],y.ia=ze[2];const Bt=ze[3];Bt!=null&&(y.la=Bt,y.j.info("VER="+y.la));const kt=ze[4];kt!=null&&(y.Aa=kt,y.j.info("SVER="+y.Aa));const Gi=ze[5];Gi!=null&&typeof Gi=="number"&&0<Gi&&(S=1.5*Gi,y.L=S,y.j.info("backChannelRequestTimeoutMs_="+S)),S=y;const $t=c.g;if($t){const _i=$t.g?$t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var Q=S.h;Q.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ea(Q,Q.h),Q.h=null))}if(S.D){const tl=$t.g?$t.g.getResponseHeader("X-HTTP-Session-Id"):null;tl&&(S.ya=tl,Je(S.I,S.D,tl))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-c.F,y.j.info("Handshake RTT: "+y.R+"ms")),S=y;var ae=c;if(S.qa=Ku(S,S.J?S.ia:null,S.W),ae.K){hn(S.h,ae);var Be=ae,Ot=S.L;Ot&&(Be.I=Ot),Be.B&&(Er(Be),Ss(Be)),S.g=ae}else Hu(S);0<y.i.length&&Ia(y)}else ze[0]!="stop"&&ze[0]!="close"||Fi(y,7);else y.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Fi(y,7):Wo(y):ze[0]!="noop"&&y.l&&y.l.ta(ze),y.v=0)}}_r(4)}catch{}}var Vu=class{constructor(c,_){this.g=c,this.map=_}};function Ui(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ya(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function va(c){return c.h?1:c.g?c.g.size:0}function Ho(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function Ea(c,_){c.g?c.g.add(_):c.h=_}function hn(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}Ui.prototype.cancel=function(){if(this.i=Fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Fo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const y of c.g.values())_=_.concat(y.D);return _}return G(c.i)}function Sf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var _=[],y=c.length,S=0;S<y;S++)_.push(c[S]);return _}_=[],y=0;for(S in c)_[y++]=c[S];return _}function Ta(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var _=[];c=c.length;for(var y=0;y<c;y++)_.push(y);return _}_=[],y=0;for(const S in c)_[y++]=S;return _}}}function Go(c,_){if(c.forEach&&typeof c.forEach=="function")c.forEach(_,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,_,void 0);else for(var y=Ta(c),S=Sf(c),B=S.length,Q=0;Q<B;Q++)_.call(void 0,S[Q],y&&y[Q],c)}var Rs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wf(c,_){if(c){c=c.split("&");for(var y=0;y<c.length;y++){var S=c[y].indexOf("="),B=null;if(0<=S){var Q=c[y].substring(0,S);B=c[y].substring(S+1)}else Q=c[y];_(Q,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Rt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Rt){this.h=c.h,Cs(this,c.j),this.o=c.o,this.g=c.g,Tr(this,c.s),this.l=c.l;var _=c.i,y=new Bi;y.i=_.i,_.g&&(y.g=new Map(_.g),y.h=_.h),ji(this,y),this.m=c.m}else c&&(_=String(c).match(Rs))?(this.h=!1,Cs(this,_[1]||"",!0),this.o=Pn(_[2]||""),this.g=Pn(_[3]||"",!0),Tr(this,_[4]),this.l=Pn(_[5]||"",!0),ji(this,_[6]||"",!0),this.m=Pn(_[7]||"")):(this.h=!1,this.i=new Bi(null,this.h))}Rt.prototype.toString=function(){var c=[],_=this.j;_&&c.push(Ns(_,$o,!0),":");var y=this.g;return(y||_=="file")&&(c.push("//"),(_=this.o)&&c.push(Ns(_,$o,!0),"@"),c.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&c.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push(Ns(y,y.charAt(0)=="/"?Rf:Ko,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",Ns(y,Aa)),c.join("")};function An(c){return new Rt(c)}function Cs(c,_,y){c.j=y?Pn(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function Tr(c,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);c.s=_}else c.s=null}function ji(c,_,y){_ instanceof Bi?(c.i=_,Uu(c.i,c.h)):(y||(_=Ns(_,Cf)),c.i=new Bi(_,c.h))}function Je(c,_,y){c.i.set(_,y)}function Is(c){return Je(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Pn(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ns(c,_,y){return typeof c=="string"?(c=encodeURI(c).replace(_,Lu),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Lu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var $o=/[#\/\?@]/g,Ko=/[#\?:]/g,Rf=/[#\?]/g,Cf=/[#\?@]/g,Aa=/#/g;function Bi(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function Mn(c){c.g||(c.g=new Map,c.h=0,c.i&&wf(c.i,function(_,y){c.add(decodeURIComponent(_.replace(/\+/g," ")),y)}))}i=Bi.prototype,i.add=function(c,_){Mn(this),this.i=null,c=hi(this,c);var y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(_),this.h+=1,this};function zi(c,_){Mn(c),_=hi(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function qi(c,_){return Mn(c),_=hi(c,_),c.g.has(_)}i.forEach=function(c,_){Mn(this),this.g.forEach(function(y,S){y.forEach(function(B){c.call(_,B,S,this)},this)},this)},i.na=function(){Mn(this);const c=Array.from(this.g.values()),_=Array.from(this.g.keys()),y=[];for(let S=0;S<_.length;S++){const B=c[S];for(let Q=0;Q<B.length;Q++)y.push(_[S])}return y},i.V=function(c){Mn(this);let _=[];if(typeof c=="string")qi(this,c)&&(_=_.concat(this.g.get(hi(this,c))));else{c=Array.from(this.g.values());for(let y=0;y<c.length;y++)_=_.concat(c[y])}return _},i.set=function(c,_){return Mn(this),this.i=null,c=hi(this,c),qi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},i.get=function(c,_){return c?(c=this.V(c),0<c.length?String(c[0]):_):_};function Qo(c,_,y){zi(c,_),0<y.length&&(c.i=null,c.g.set(hi(c,_),G(y)),c.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(var y=0;y<_.length;y++){var S=_[y];const Q=encodeURIComponent(String(S)),ae=this.V(S);for(S=0;S<ae.length;S++){var B=Q;ae[S]!==""&&(B+="="+encodeURIComponent(String(ae[S]))),c.push(B)}}return this.i=c.join("&")};function hi(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function Uu(c,_){_&&!c.j&&(Mn(c),c.i=null,c.g.forEach(function(y,S){var B=S.toLowerCase();S!=B&&(zi(this,S),Qo(this,B,y))},c)),c.j=_}function Ds(c,_){const y=new kn;if(p.Image){const S=new Image;S.onload=x(Vn,y,"TestLoadImage: loaded",!0,_,S),S.onerror=x(Vn,y,"TestLoadImage: error",!1,_,S),S.onabort=x(Vn,y,"TestLoadImage: abort",!1,_,S),S.ontimeout=x(Vn,y,"TestLoadImage: timeout",!1,_,S),p.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else _(!1)}function Qn(c,_){const y=new kn,S=new AbortController,B=setTimeout(()=>{S.abort(),Vn(y,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:S.signal}).then(Q=>{clearTimeout(B),Q.ok?Vn(y,"TestPingServer: ok",!0,_):Vn(y,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(B),Vn(y,"TestPingServer: error",!1,_)})}function Vn(c,_,y,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(y)}catch{}}function xs(){this.g=new As}function fi(c,_,y){const S=y||"";try{Go(c,function(B,Q){let ae=B;g(B)&&(ae=$n(B)),_.push(S+Q+"="+encodeURIComponent(ae))})}catch(B){throw _.push(S+"type="+encodeURIComponent("_badmap")),B}}function Ar(c){this.l=c.Ub||null,this.j=c.eb||!1}D(Ar,Vo),Ar.prototype.g=function(){return new Hi(this.l,this.j)},Ar.prototype.i=function(c){return function(){return c}}({});function Hi(c,_){gt.call(this),this.D=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Hi,gt),i=Hi.prototype,i.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=_,this.readyState=1,pi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(_.body=c),(this.D||p).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,di(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?di(this):pi(this),this.readyState==3&&Yo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,di(this))},i.Qa=function(c){this.g&&(this.response=c,di(this))},i.ga=function(){this.g&&di(this)};function di(c){c.readyState=4,c.l=null,c.j=null,c.v=null,pi(c)}i.setRequestHeader=function(c,_){this.u.append(c,_)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var y=_.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=_.next();return c.join(`\r
`)};function pi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Xo(c){let _="";return _e(c,function(y,S){_+=S,_+=":",_+=y,_+=`\r
`}),_}function jt(c,_,y){e:{for(S in y){var S=!1;break e}S=!0}S||(y=Xo(y),typeof c=="string"?y!=null&&encodeURIComponent(String(y)):Je(c,_,y))}function Ke(c){gt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Ke,gt);var ba=/^https?$/i,Os=["POST","PUT"];i=Ke.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,_,y,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():li.g(),this.v=this.o?Lo(this.o):Lo(li),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(Q){ju(this,Q);return}if(c=y||"",y=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)y.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())y.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(y.keys()).find(Q=>Q.toLowerCase()=="content-type"),B=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Os,_,void 0))||S||B||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of y)this.g.setRequestHeader(Q,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ks(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){ju(this,Q)}};function ju(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.m=5,Sa(c),mi(c)}function Sa(c){c.A||(c.A=!0,Ye(c,"complete"),Ye(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ye(this,"complete"),Ye(this,"abort"),mi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mi(this,!0)),Ke.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?wa(this):this.bb())},i.bb=function(){wa(this)};function wa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Ln(c)!=4||c.Z()!=2)){if(c.u&&Ln(c)==4)tn(c.Ea,0,c);else if(Ye(c,"readystatechange"),Ln(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var y;if(!(y=_)){var S;if(S=ae===0){var B=String(c.D).match(Rs)[1]||null;!B&&p.self&&p.self.location&&(B=p.self.location.protocol.slice(0,-1)),S=!ba.test(B?B.toLowerCase():"")}y=S}if(y)Ye(c,"complete"),Ye(c,"success");else{c.m=6;try{var Q=2<Ln(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",Sa(c)}}finally{mi(c)}}}}function mi(c,_){if(c.g){ks(c);const y=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,_||Ye(c,"ready");try{y.onreadystatechange=S}catch{}}}function ks(c){c.I&&(p.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Ln(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),ma(_)}};function Bu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function If(c){const _={};c=(c.g&&2<=Ln(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(ee(c[S]))continue;var y=V(c[S]);const B=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const Q=_[B]||[];_[B]=Q,Q.push(y)}P(_,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ps(c,_,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||_}function Ra(c){this.Aa=0,this.i=[],this.j=new kn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ps("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ps("baseRetryDelayMs",5e3,c),this.cb=Ps("retryDelaySeedMs",1e4,c),this.Wa=Ps("forwardChannelMaxRetries",2,c),this.wa=Ps("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ui(c&&c.concurrentRequestLimit),this.Da=new xs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ra.prototype,i.la=8,i.G=1,i.connect=function(c,_,y,S){ut(0),this.W=c,this.H=_||{},y&&S!==void 0&&(this.H.OSID=y,this.H.OAID=S),this.F=this.X,this.I=Ku(this,null,this.W),Ia(this)};function Wo(c){if(zu(c),c.G==3){var _=c.U++,y=An(c.I);if(Je(y,"SID",c.K),Je(y,"RID",_),Je(y,"TYPE","terminate"),Ms(c,y),_=new cn(c,c.j,_),_.L=2,_.v=Is(An(y)),y=!1,p.navigator&&p.navigator.sendBeacon)try{y=p.navigator.sendBeacon(_.v.toString(),"")}catch{}!y&&p.Image&&(new Image().src=_.v,y=!0),y||(_.g=Qu(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Ss(_)}$u(c)}function Ca(c){c.g&&(Vs(c),c.g.cancel(),c.g=null)}function zu(c){Ca(c),c.u&&(p.clearTimeout(c.u),c.u=null),Na(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function Ia(c){if(!ya(c.h)&&!c.s){c.s=!0;var _=c.Ga;te||O(),de||(te(),de=!0),De.add(_,c),c.B=0}}function Nf(c,_){return va(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=_.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=wt(T(c.Ga,c,_),el(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new cn(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=R(Q),k(Q,this.S)):Q=this.S),this.m!==null||this.O||(B.H=Q,Q=null),this.P)e:{for(var _=0,y=0;y<this.i.length;y++){t:{var S=this.i[y];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(_+=S,4096<_){_=y;break e}if(_===4096||y===this.i.length-1){_=y+1;break e}}_=1e3}else _=1e3;_=qu(this,B,_),y=An(this.I),Je(y,"RID",c),Je(y,"CVER",22),this.D&&Je(y,"X-HTTP-Session-Id",this.D),Ms(this,y),Q&&(this.O?_="headers="+encodeURIComponent(String(Xo(Q)))+"&"+_:this.m&&jt(y,this.m,Q)),Ea(this.h,B),this.Ua&&Je(y,"TYPE","init"),this.P?(Je(y,"$req",_),Je(y,"SID","null"),B.T=!0,Kn(B,y,null)):Kn(B,y,_),this.G=2}}else this.G==3&&(c?Zo(this,c):this.i.length==0||ya(this.h)||Zo(this))};function Zo(c,_){var y;_?y=_.l:y=c.U++;const S=An(c.I);Je(S,"SID",c.K),Je(S,"RID",y),Je(S,"AID",c.T),Ms(c,S),c.m&&c.o&&jt(S,c.m,c.o),y=new cn(c,c.j,y,c.B+1),c.m===null&&(y.H=c.o),_&&(c.i=_.D.concat(c.i)),_=qu(c,y,1e3),y.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ea(c.h,y),Kn(y,S,_)}function Ms(c,_){c.H&&_e(c.H,function(y,S){Je(_,S,y)}),c.l&&Go({},function(y,S){Je(_,S,y)})}function qu(c,_,y){y=Math.min(c.i.length,y);var S=c.l?T(c.l.Na,c.l,c):null;e:{var B=c.i;let Q=-1;for(;;){const ae=["count="+y];Q==-1?0<y?(Q=B[0].g,ae.push("ofs="+Q)):Q=0:ae.push("ofs="+Q);let Be=!0;for(let Ot=0;Ot<y;Ot++){let ze=B[Ot].g;const Bt=B[Ot].map;if(ze-=Q,0>ze)Q=Math.max(0,B[Ot].g-100),Be=!1;else try{fi(Bt,ae,"req"+ze+"_")}catch{S&&S(Bt)}}if(Be){S=ae.join("&");break e}}}return c=c.i.splice(0,y),_.D=c,S}function Hu(c){if(!c.g&&!c.u){c.Y=1;var _=c.Fa;te||O(),de||(te(),de=!0),De.add(_,c),c.v=0}}function Jo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=wt(T(c.Fa,c),el(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Fu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=wt(T(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),Ca(this),Fu(this))};function Vs(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function Fu(c){c.g=new cn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var _=An(c.qa);Je(_,"RID","rpc"),Je(_,"SID",c.K),Je(_,"AID",c.T),Je(_,"CI",c.F?"0":"1"),!c.F&&c.ja&&Je(_,"TO",c.ja),Je(_,"TYPE","xmlhttp"),Ms(c,_),c.m&&c.o&&jt(_,c.m,c.o),c.L&&(c.g.I=c.L);var y=c.g;c=c.ia,y.L=1,y.v=Is(An(_)),y.m=null,y.P=!0,Li(y,c)}i.Za=function(){this.C!=null&&(this.C=null,Ca(this),Jo(this),ut(19))};function Na(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function Gu(c,_){var y=null;if(c.g==_){Na(c),Vs(c),c.g=null;var S=2}else if(Ho(c.h,_))y=_.D,hn(c.h,_),S=1;else return;if(c.G!=0){if(_.o)if(S==1){y=_.m?_.m.length:0,_=Date.now()-_.F;var B=c.B;S=gr(),Ye(S,new xt(S,y)),Ia(c)}else Hu(c);else if(B=_.s,B==3||B==0&&0<_.X||!(S==1&&Nf(c,_)||S==2&&Jo(c)))switch(y&&0<y.length&&(_=c.h,_.i=_.i.concat(y)),B){case 1:Fi(c,5);break;case 4:Fi(c,10);break;case 3:Fi(c,6);break;default:Fi(c,2)}}}function el(c,_){let y=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(y*=2),y*_}function Fi(c,_){if(c.j.info("Error code "+_),_==2){var y=T(c.fb,c),S=c.Xa;const B=!S;S=new Rt(S||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Cs(S,"https"),Is(S),B?Ds(S.toString(),y):Qn(S.toString(),y)}else ut(2);c.G=0,c.l&&c.l.sa(_),$u(c),zu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function $u(c){if(c.G=0,c.ka=[],c.l){const _=Fo(c.h);(_.length!=0||c.i.length!=0)&&(L(c.ka,_),L(c.ka,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.ra()}}function Ku(c,_,y){var S=y instanceof Rt?An(y):new Rt(y);if(S.g!="")_&&(S.g=_+"."+S.g),Tr(S,S.s);else{var B=p.location;S=B.protocol,_=_?_+"."+B.hostname:B.hostname,B=+B.port;var Q=new Rt(null);S&&Cs(Q,S),_&&(Q.g=_),B&&Tr(Q,B),y&&(Q.l=y),S=Q}return y=c.D,_=c.ya,y&&_&&Je(S,y,_),Je(S,"VER",c.la),Ms(c,S),S}function Qu(c,_,y){if(_&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Ca&&!c.pa?new Ke(new Ar({eb:y})):new Ke(c.pa),_.Ha(c.J),_}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yu(){}i=Yu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Da(){}Da.prototype.g=function(c,_){return new fn(c,_)};function fn(c,_){gt.call(this),this.g=new Ra(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(c?c["X-WebChannel-Client-Profile"]=_.va:c={"X-WebChannel-Client-Profile":_.va}),this.g.S=c,(c=_&&_.Sb)&&!ee(c)&&(this.g.m=c),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!ee(_)&&(this.g.D=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new gi(this)}D(fn,gt),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Wo(this.g)},fn.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.u&&(y={},y.__data__=$n(c),c=y);_.i.push(new Vu(_.Ya++,c)),_.G==3&&Ia(_)},fn.prototype.N=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,fn.aa.N.call(this)};function Xu(c){Mi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const y in _){c=y;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}D(Xu,Mi);function Wu(){jo.call(this),this.status=1}D(Wu,jo);function gi(c){this.g=c}D(gi,Yu),gi.prototype.ua=function(){Ye(this.g,"a")},gi.prototype.ta=function(c){Ye(this.g,new Xu(c))},gi.prototype.sa=function(c){Ye(this.g,new Wu)},gi.prototype.ra=function(){Ye(this.g,"b")},Da.prototype.createWebChannel=Da.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,X0=function(){return new Da},Y0=function(){return gr()},Q0=oi,Jp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vr.NO_ERROR=0,vr.TIMEOUT=8,vr.HTTP_ERROR=6,dh=vr,Vi.COMPLETE="complete",K0=Vi,Uo.EventType=Pi,Pi.OPEN="a",Pi.CLOSE="b",Pi.ERROR="c",Pi.MESSAGE="d",gt.prototype.listen=gt.prototype.K,Ql=Uo,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,$0=Ke}).apply(typeof eh<"u"?eh:typeof self<"u"?self:typeof window<"u"?window:{});const xE="@firebase/firestore",OE="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Co="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new Om("@firebase/firestore");function so(){return ra.logLevel}function fe(i,...e){if(ra.logLevel<=Ue.DEBUG){const n=e.map(Hm);ra.debug(`Firestore (${Co}): ${i}`,...n)}}function dr(i,...e){if(ra.logLevel<=Ue.ERROR){const n=e.map(Hm);ra.error(`Firestore (${Co}): ${i}`,...n)}}function mo(i,...e){if(ra.logLevel<=Ue.WARN){const n=e.map(Hm);ra.warn(`Firestore (${Co}): ${i}`,...n)}}function Hm(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,W0(i,s,n)}function W0(i,e,n){let s=`FIRESTORE (${Co}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw dr(s),new Error(s)}function Qe(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||W0(e,o,s)}function Ne(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends ki{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(an.UNAUTHENTICATED))}shutdown(){}}class _N{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yN{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let u=new ns;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ns,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const m=u;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},p=m=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(m=>p(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ns)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new Z0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class vN{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class EN{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new vN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new kE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new kE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=AN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Pe(i,e){return i<e?-1:i>e?1:0}function em(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Pe(s,o);{const u=J0(),f=bN(u.encode(PE(i,n)),u.encode(PE(e,n)));return f!==0?f:Pe(s,o)}}n+=s>65535?2:1}return Pe(i.length,e.length)}function PE(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function bN(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Pe(i[n],e[n]);return Pe(i.length,e.length)}function go(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=-62135596800,VE=1e6;class Vt{static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*VE);return new Vt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ME)throw new pe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/VE}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ME;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Vt(0,0))}static max(){return new Ce(new Vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="__name__";class wi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Se(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return wi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof wi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=wi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Pe(e.length,n.length)}static compareSegments(e,n){const s=wi.isNumericId(e),o=wi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?wi.extractNumericId(e).compare(wi.extractNumericId(n)):em(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ts.fromString(e.substring(4,e.length-2))}}class ot extends wi{construct(e,n,s){return new ot(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new pe(re.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new ot(n)}static emptyPath(){return new ot([])}}const SN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends wi{construct(e,n,s){return new Jt(e,n,s)}static isValidIdentifier(e){return SN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===LE}static keyField(){return new Jt([LE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new pe(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new pe(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new pe(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(u(),o++)}if(u(),f)throw new pe(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ot.fromString(e))}static fromName(e){return new Ee(ot.fromString(e).popFirst(5))}static empty(){return new Ee(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ot(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=-1;function wN(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(s===1e9?new Vt(n+1,0):new Vt(n,s));return new as(o,Ee.empty(),e)}function RN(i){return new as(i.readTime,i.key,uu)}class as{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new as(Ce.min(),Ee.empty(),uu)}static max(){return new as(Ce.max(),Ee.empty(),uu)}}function CN(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(i.documentKey,e.documentKey),n!==0?n:Pe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(i){if(i.code!==re.FAILED_PRECONDITION||i.message!==IN)throw i;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.reject(n)}static resolve(e){return new ie((n,s)=>{n(e)})}static reject(e){return new ie((n,s)=>{s(e)})}static waitFor(e){return new ie((n,s)=>{let o=0,u=0,f=!1;e.forEach(p=>{++o,p.next(()=>{++u,f&&u===o&&n()},m=>s(m))}),f=!0,u===o&&n()})}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next(o=>o?ie.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ie((s,o)=>{const u=e.length,f=new Array(u);let p=0;for(let m=0;m<u;m++){const g=m;n(e[g]).next(E=>{f[g]=E,++p,p===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new ie((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function DN(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function No(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Wh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm=-1;function Zh(i){return i==null}function Nh(i){return i===0&&1/i==-1/0}function xN(i){return typeof i=="number"&&Number.isInteger(i)&&!Nh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="";function ON(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=UE(e)),e=kN(i.get(n),e);return UE(e)}function kN(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case tA:n+="";break;default:n+=u}}return n}function UE(i){return i+tA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ms(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function nA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new th(this.root,e,this.comparator,!1)}getReverseIterator(){return new th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new th(this.root,e,this.comparator,!0)}}class th{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Zt.RED,this.left=o??Zt.EMPTY,this.right=u??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Zt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new BE(this.data.getIterator())}getIteratorFrom(e){return new BE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class BE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Dn([])}unionWith(e){let n=new Lt(Jt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new iA("Invalid base64 string: "+u):u}}(e);return new en(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const PN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(i){if(Qe(!!i,39018),typeof i=="string"){let e=0;const n=PN.exec(i);if(Qe(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:St(i.seconds),nanos:St(i.nanos)}}function St(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ls(i){return typeof i=="string"?en.fromBase64String(i):en.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="server_timestamp",sA="__type__",aA="__previous_value__",oA="__local_write_time__";function Gm(i){var e,n;return((n=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{})[sA])===null||n===void 0?void 0:n.stringValue)===rA}function Jh(i){const e=i.mapValue.fields[aA];return Gm(e)?Jh(e):e}function cu(i){const e=os(i.mapValue.fields[oA].timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n,s,o,u,f,p,m,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=E}}const Dh="(default)";class hu{constructor(e,n){this.projectId=e,this.database=n||Dh}static empty(){return new hu("","")}get isDefaultDatabase(){return this.database===Dh}isEqual(e){return e instanceof hu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="__type__",VN="__max__",nh={mapValue:{}},uA="__vector__",xh="value";function us(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Gm(i)?4:UN(i)?9007199254740991:LN(i)?10:11:Se(28295,{value:i})}function Oi(i,e){if(i===e)return!0;const n=us(i);if(n!==us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return cu(i).isEqual(cu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=os(o.timestampValue),p=os(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return ls(o.bytesValue).isEqual(ls(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return St(o.geoPointValue.latitude)===St(u.geoPointValue.latitude)&&St(o.geoPointValue.longitude)===St(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return St(o.integerValue)===St(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=St(o.doubleValue),p=St(u.doubleValue);return f===p?Nh(f)===Nh(p):isNaN(f)&&isNaN(p)}return!1}(i,e);case 9:return go(i.arrayValue.values||[],e.arrayValue.values||[],Oi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(jE(f)!==jE(p))return!1;for(const m in f)if(f.hasOwnProperty(m)&&(p[m]===void 0||!Oi(f[m],p[m])))return!1;return!0}(i,e);default:return Se(52216,{left:i})}}function fu(i,e){return(i.values||[]).find(n=>Oi(n,e))!==void 0}function _o(i,e){if(i===e)return 0;const n=us(i),s=us(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(i.booleanValue,e.booleanValue);case 2:return function(u,f){const p=St(u.integerValue||u.doubleValue),m=St(f.integerValue||f.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1}(i,e);case 3:return zE(i.timestampValue,e.timestampValue);case 4:return zE(cu(i),cu(e));case 5:return em(i.stringValue,e.stringValue);case 6:return function(u,f){const p=ls(u),m=ls(f);return p.compareTo(m)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const p=u.split("/"),m=f.split("/");for(let g=0;g<p.length&&g<m.length;g++){const E=Pe(p[g],m[g]);if(E!==0)return E}return Pe(p.length,m.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const p=Pe(St(u.latitude),St(f.latitude));return p!==0?p:Pe(St(u.longitude),St(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return qE(i.arrayValue,e.arrayValue);case 10:return function(u,f){var p,m,g,E;const b=u.fields||{},T=f.fields||{},x=(p=b[xh])===null||p===void 0?void 0:p.arrayValue,D=(m=T[xh])===null||m===void 0?void 0:m.arrayValue,G=Pe(((g=x?.values)===null||g===void 0?void 0:g.length)||0,((E=D?.values)===null||E===void 0?void 0:E.length)||0);return G!==0?G:qE(x,D)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===nh.mapValue&&f===nh.mapValue)return 0;if(u===nh.mapValue)return 1;if(f===nh.mapValue)return-1;const p=u.fields||{},m=Object.keys(p),g=f.fields||{},E=Object.keys(g);m.sort(),E.sort();for(let b=0;b<m.length&&b<E.length;++b){const T=em(m[b],E[b]);if(T!==0)return T;const x=_o(p[m[b]],g[E[b]]);if(x!==0)return x}return Pe(m.length,E.length)}(i.mapValue,e.mapValue);default:throw Se(23264,{Pe:n})}}function zE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Pe(i,e);const n=os(i),s=os(e),o=Pe(n.seconds,s.seconds);return o!==0?o:Pe(n.nanos,s.nanos)}function qE(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=_o(n[o],s[o]);if(u)return u}return Pe(n.length,s.length)}function yo(i){return tm(i)}function tm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=os(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return ls(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return Ee.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=tm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${tm(n.fields[f])}`;return o+"}"}(i.mapValue):Se(61005,{value:i})}function ph(i){switch(us(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jh(i);return e?16+ph(e):16;case 5:return 2*i.stringValue.length;case 6:return ls(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+ph(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return ms(s.fields,(u,f)=>{o+=u.length+ph(f)}),o}(i.mapValue);default:throw Se(13486,{value:i})}}function HE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function nm(i){return!!i&&"integerValue"in i}function $m(i){return!!i&&"arrayValue"in i}function FE(i){return!!i&&"nullValue"in i}function GE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function mh(i){return!!i&&"mapValue"in i}function LN(i){var e,n;return((n=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{})[lA])===null||n===void 0?void 0:n.stringValue)===uA}function eu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ms(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=eu(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=eu(i.arrayValue.values[n]);return e}return Object.assign({},i)}function UN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===VN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!mh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=eu(n)}setAll(e){let n=Jt.emptyPath(),s={},o=[];e.forEach((f,p)=>{if(!n.isImmediateParentOf(p)){const m=this.getFieldsMap(n);this.applyChanges(m,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=eu(f):o.push(p.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());mh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Oi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];mh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ms(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new En(eu(this.value))}}function cA(i){const e=[];return ms(i.fields,(n,s)=>{const o=new Jt([n]);if(mh(s)){const u=cA(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n,s,o,u,f,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new on(e,0,Ce.min(),Ce.min(),Ce.min(),En.empty(),0)}static newFoundDocument(e,n,s,o){return new on(e,1,n,Ce.min(),s,o,0)}static newNoDocument(e,n){return new on(e,2,n,Ce.min(),Ce.min(),En.empty(),0)}static newUnknownDocument(e,n){return new on(e,3,n,Ce.min(),Ce.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n){this.position=e,this.inclusive=n}}function $E(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=Ee.comparator(Ee.fromName(f.referenceValue),n.key):s=_o(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function KE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Oi(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n="asc"){this.field=e,this.dir=n}}function jN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{}class Dt extends hA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new zN(e,n,s):n==="array-contains"?new FN(e,s):n==="in"?new GN(e,s):n==="not-in"?new $N(e,s):n==="array-contains-any"?new KN(e,s):new Dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new qN(e,s):new HN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(_o(n,this.value)):n!==null&&us(this.value)===us(n)&&this.matchesComparison(_o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends hA{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new ri(e,n)}matches(e){return fA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function fA(i){return i.op==="and"}function dA(i){return BN(i)&&fA(i)}function BN(i){for(const e of i.filters)if(e instanceof ri)return!1;return!0}function im(i){if(i instanceof Dt)return i.field.canonicalString()+i.op.toString()+yo(i.value);if(dA(i))return i.filters.map(e=>im(e)).join(",");{const e=i.filters.map(n=>im(n)).join(",");return`${i.op}(${e})`}}function pA(i,e){return i instanceof Dt?function(s,o){return o instanceof Dt&&s.op===o.op&&s.field.isEqual(o.field)&&Oi(s.value,o.value)}(i,e):i instanceof ri?function(s,o){return o instanceof ri&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,p)=>u&&pA(f,o.filters[p]),!0):!1}(i,e):void Se(19439)}function mA(i){return i instanceof Dt?function(n){return`${n.field.canonicalString()} ${n.op} ${yo(n.value)}`}(i):i instanceof ri?function(n){return n.op.toString()+" {"+n.getFilters().map(mA).join(" ,")+"}"}(i):"Filter"}class zN extends Dt{constructor(e,n,s){super(e,n,s),this.key=Ee.fromName(s.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class qN extends Dt{constructor(e,n){super(e,"in",n),this.keys=gA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class HN extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=gA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function gA(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Ee.fromName(s.referenceValue))}class FN extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $m(n)&&fu(n.arrayValue,this.value)}}class GN extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fu(this.value.arrayValue,n)}}class $N extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fu(this.value.arrayValue,n)}}class KN extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$m(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>fu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,n=null,s=[],o=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Ie=null}}function QE(i,e=null,n=[],s=[],o=null,u=null,f=null){return new QN(i,e,n,s,o,u,f)}function Km(i){const e=Ne(i);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>im(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Zh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>yo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>yo(s)).join(",")),e.Ie=n}return e.Ie}function Qm(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!jN(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!pA(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!KE(i.startAt,e.startAt)&&KE(i.endAt,e.endAt)}function rm(i){return Ee.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n=null,s=[],o=[],u=null,f="F",p=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function YN(i,e,n,s,o,u,f,p){return new bu(i,e,n,s,o,u,f,p)}function ef(i){return new bu(i)}function YE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function _A(i){return i.collectionGroup!==null}function tu(i){const e=Ne(i);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Lt(Jt.comparator);return f.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(p=p.add(g.field))})}),p})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new kh(u,s))}),n.has(Jt.keyField().canonicalString())||e.Ee.push(new kh(Jt.keyField(),s))}return e.Ee}function Di(i){const e=Ne(i);return e.de||(e.de=XN(e,tu(i))),e.de}function XN(i,e){if(i.limitType==="F")return QE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new kh(o.field,u)});const n=i.endAt?new Oh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Oh(i.startAt.position,i.startAt.inclusive):null;return QE(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function sm(i,e){const n=i.filters.concat([e]);return new bu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function am(i,e,n){return new bu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function tf(i,e){return Qm(Di(i),Di(e))&&i.limitType===e.limitType}function yA(i){return`${Km(Di(i))}|lt:${i.limitType}`}function ao(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>mA(o)).join(", ")}]`),Zh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>yo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>yo(o)).join(",")),`Target(${s})`}(Di(i))}; limitType=${i.limitType})`}function nf(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ee.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of tu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,p,m){const g=$E(f,p,m);return f.inclusive?g<=0:g<0}(s.startAt,tu(s),o)||s.endAt&&!function(f,p,m){const g=$E(f,p,m);return f.inclusive?g>=0:g>0}(s.endAt,tu(s),o))}(i,e)}function WN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function vA(i){return(e,n)=>{let s=!1;for(const o of tu(i)){const u=ZN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function ZN(i,e,n){const s=i.field.isKeyField()?Ee.comparator(e.key,n.key):function(u,f,p){const m=f.data.field(u),g=p.data.field(u);return m!==null&&g!==null?_o(m,g):Se(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Se(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ms(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return nA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=new dt(Ee.comparator);function pr(){return JN}const EA=new dt(Ee.comparator);function Yl(...i){let e=EA;for(const n of i)e=e.insert(n.key,n);return e}function TA(i){let e=EA;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Js(){return nu()}function AA(){return nu()}function nu(){return new ha(i=>i.toString(),(i,e)=>i.isEqual(e))}const eD=new dt(Ee.comparator),tD=new Lt(Ee.comparator);function je(...i){let e=tD;for(const n of i)e=e.add(n);return e}const nD=new Lt(Pe);function iD(){return nD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nh(e)?"-0":e}}function bA(i){return{integerValue:""+i}}function rD(i,e){return xN(e)?bA(e):Ym(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(){this._=void 0}}function sD(i,e,n){return i instanceof Ph?function(o,u){const f={fields:{[sA]:{stringValue:rA},[oA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Gm(u)&&(u=Jh(u)),u&&(f.fields[aA]=u),{mapValue:f}}(n,e):i instanceof vo?wA(i,e):i instanceof du?RA(i,e):function(o,u){const f=SA(o,u),p=XE(f)+XE(o.Re);return nm(f)&&nm(o.Re)?bA(p):Ym(o.serializer,p)}(i,e)}function aD(i,e,n){return i instanceof vo?wA(i,e):i instanceof du?RA(i,e):n}function SA(i,e){return i instanceof Mh?function(s){return nm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Ph extends rf{}class vo extends rf{constructor(e){super(),this.elements=e}}function wA(i,e){const n=CA(e);for(const s of i.elements)n.some(o=>Oi(o,s))||n.push(s);return{arrayValue:{values:n}}}class du extends rf{constructor(e){super(),this.elements=e}}function RA(i,e){let n=CA(e);for(const s of i.elements)n=n.filter(o=>!Oi(o,s));return{arrayValue:{values:n}}}class Mh extends rf{constructor(e,n){super(),this.serializer=e,this.Re=n}}function XE(i){return St(i.integerValue||i.doubleValue)}function CA(i){return $m(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n){this.field=e,this.transform=n}}function lD(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof vo&&o instanceof vo||s instanceof du&&o instanceof du?go(s.elements,o.elements,Oi):s instanceof Mh&&o instanceof Mh?Oi(s.Re,o.Re):s instanceof Ph&&o instanceof Ph}(i.transform,e.transform)}class uD{constructor(e,n){this.version=e,this.transformResults=n}}class ei{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class sf{}function IA(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new DA(i.key,ei.none()):new Su(i.key,i.data,ei.none());{const n=i.data,s=En.empty();let o=new Lt(Jt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new gs(i.key,s,new Dn(o.toArray()),ei.none())}}function cD(i,e,n){i instanceof Su?function(o,u,f){const p=o.value.clone(),m=ZE(o.fieldTransforms,u,f.transformResults);p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,n):i instanceof gs?function(o,u,f){if(!gh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=ZE(o.fieldTransforms,u,f.transformResults),m=u.data;m.setAll(NA(o)),m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function iu(i,e,n,s){return i instanceof Su?function(u,f,p,m){if(!gh(u.precondition,f))return p;const g=u.value.clone(),E=JE(u.fieldTransforms,m,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,n,s):i instanceof gs?function(u,f,p,m){if(!gh(u.precondition,f))return p;const g=JE(u.fieldTransforms,m,f),E=f.data;return E.setAll(NA(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(i,e,n,s):function(u,f,p){return gh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p}(i,e,n)}function hD(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=SA(s.transform,o||null);u!=null&&(n===null&&(n=En.empty()),n.set(s.field,u))}return n||null}function WE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&go(s,o,(u,f)=>lD(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Su extends sf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class gs extends sf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function NA(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function ZE(i,e,n){const s=new Map;Qe(i.length===n.length,32656,{Ve:n.length,me:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,p=e.data.field(u.field);s.set(u.field,aD(f,p,n[o]))}return s}function JE(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,sD(u,f,e))}return s}class DA extends sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fD extends sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&cD(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=iu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=iu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=AA();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const m=IA(f,p);m!==null&&s.set(o.key,m),f.isValidDocument()||f.convertToNoDocument(Ce.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),je())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,(n,s)=>WE(n,s))&&go(this.baseMutations,e.baseMutations,(n,s)=>WE(n,s))}}class Xm{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Qe(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return eD}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Xm(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,He;function gD(i){switch(i){case re.OK:return Se(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Se(15467,{code:i})}}function xA(i){if(i===void 0)return dr("GRPC error has no .code"),re.UNKNOWN;switch(i){case Nt.OK:return re.OK;case Nt.CANCELLED:return re.CANCELLED;case Nt.UNKNOWN:return re.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return re.INTERNAL;case Nt.UNAVAILABLE:return re.UNAVAILABLE;case Nt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Nt.NOT_FOUND:return re.NOT_FOUND;case Nt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Nt.ABORTED:return re.ABORTED;case Nt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Nt.DATA_LOSS:return re.DATA_LOSS;default:return Se(39323,{code:i})}}(He=Nt||(Nt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=new ts([4294967295,4294967295],0);function eT(i){const e=J0().encode(i),n=new G0;return n.update(e),new Uint8Array(n.digest())}function tT(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ts([n,s],0),new ts([o,u],0)]}class Wm{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Xl(`Invalid padding: ${n}`);if(s<0)throw new Xl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=ts.fromNumber(this.pe)}we(e,n,s){let o=e.add(n.multiply(ts.fromNumber(s)));return o.compare(_D)===1&&(o=new ts([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=eT(e),[s,o]=tT(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Wm(u,o,n);return s.forEach(p=>f.insert(p)),f}insert(e){if(this.pe===0)return;const n=eT(e),[s,o]=tT(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,wu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new af(Ce.min(),o,new dt(Pe),pr(),je())}}class wu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new wu(s,n,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n,s,o){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=o}}class OA{constructor(e,n){this.targetId=e,this.Ce=n}}class kA{constructor(e,n,s=en.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class nT{constructor(){this.Fe=0,this.Me=iT(),this.xe=en.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=je(),n=je(),s=je();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Se(38017,{changeType:u})}}),new wu(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=iT()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Qe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class yD{constructor(e){this.ze=e,this.je=new Map,this.He=pr(),this.Je=ih(),this.Ye=ih(),this.Ze=new dt(Pe)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,s=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(rm(u))if(s===0){const f=new Ee(u.path);this.tt(n,f,on.newNoDocument(f,Ce.min()))}else Qe(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const p=this.ct(e),m=p?this.lt(p,e,f):1;if(m!==0){this.st(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=ls(s).toUint8Array()}catch(m){if(m instanceof iA)return mo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new Wm(f,o,u)}catch(m){return mo(m instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.pe===0?null:p}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,f)=>{const p=this._t(f);if(p){if(u.current&&rm(p.target)){const m=new Ee(p.target.path);this.Et(m).has(f)||this.dt(f,m)||this.tt(f,m,on.newNoDocument(m,e))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=je();this.Ye.forEach((u,f)=>{let p=!0;f.forEachWhile(m=>{const g=this._t(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new af(e,n,this.Ze,this.He,s);return this.He=pr(),this.Je=ih(),this.Ye=ih(),this.Ze=new dt(Pe),o}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new nT,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Lt(Pe),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Lt(Pe),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new nT),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function ih(){return new dt(Ee.comparator)}function iT(){return new dt(Ee.comparator)}const vD={asc:"ASCENDING",desc:"DESCENDING"},ED={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TD={and:"AND",or:"OR"};class AD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function om(i,e){return i.useProto3Json||Zh(e)?e:{value:e}}function Vh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PA(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function bD(i,e){return Vh(i,e.toTimestamp())}function xi(i){return Qe(!!i,49232),Ce.fromTimestamp(function(n){const s=os(n);return new Vt(s.seconds,s.nanos)}(i))}function Zm(i,e){return lm(i,e).canonicalString()}function lm(i,e){const n=function(o){return new ot(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function MA(i){const e=ot.fromString(i);return Qe(BA(e),10190,{key:e.toString()}),e}function um(i,e){return Zm(i.databaseId,e.path)}function Mp(i,e){const n=MA(e);if(n.get(1)!==i.databaseId.projectId)throw new pe(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new pe(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ee(LA(n))}function VA(i,e){return Zm(i.databaseId,e)}function SD(i){const e=MA(i);return e.length===4?ot.emptyPath():LA(e)}function cm(i){return new ot(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function LA(i){return Qe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function rT(i,e,n){return{name:um(i,e),fields:n.value.mapValue.fields}}function wD(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Qe(E===void 0||typeof E=="string",58123),en.fromBase64String(E||"")):(Qe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),en.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&function(g){const E=g.code===void 0?re.UNKNOWN:xA(g.code);return new pe(E,g.message||"")}(f);n=new kA(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Mp(i,s.document.name),u=xi(s.document.updateTime),f=s.document.createTime?xi(s.document.createTime):Ce.min(),p=new En({mapValue:{fields:s.document.fields}}),m=on.newFoundDocument(o,u,f,p),g=s.targetIds||[],E=s.removedTargetIds||[];n=new _h(g,E,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Mp(i,s.document),u=s.readTime?xi(s.readTime):Ce.min(),f=on.newNoDocument(o,u),p=s.removedTargetIds||[];n=new _h([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Mp(i,s.document),u=s.removedTargetIds||[];n=new _h([],u,o,null)}else{if(!("filter"in e))return Se(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new mD(o,u),p=s.targetId;n=new OA(p,f)}}return n}function RD(i,e){let n;if(e instanceof Su)n={update:rT(i,e.key,e.value)};else if(e instanceof DA)n={delete:um(i,e.key)};else if(e instanceof gs)n={update:rT(i,e.key,e.data),updateMask:MD(e.fieldMask)};else{if(!(e instanceof fD))return Se(16599,{ft:e.type});n={verify:um(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const p=f.transform;if(p instanceof Ph)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof vo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof du)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Mh)return{fieldPath:f.field.canonicalString(),increment:p.Re};throw Se(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:bD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se(27497)}(i,e.precondition)),n}function CD(i,e){return i&&i.length>0?(Qe(e!==void 0,14353),i.map(n=>function(o,u){let f=o.updateTime?xi(o.updateTime):xi(u);return f.isEqual(Ce.min())&&(f=xi(u)),new uD(f,o.transformResults||[])}(n,e))):[]}function ID(i,e){return{documents:[VA(i,e.path)]}}function ND(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=VA(i,o);const u=function(g){if(g.length!==0)return jA(ri.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(T){return{field:oo(T.field),direction:OD(T.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const p=om(i,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:o}}function DD(i){let e=SD(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Qe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(b){const T=UA(b);return T instanceof ri&&dA(T)?T.getFilters():[T]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(T=>function(D){return new kh(lo(D.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(T))}(n.orderBy));let p=null;n.limit&&(p=function(b){let T;return T=typeof b=="object"?b.value:b,Zh(T)?null:T}(n.limit));let m=null;n.startAt&&(m=function(b){const T=!!b.before,x=b.values||[];return new Oh(x,T)}(n.startAt));let g=null;return n.endAt&&(g=function(b){const T=!b.before,x=b.values||[];return new Oh(x,T)}(n.endAt)),YN(e,o,f,u,p,"F",m,g)}function xD(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function UA(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=lo(n.unaryFilter.field);return Dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=lo(n.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=lo(n.unaryFilter.field);return Dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=lo(n.unaryFilter.field);return Dt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(i):i.fieldFilter!==void 0?function(n){return Dt.create(lo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return ri.create(n.compositeFilter.filters.map(s=>UA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(n.compositeFilter.op))}(i):Se(30097,{filter:i})}function OD(i){return vD[i]}function kD(i){return ED[i]}function PD(i){return TD[i]}function oo(i){return{fieldPath:i.canonicalString()}}function lo(i){return Jt.fromServerFormat(i.fieldPath)}function jA(i){return i instanceof Dt?function(n){if(n.op==="=="){if(GE(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NAN"}};if(FE(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(GE(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NAN"}};if(FE(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(n.field),op:kD(n.op),value:n.value}}}(i):i instanceof ri?function(n){const s=n.getFilters().map(o=>jA(o));return s.length===1?s[0]:{compositeFilter:{op:PD(n.op),filters:s}}}(i):Se(54877,{filter:i})}function MD(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function BA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n,s,o,u=Ce.min(),f=Ce.min(),p=en.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new Wr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.wt=e}}function LD(i){const e=DD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?am(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(){this.Cn=new jD}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(as.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(as.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class jD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Lt(ot.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Lt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zA=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(zA,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Eo(0)}static lr(){return new Eo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="LruGarbageCollector",BD=1048576;function oT([i,e],[n,s]){const o=Pe(i,n);return o===0?Pe(e,s):o}class zD{constructor(e){this.Er=e,this.buffer=new Lt(oT),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();oT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class qD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){fe(aT,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){No(n)?fe(aT,"Ignoring IndexedDB error during garbage collection: ",n):await Io(n)}await this.mr(3e5)})}}class HD{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Wh.le);const s=new zD(n);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.gr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(sT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sT):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let s,o,u,f,p,m,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,p=Date.now(),this.removeTargets(e,s,n))).next(b=>(u=b,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(g=Date.now(),so()<=Ue.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(m-p)+`ms
	Removed ${b} documents in `+(g-m)+`ms
Total Duration: ${g-E}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function FD(i,e){return new HD(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(){this.changes=new ha(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&iu(s.mutation,o,Dn.empty(),Vt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,je()).next(()=>s))}getLocalViewOfDocuments(e,n,s=je()){const o=Js();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Yl();return u.forEach((p,m)=>{f=f.insert(p,m.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Js();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,je()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,p)=>{n.set(f,p)})})}computeViews(e,n,s,o){let u=pr();const f=nu(),p=function(){return nu()}();return n.forEach((m,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof gs)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),iu(E.mutation,g,E.mutation.getFieldMask(),Vt.now())):f.set(g.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,u).next(m=>(m.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var b;return p.set(g,new $D(E,(b=f.get(g))!==null&&b!==void 0?b:null))}),p))}recalculateAndSaveOverlays(e,n){const s=nu();let o=new dt((f,p)=>f-p),u=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const p of f)p.keys().forEach(m=>{const g=n.get(m);if(g===null)return;let E=s.get(m)||Dn.empty();E=p.applyToLocalView(g,E),s.set(m,E);const b=(o.get(p.batchId)||je()).add(m);o=o.insert(p.batchId,b)})}).next(()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),g=m.key,E=m.value,b=AA();E.forEach(T=>{if(!u.has(T)){const x=IA(n.get(T),s.get(T));x!==null&&b.set(T,x),u=u.add(T)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ie.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return Ee.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_A(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ie.resolve(Js());let p=uu,m=u;return f.next(g=>ie.forEach(g,(E,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),u.get(E)?ie.resolve():this.remoteDocumentCache.getEntry(e,E).next(T=>{m=m.insert(E,T)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,m,g,je())).next(E=>({batchId:p,changes:TA(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next(s=>{let o=Yl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Yl();return this.indexManager.getCollectionParents(e,u).next(p=>ie.forEach(p,m=>{const g=function(b,T){return new bu(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((b,T)=>{f=f.insert(b,T)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((m,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,on.newInvalidDocument(E)))});let p=Yl();return f.forEach((m,g)=>{const E=u.get(m);E!==void 0&&iu(E.mutation,g,Dn.empty(),Vt.now()),nf(n,g)&&(p=p.insert(m,g))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ie.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:xi(o.createTime)}}(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(o){return{name:o.name,query:LD(o.bundledQuery),readTime:xi(o.readTime)}}(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(){this.overlays=new dt(Ee.comparator),this.Qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Js();return ie.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=Js(),u=n.length+1,f=new Ee(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const m=p.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new dt((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Js(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const p=Js(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,E)=>p.set(g,E)),!(p.size()>=o)););return ie.resolve(p)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new pD(n,s));let u=this.Qr.get(n);u===void 0&&(u=je(),this.Qr.set(n,u)),this.Qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(){this.$r=new Lt(Ft.Ur),this.Kr=new Lt(Ft.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const s=new Ft(e,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.zr(new Ft(e,n))}jr(e,n){e.forEach(s=>this.removeReference(s,n))}Hr(e){const n=new Ee(new ot([])),s=new Ft(n,e),o=new Ft(n,e+1),u=[];return this.Kr.forEachInRange([s,o],f=>{this.zr(f),u.push(f.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Ee(new ot([])),s=new Ft(n,e),o=new Ft(n,e+1);let u=je();return this.Kr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Ft(e,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ft{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Ee.comparator(e.key,n.key)||Pe(e.Zr,n.Zr)}static Wr(e,n){return Pe(e.Zr,n.Zr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Lt(Ft.Ur)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new dD(u,n,s,o);this.mutationQueue.push(f);for(const p of o)this.Xr=this.Xr.add(new Ft(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ie.resolve(f)}lookupMutationBatch(e,n){return ie.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ti(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Fm:this.nr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ft(n,0),o=new Ft(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],f=>{const p=this.ei(f.Zr);u.push(p)}),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Lt(Pe);return n.forEach(o=>{const u=new Ft(o,0),f=new Ft(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,f],p=>{s=s.add(p.Zr)})}),ie.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Ee.isDocumentKey(u)||(u=u.child(""));const f=new Ft(new Ee(u),0);let p=new Lt(Pe);return this.Xr.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(p=p.add(m.Zr)),!0)},f),ie.resolve(this.ni(p))}ni(e){const n=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Qe(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return ie.forEach(n.mutations,o=>{const u=new Ft(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,n){const s=new Ft(n,0),o=this.Xr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.ii=e,this.docs=function(){return new dt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let s=pr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():on.newInvalidDocument(o))}),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=pr();const f=n.path,p=new Ee(f.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:g,value:{document:E}}=m.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||CN(RN(E),s)<=0||(o.has(E.key)||nf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Se(9500)}si(e,n){return ie.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new JD(this)}getSize(e){return ie.resolve(this.size)}}class JD extends GD{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),ie.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e){this.persistence=e,this.oi=new ha(n=>Km(n),Qm),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this._i=0,this.ai=new Jm,this.targetCount=0,this.ui=Eo.cr()}forEachTarget(e,n){return this.oi.forEach((s,o)=>n(o)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),ie.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Eo(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Tr(n),ie.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.oi.forEach((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.oi.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),ie.waitFor(u).next(()=>o)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.oi.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this.ai.Gr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this.ai.jr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ai.Yr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,n){this.ci={},this.overlays={},this.li=new Wh(0),this.hi=!1,this.hi=!0,this.Pi=new XD,this.referenceDelegate=e(this),this.Ti=new ex(this),this.indexManager=new UD,this.remoteDocumentCache=function(o){return new ZD(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new VD(n),this.Ei=new QD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new YD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ci[e.toKey()];return s||(s=new WD(n,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const o=new tx(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,n){return ie.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,n)))}}class tx extends NN{constructor(e){super(),this.currentSequenceNumber=e}}class eg{constructor(e){this.persistence=e,this.Vi=new Jm,this.mi=null}static fi(e){return new eg(e)}get gi(){if(this.mi)return this.mi;throw Se(60996)}addReference(e,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.gi,s=>{const o=Ee.fromPath(s);return this.pi(e,o).next(u=>{u||n.removeEntry(o,Ce.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ie.or([()=>ie.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Lh{constructor(e,n){this.persistence=e,this.yi=new ha(s=>ON(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=FD(this,n)}static fi(e,n){return new Lh(e,n)}di(){}Ai(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}br(e){let n=0;return this.yr(e,s=>{n++}).next(()=>n)}yr(e,n){return ie.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(u=>u?ie.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,f=>this.Dr(e,f,n).next(p=>{p||(s++,u.removeEntry(f,Ce.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ie.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ph(e.data.value)),n}Dr(e,n,s){return ie.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.ds=s,this.As=o}static Rs(e,n){let s=je(),o=je();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new tg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return LR()?8:DN(un())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ws(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.bs(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new nx;return this.Ss(e,n,f).next(p=>{if(u.result=p,this.fs)return this.Ds(e,n,f,p.size)})}).next(()=>u.result)}Ds(e,n,s,o){return s.documentReadCount<this.gs?(so()<=Ue.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ie.resolve()):(so()<=Ue.DEBUG&&fe("QueryEngine","Query:",ao(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(so()<=Ue.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Di(n))):ie.resolve())}ws(e,n){if(YE(n))return ie.resolve(null);let s=Di(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=am(n,null,"F"),s=Di(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=je(...u);return this.ys.getDocuments(e,f).next(p=>this.indexManager.getMinOffset(e,s).next(m=>{const g=this.vs(n,p);return this.Cs(n,g,f,m.readTime)?this.ws(e,am(n,null,"F")):this.Fs(e,g,n,m)}))})))}bs(e,n,s,o){return YE(n)||o.isEqual(Ce.min())?ie.resolve(null):this.ys.getDocuments(e,s).next(u=>{const f=this.vs(n,u);return this.Cs(n,f,s,o)?ie.resolve(null):(so()<=Ue.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ao(n)),this.Fs(e,f,n,wN(o,uu)).next(p=>p))})}vs(e,n){let s=new Lt(vA(e));return n.forEach((o,u)=>{nf(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return so()<=Ue.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",ao(n)),this.ys.getDocumentsMatchingQuery(e,n,as.min(),s)}Fs(e,n,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="LocalStore",rx=3e8;class sx{constructor(e,n,s,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new dt(Pe),this.Os=new ha(u=>Km(u),Qm),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KD(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function ax(i,e,n,s){return new sx(i,e,n,s)}async function HA(i,e){const n=Ne(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ls(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],p=[];let m=je();for(const g of o){f.push(g.batchId);for(const E of g.mutations)m=m.add(E.key)}for(const g of u){p.push(g.batchId);for(const E of g.mutations)m=m.add(E.key)}return n.localDocuments.getDocuments(s,m).next(g=>({ks:g,removedBatchIds:f,addedBatchIds:p}))})})}function ox(i,e){const n=Ne(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(p,m,g,E){const b=g.batch,T=b.keys();let x=ie.resolve();return T.forEach(D=>{x=x.next(()=>E.getEntry(m,D)).next(G=>{const L=g.docVersions.get(D);Qe(L!==null,48541),G.version.compareTo(L)<0&&(b.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),E.addEntry(G)))})}),x.next(()=>p.mutationQueue.removeMutationBatch(m,b))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let m=je();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(m=m.add(p.batch.mutations[g].key));return m}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function FA(i){const e=Ne(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function lx(i,e){const n=Ne(i),s=e.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const p=[];e.targetChanges.forEach((E,b)=>{const T=o.get(b);if(!T)return;p.push(n.Ti.removeMatchingKeys(u,E.removedDocuments,b).next(()=>n.Ti.addMatchingKeys(u,E.addedDocuments,b)));let x=T.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?x=x.withResumeToken(en.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):E.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(E.resumeToken,s)),o=o.insert(b,x),function(G,L,H){return G.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=rx?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(T,x,E)&&p.push(n.Ti.updateTargetData(u,x))});let m=pr(),g=je();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),p.push(ux(u,f,e.documentUpdates).next(E=>{m=E.qs,g=E.Qs})),!s.isEqual(Ce.min())){const E=n.Ti.getLastRemoteSnapshotVersion(u).next(b=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));p.push(E)}return ie.waitFor(p).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(n.xs=o,u))}function ux(i,e,n){let s=je(),o=je();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=pr();return n.forEach((p,m)=>{const g=u.get(p);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(Ce.min())?(e.removeEntry(p,m.readTime),f=f.insert(p,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),f=f.insert(p,m)):fe(ng,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",m.version)}),{qs:f,Qs:o}})}function cx(i,e){const n=Ne(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Fm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function hx(i,e){const n=Ne(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Ti.getTargetData(s,e).next(u=>u?(o=u,ie.resolve(o)):n.Ti.allocateTargetId(s).next(f=>(o=new Wr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(e,s.targetId)),s})}async function hm(i,e,n){const s=Ne(i),o=s.xs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!No(f))throw f;fe(ng,`Failed to update sequence numbers for target ${e}: ${f}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function lT(i,e,n){const s=Ne(i);let o=Ce.min(),u=je();return s.persistence.runTransaction("Execute query","readwrite",f=>function(m,g,E){const b=Ne(m),T=b.Os.get(E);return T!==void 0?ie.resolve(b.xs.get(T)):b.Ti.getTargetData(g,E)}(s,f,Di(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(f,p.targetId).next(m=>{u=m})}).next(()=>s.Ms.getDocumentsMatchingQuery(f,e,n?o:Ce.min(),n?u:je())).next(p=>(fx(s,WN(e),p),{documents:p,$s:u})))}function fx(i,e,n){let s=i.Ns.get(e)||Ce.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Ns.set(e,s)}class uT{constructor(){this.activeTargetIds=iD()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dx{constructor(){this.xo=new uT,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,s){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new uT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="ConnectivityMonitor";class hT{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){fe(cT,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){fe(cT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh=null;function fm(){return rh===null?rh=function(){return 268435456+Math.round(2147483648*Math.random())}():rh++,"0x"+rh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="RestConnection",mx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gx{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===Dh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,n,s,o,u){const f=fm(),p=this.jo(e,n.toUriEncodedString());fe(Vp,`Sending RPC '${e}' ${f}:`,p,s);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,o,u);const{host:g}=new URL(p),E=mr(g);return this.Jo(e,p,m,s,E).then(b=>(fe(Vp,`Received RPC '${e}' ${f}: `,b),b),b=>{throw mo(Vp,`RPC '${e}' ${f} failed with error: `,b,"url: ",p,"request:",s),b})}Yo(e,n,s,o,u,f){return this.zo(e,n,s,o,u)}Ho(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Co}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}jo(e,n){const s=mx[e];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class yx extends gx{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=fm();return new Promise((p,m)=>{const g=new $0;g.setWithCredentials(!0),g.listenOnce(K0.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case dh.NO_ERROR:const b=g.getResponseJson();fe(sn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(b)),p(b);break;case dh.TIMEOUT:fe(sn,`RPC '${e}' ${f} timed out`),m(new pe(re.DEADLINE_EXCEEDED,"Request time out"));break;case dh.HTTP_ERROR:const T=g.getStatus();if(fe(sn,`RPC '${e}' ${f} failed with status:`,T,"response text:",g.getResponseText()),T>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const D=x?.error;if(D&&D.status&&D.message){const G=function(H){const ee=H.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(ee)>=0?ee:re.UNKNOWN}(D.status);m(new pe(G,D.message))}else m(new pe(re.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new pe(re.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{h_:e,streamId:f,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{fe(sn,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);fe(sn,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)})}I_(e,n,s){const o=fm(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=X0(),p=Y0(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const E=u.join("");fe(sn,`Creating RPC '${e}' stream ${o}: ${E}`,m);const b=f.createWebChannel(E,m);this.E_(b);let T=!1,x=!1;const D=new _x({Zo:L=>{x?fe(sn,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(T||(fe(sn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),T=!0),fe(sn,`RPC '${e}' stream ${o} sending:`,L),b.send(L))},Xo:()=>b.close()}),G=(L,H,ee)=>{L.listen(H,Z=>{try{ee(Z)}catch(oe){setTimeout(()=>{throw oe},0)}})};return G(b,Ql.EventType.OPEN,()=>{x||(fe(sn,`RPC '${e}' stream ${o} transport opened.`),D.__())}),G(b,Ql.EventType.CLOSE,()=>{x||(x=!0,fe(sn,`RPC '${e}' stream ${o} transport closed`),D.u_(),this.d_(b))}),G(b,Ql.EventType.ERROR,L=>{x||(x=!0,mo(sn,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),D.u_(new pe(re.UNAVAILABLE,"The operation could not be completed")))}),G(b,Ql.EventType.MESSAGE,L=>{var H;if(!x){const ee=L.data[0];Qe(!!ee,16349);const Z=ee,oe=Z?.error||((H=Z[0])===null||H===void 0?void 0:H.error);if(oe){fe(sn,`RPC '${e}' stream ${o} received error:`,oe);const ce=oe.status;let _e=function(C){const k=Nt[C];if(k!==void 0)return xA(k)}(ce),P=oe.message;_e===void 0&&(_e=re.INTERNAL,P="Unknown error status: "+ce+" with message "+oe.message),x=!0,D.u_(new pe(_e,P)),b.close()}else fe(sn,`RPC '${e}' stream ${o} received:`,ee),D.c_(ee)}}),G(p,Q0.STAT_EVENT,L=>{L.stat===Jp.PROXY?fe(sn,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Jp.NOPROXY&&fe(sn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{D.a_()},0),D}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Lp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(i){return new AD(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,n,s=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=n,this.A_=s,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="PersistentStream";class $A{constructor(e,n,s,o,u,f,p,m){this.xi=e,this.S_=s,this.D_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new GA(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(dr(n.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===n&&this.z_(s,o)},s=>{e(()=>{const o=new pe(re.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(e,n){const s=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return fe(fT,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(fe(fT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vx extends $A{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=wD(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ce.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ce.min():f.readTime?xi(f.readTime):Ce.min()}(e);return this.listener.Y_(n,s)}Z_(e){const n={};n.database=cm(this.serializer),n.addTarget=function(u,f){let p;const m=f.target;if(p=rm(m)?{documents:ID(u,m)}:{query:ND(u,m).gt},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=PA(u,f.resumeToken);const g=om(u,f.expectedCount);g!==null&&(p.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ce.min())>0){p.readTime=Vh(u,f.snapshotVersion.toTimestamp());const g=om(u,f.expectedCount);g!==null&&(p.expectedCount=g)}return p}(this.serializer,e);const s=xD(this.serializer,e);s&&(n.labels=s),this.Q_(n)}X_(e){const n={};n.database=cm(this.serializer),n.removeTarget=e,this.Q_(n)}}class Ex extends $A{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=CD(e.writeResults,e.commitTime),s=xi(e.commitTime);return this.listener.ra(s,n)}ia(){const e={};e.database=cm(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>RD(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{}class Ax extends Tx{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new pe(re.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.zo(e,lm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(re.UNKNOWN,u.toString())})}Yo(e,n,s,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,p])=>this.connection.Yo(e,lm(n,s),o,f,p,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new pe(re.UNKNOWN,f.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class bx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(dr(n),this.ua=!1):fe("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="RemoteStore";class Sx{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(f=>{s.enqueueAndForget(async()=>{fa(this)&&(fe(sa,"Restarting streams for network reachability change."),await async function(m){const g=Ne(m);g.da.add(4),await Ru(g),g.Va.set("Unknown"),g.da.delete(4),await lf(g)}(this))})}),this.Va=new bx(s,o)}}async function lf(i){if(fa(i))for(const e of i.Aa)await e(!0)}async function Ru(i){for(const e of i.Aa)await e(!1)}function KA(i,e){const n=Ne(i);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),ag(n)?sg(n):Do(n).N_()&&rg(n,e))}function ig(i,e){const n=Ne(i),s=Do(n);n.Ea.delete(e),s.N_()&&QA(n,e),n.Ea.size===0&&(s.N_()?s.k_():fa(n)&&n.Va.set("Unknown"))}function rg(i,e){if(i.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Do(i).Z_(e)}function QA(i,e){i.ma.Ke(e),Do(i).X_(e)}function sg(i){i.ma=new yD({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i.Ea.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),Do(i).start(),i.Va.ca()}function ag(i){return fa(i)&&!Do(i).O_()&&i.Ea.size>0}function fa(i){return Ne(i).da.size===0}function YA(i){i.ma=void 0}async function wx(i){i.Va.set("Online")}async function Rx(i){i.Ea.forEach((e,n)=>{rg(i,e)})}async function Cx(i,e){YA(i),ag(i)?(i.Va.Pa(e),sg(i)):i.Va.set("Unknown")}async function Ix(i,e,n){if(i.Va.set("Online"),e instanceof kA&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ea.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ea.delete(p),o.ma.removeTarget(p))}(i,e)}catch(s){fe(sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Uh(i,s)}else if(e instanceof _h?i.ma.Xe(e):e instanceof OA?i.ma.ot(e):i.ma.nt(e),!n.isEqual(Ce.min()))try{const s=await FA(i.localStore);n.compareTo(s)>=0&&await function(u,f){const p=u.ma.It(f);return p.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const E=u.Ea.get(g);E&&u.Ea.set(g,E.withResumeToken(m.resumeToken,f))}}),p.targetMismatches.forEach((m,g)=>{const E=u.Ea.get(m);if(!E)return;u.Ea.set(m,E.withResumeToken(en.EMPTY_BYTE_STRING,E.snapshotVersion)),QA(u,m);const b=new Wr(E.target,m,g,E.sequenceNumber);rg(u,b)}),u.remoteSyncer.applyRemoteEvent(p)}(i,n)}catch(s){fe(sa,"Failed to raise snapshot:",s),await Uh(i,s)}}async function Uh(i,e,n){if(!No(e))throw e;i.da.add(1),await Ru(i),i.Va.set("Offline"),n||(n=()=>FA(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{fe(sa,"Retrying IndexedDB access"),await n(),i.da.delete(1),await lf(i)})}function XA(i,e){return e().catch(n=>Uh(i,n,e))}async function uf(i){const e=Ne(i),n=cs(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Fm;for(;Nx(e);)try{const o=await cx(e.localStore,s);if(o===null){e.Ia.length===0&&n.k_();break}s=o.batchId,Dx(e,o)}catch(o){await Uh(e,o)}WA(e)&&ZA(e)}function Nx(i){return fa(i)&&i.Ia.length<10}function Dx(i,e){i.Ia.push(e);const n=cs(i);n.N_()&&n.ea&&n.ta(e.mutations)}function WA(i){return fa(i)&&!cs(i).O_()&&i.Ia.length>0}function ZA(i){cs(i).start()}async function xx(i){cs(i).ia()}async function Ox(i){const e=cs(i);for(const n of i.Ia)e.ta(n.mutations)}async function kx(i,e,n){const s=i.Ia.shift(),o=Xm.from(s,e,n);await XA(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await uf(i)}async function Px(i,e){e&&cs(i).ea&&await async function(s,o){if(function(f){return gD(f)&&f!==re.ABORTED}(o.code)){const u=s.Ia.shift();cs(s).L_(),await XA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await uf(s)}}(i,e),WA(i)&&ZA(i)}async function dT(i,e){const n=Ne(i);n.asyncQueue.verifyOperationInProgress(),fe(sa,"RemoteStore received new credentials");const s=fa(n);n.da.add(3),await Ru(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await lf(n)}async function Mx(i,e){const n=Ne(i);e?(n.da.delete(2),await lf(n)):e||(n.da.add(2),await Ru(n),n.Va.set("Unknown"))}function Do(i){return i.fa||(i.fa=function(n,s,o){const u=Ne(n);return u.oa(),new vx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:wx.bind(null,i),n_:Rx.bind(null,i),i_:Cx.bind(null,i),Y_:Ix.bind(null,i)}),i.Aa.push(async e=>{e?(i.fa.L_(),ag(i)?sg(i):i.Va.set("Unknown")):(await i.fa.stop(),YA(i))})),i.fa}function cs(i){return i.ga||(i.ga=function(n,s,o){const u=Ne(n);return u.oa(),new Ex(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:xx.bind(null,i),i_:Px.bind(null,i),na:Ox.bind(null,i),ra:kx.bind(null,i)}),i.Aa.push(async e=>{e?(i.ga.L_(),await uf(i)):(await i.ga.stop(),i.Ia.length>0&&(fe(sa,`Stopping write stream with ${i.Ia.length} pending writes`),i.Ia=[]))})),i.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,p=new og(e,n,f,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lg(i,e){if(dr("AsyncQueue",`${e}: ${i}`),No(i))return new pe(re.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{static emptySet(e){return new po(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ee.comparator(n.key,s.key):(n,s)=>Ee.comparator(n.key,s.key),this.keyedMap=Yl(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof po)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new po;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(){this.pa=new dt(Ee.comparator)}track(e){const n=e.doc.key,s=this.pa.get(n);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(n,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(n):e.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Se(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,s)=>{e.push(s)}),e}}class To{constructor(e,n,s,o,u,f,p,m,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(p=>{f.push({type:0,doc:p})}),new To(e,n,po.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class Lx{constructor(){this.queries=mT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ne(n),u=o.queries;o.queries=mT(),u.forEach((f,p)=>{for(const m of p.Sa)m.onError(s)})})(this,new pe(re.ABORTED,"Firestore shutting down"))}}function mT(){return new ha(i=>yA(i),tf)}async function JA(i,e){const n=Ne(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Da()&&e.va()&&(s=2):(u=new Vx,s=e.va()?0:1);try{switch(s){case 0:u.ba=await n.onListen(o,!0);break;case 1:u.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=lg(f,`Initialization of query '${ao(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.Sa.push(e),e.Fa(n.onlineState),u.ba&&e.Ma(u.ba)&&ug(n)}async function eb(i,e){const n=Ne(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.va()?0:1:!u.Da()&&e.va()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Ux(i,e){const n=Ne(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.Sa)p.Ma(o)&&(s=!0);f.ba=o}}s&&ug(n)}function jx(i,e,n){const s=Ne(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function ug(i){i.Ca.forEach(e=>{e.next()})}var dm,gT;(gT=dm||(dm={})).xa="default",gT.Cache="cache";class tb{constructor(e,n,s){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new To(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=To.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==dm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e){this.key=e}}class ib{constructor(e){this.key=e}}class Bx{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=je(),this.mutatedKeys=je(),this.Za=vA(e),this.Xa=new po(this.Za)}get eu(){return this.Ha}tu(e,n){const s=n?n.nu:new pT,o=n?n.Xa:this.Xa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,b)=>{const T=o.get(E),x=nf(this.query,b)?b:null,D=!!T&&this.mutatedKeys.has(T.key),G=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let L=!1;T&&x?T.data.isEqual(x.data)?D!==G&&(s.track({type:3,doc:x}),L=!0):this.ru(T,x)||(s.track({type:2,doc:x}),L=!0,(m&&this.Za(x,m)>0||g&&this.Za(x,g)<0)&&(p=!0)):!T&&x?(s.track({type:0,doc:x}),L=!0):T&&!x&&(s.track({type:1,doc:T}),L=!0,(m||g)&&(p=!0)),L&&(x?(f=f.add(x),u=G?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Xa:f,nu:s,Cs:p,mutatedKeys:u}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const f=e.nu.wa();f.sort((E,b)=>function(x,D){const G=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Vt:L})}};return G(x)-G(D)}(E.type,b.type)||this.Za(E.doc,b.doc)),this.iu(s),o=o!=null&&o;const p=n&&!o?this.su():[],m=this.Ya.size===0&&this.current&&!o?1:0,g=m!==this.Ja;return this.Ja=m,f.length!==0||g?{snapshot:new To(this.query,e.Xa,u,f,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:p}:{ou:p}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new pT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=je(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return e.forEach(s=>{this.Ya.has(s)||n.push(new ib(s))}),this.Ya.forEach(s=>{e.has(s)||n.push(new nb(s))}),n}au(e){this.Ha=e.$s,this.Ya=je();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return To.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const cg="SyncEngine";class zx{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class qx{constructor(e){this.key=e,this.cu=!1}}class Hx{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.lu={},this.hu=new ha(p=>yA(p),tf),this.Pu=new Map,this.Tu=new Set,this.Iu=new dt(Ee.comparator),this.Eu=new Map,this.du=new Jm,this.Au={},this.Ru=new Map,this.Vu=Eo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function Fx(i,e,n=!0){const s=ub(i);let o;const u=s.hu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await rb(s,e,n,!0),o}async function Gx(i,e){const n=ub(i);await rb(n,e,!0,!1)}async function rb(i,e,n,s){const o=await hx(i.localStore,Di(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await $x(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&KA(i.remoteStore,o),p}async function $x(i,e,n,s,o){i.fu=(b,T,x)=>async function(G,L,H,ee){let Z=L.view.tu(H);Z.Cs&&(Z=await lT(G.localStore,L.query,!1).then(({documents:P})=>L.view.tu(P,Z)));const oe=ee&&ee.targetChanges.get(L.targetId),ce=ee&&ee.targetMismatches.get(L.targetId)!=null,_e=L.view.applyChanges(Z,G.isPrimaryClient,oe,ce);return yT(G,L.targetId,_e.ou),_e.snapshot}(i,b,T,x);const u=await lT(i.localStore,e,!0),f=new Bx(e,u.$s),p=f.tu(u.documents),m=wu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(p,i.isPrimaryClient,m);yT(i,n,g.ou);const E=new zx(e,n,f);return i.hu.set(e,E),i.Pu.has(n)?i.Pu.get(n).push(e):i.Pu.set(n,[e]),g.snapshot}async function Kx(i,e,n){const s=Ne(i),o=s.hu.get(e),u=s.Pu.get(o.targetId);if(u.length>1)return s.Pu.set(o.targetId,u.filter(f=>!tf(f,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await hm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&ig(s.remoteStore,o.targetId),pm(s,o.targetId)}).catch(Io)):(pm(s,o.targetId),await hm(s.localStore,o.targetId,!0))}async function Qx(i,e){const n=Ne(i),s=n.hu.get(e),o=n.Pu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ig(n.remoteStore,s.targetId))}async function Yx(i,e,n){const s=nO(i);try{const o=await function(f,p){const m=Ne(f),g=Vt.now(),E=p.reduce((x,D)=>x.add(D.key),je());let b,T;return m.persistence.runTransaction("Locally write mutations","readwrite",x=>{let D=pr(),G=je();return m.Bs.getEntries(x,E).next(L=>{D=L,D.forEach((H,ee)=>{ee.isValidDocument()||(G=G.add(H))})}).next(()=>m.localDocuments.getOverlayedDocuments(x,D)).next(L=>{b=L;const H=[];for(const ee of p){const Z=hD(ee,b.get(ee.key).overlayedDocument);Z!=null&&H.push(new gs(ee.key,Z,cA(Z.value.mapValue),ei.exists(!0)))}return m.mutationQueue.addMutationBatch(x,g,H,p)}).next(L=>{T=L;const H=L.applyToLocalDocumentSet(b,G);return m.documentOverlayCache.saveOverlays(x,L.batchId,H)})}).then(()=>({batchId:T.batchId,changes:TA(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,p,m){let g=f.Au[f.currentUser.toKey()];g||(g=new dt(Pe)),g=g.insert(p,m),f.Au[f.currentUser.toKey()]=g}(s,o.batchId,n),await Cu(s,o.changes),await uf(s.remoteStore)}catch(o){const u=lg(o,"Failed to persist write");n.reject(u)}}async function sb(i,e){const n=Ne(i);try{const s=await lx(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Eu.get(u);f&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.cu=!0:o.modifiedDocuments.size>0?Qe(f.cu,14607):o.removedDocuments.size>0&&(Qe(f.cu,42227),f.cu=!1))}),await Cu(n,s,e)}catch(s){await Io(s)}}function _T(i,e,n){const s=Ne(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.hu.forEach((u,f)=>{const p=f.view.Fa(e);p.snapshot&&o.push(p.snapshot)}),function(f,p){const m=Ne(f);m.onlineState=p;let g=!1;m.queries.forEach((E,b)=>{for(const T of b.Sa)T.Fa(p)&&(g=!0)}),g&&ug(m)}(s.eventManager,e),o.length&&s.lu.Y_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Xx(i,e,n){const s=Ne(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Eu.get(e),u=o&&o.key;if(u){let f=new dt(Ee.comparator);f=f.insert(u,on.newNoDocument(u,Ce.min()));const p=je().add(u),m=new af(Ce.min(),new Map,new dt(Pe),f,p);await sb(s,m),s.Iu=s.Iu.remove(u),s.Eu.delete(e),hg(s)}else await hm(s.localStore,e,!1).then(()=>pm(s,e,n)).catch(Io)}async function Wx(i,e){const n=Ne(i),s=e.batch.batchId;try{const o=await ox(n.localStore,e);ob(n,s,null),ab(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Cu(n,o)}catch(o){await Io(o)}}async function Zx(i,e,n){const s=Ne(i);try{const o=await function(f,p){const m=Ne(f);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return m.mutationQueue.lookupMutationBatch(g,p).next(b=>(Qe(b!==null,37113),E=b.keys(),m.mutationQueue.removeMutationBatch(g,b))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,E,p)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>m.localDocuments.getDocuments(g,E))})}(s.localStore,e);ob(s,e,n),ab(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Cu(s,o)}catch(o){await Io(o)}}function ab(i,e){(i.Ru.get(e)||[]).forEach(n=>{n.resolve()}),i.Ru.delete(e)}function ob(i,e,n){const s=Ne(i);let o=s.Au[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Au[s.currentUser.toKey()]=o}}function pm(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Pu.get(e))i.hu.delete(s),n&&i.lu.gu(s,n);i.Pu.delete(e),i.isPrimaryClient&&i.du.Hr(e).forEach(s=>{i.du.containsKey(s)||lb(i,s)})}function lb(i,e){i.Tu.delete(e.path.canonicalString());const n=i.Iu.get(e);n!==null&&(ig(i.remoteStore,n),i.Iu=i.Iu.remove(e),i.Eu.delete(n),hg(i))}function yT(i,e,n){for(const s of n)s instanceof nb?(i.du.addReference(s.key,e),Jx(i,s)):s instanceof ib?(fe(cg,"Document no longer in limbo: "+s.key),i.du.removeReference(s.key,e),i.du.containsKey(s.key)||lb(i,s.key)):Se(19791,{pu:s})}function Jx(i,e){const n=e.key,s=n.path.canonicalString();i.Iu.get(n)||i.Tu.has(s)||(fe(cg,"New document in limbo: "+n),i.Tu.add(s),hg(i))}function hg(i){for(;i.Tu.size>0&&i.Iu.size<i.maxConcurrentLimboResolutions;){const e=i.Tu.values().next().value;i.Tu.delete(e);const n=new Ee(ot.fromString(e)),s=i.Vu.next();i.Eu.set(s,new qx(n)),i.Iu=i.Iu.insert(n,s),KA(i.remoteStore,new Wr(Di(ef(n.path)),s,"TargetPurposeLimboResolution",Wh.le))}}async function Cu(i,e,n){const s=Ne(i),o=[],u=[],f=[];s.hu.isEmpty()||(s.hu.forEach((p,m)=>{f.push(s.fu(m,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const b=g?!g.fromCache:(E=n?.targetChanges.get(m.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(m.targetId,b?"current":"not-current")}if(g){o.push(g);const b=tg.Rs(m.targetId,g);u.push(b)}}))}),await Promise.all(f),s.lu.Y_(o),await async function(m,g){const E=Ne(m);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>ie.forEach(g,T=>ie.forEach(T.ds,x=>E.persistence.referenceDelegate.addReference(b,T.targetId,x)).next(()=>ie.forEach(T.As,x=>E.persistence.referenceDelegate.removeReference(b,T.targetId,x)))))}catch(b){if(!No(b))throw b;fe(ng,"Failed to update sequence numbers: "+b)}for(const b of g){const T=b.targetId;if(!b.fromCache){const x=E.xs.get(T),D=x.snapshotVersion,G=x.withLastLimboFreeSnapshotVersion(D);E.xs=E.xs.insert(T,G)}}}(s.localStore,u))}async function eO(i,e){const n=Ne(i);if(!n.currentUser.isEqual(e)){fe(cg,"User change. New user:",e.toKey());const s=await HA(n.localStore,e);n.currentUser=e,function(u,f){u.Ru.forEach(p=>{p.forEach(m=>{m.reject(new pe(re.CANCELLED,f))})}),u.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Cu(n,s.ks)}}function tO(i,e){const n=Ne(i),s=n.Eu.get(e);if(s&&s.cu)return je().add(s.key);{let o=je();const u=n.Pu.get(e);if(!u)return o;for(const f of u){const p=n.hu.get(f);o=o.unionWith(p.view.eu)}return o}}function ub(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=sb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xx.bind(null,e),e.lu.Y_=Ux.bind(null,e.eventManager),e.lu.gu=jx.bind(null,e.eventManager),e}function nO(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Wx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Zx.bind(null,e),e}class jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=of(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return ax(this.persistence,new ix,e.initialUser,this.serializer)}Su(e){return new qA(eg.fi,this.serializer)}bu(e){return new dx}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jh.provider={build:()=>new jh};class iO extends jh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Qe(this.persistence.referenceDelegate instanceof Lh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new qD(s,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new qA(s=>Lh.fi(s,n),this.serializer)}}class mm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>_T(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=eO.bind(null,this.syncEngine),await Mx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Lx}()}createDatastore(e){const n=of(e.databaseInfo.databaseId),s=function(u){return new yx(u)}(e.databaseInfo);return function(u,f,p,m){return new Ax(u,f,p,m)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,p){return new Sx(s,o,u,f,p)}(this.localStore,this.datastore,e.asyncQueue,n=>_T(this.syncEngine,n,0),function(){return hT.C()?new hT:new px}())}createSyncEngine(e,n){return function(o,u,f,p,m,g,E){const b=new Hx(o,u,f,p,m,g);return E&&(b.mu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ne(o);fe(sa,"RemoteStore shutting down."),u.da.add(5),await Ru(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}mm.provider={build:()=>new mm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="FirestoreClient";class rO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=an.UNAUTHENTICATED,this.clientId=eA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{fe(hs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(fe(hs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=lg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Up(i,e){i.asyncQueue.verifyOperationInProgress(),fe(hs,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await HA(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function vT(i,e){i.asyncQueue.verifyOperationInProgress();const n=await sO(i);fe(hs,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>dT(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>dT(e.remoteStore,o)),i._onlineComponents=e}async function sO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){fe(hs,"Using user provided OfflineComponentProvider");try{await Up(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;mo("Error using user provided cache. Falling back to memory cache: "+n),await Up(i,new jh)}}else fe(hs,"Using default OfflineComponentProvider"),await Up(i,new iO(void 0));return i._offlineComponents}async function hb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(fe(hs,"Using user provided OnlineComponentProvider"),await vT(i,i._uninitializedComponentsProvider._online)):(fe(hs,"Using default OnlineComponentProvider"),await vT(i,new mm))),i._onlineComponents}function aO(i){return hb(i).then(e=>e.syncEngine)}async function gm(i){const e=await hb(i),n=e.eventManager;return n.onListen=Fx.bind(null,e.syncEngine),n.onUnlisten=Kx.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Gx.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Qx.bind(null,e.syncEngine),n}function oO(i,e,n={}){const s=new ns;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,p,m,g){const E=new cb({next:T=>{E.xu(),f.enqueueAndForget(()=>eb(u,b));const x=T.docs.has(p);!x&&T.fromCache?g.reject(new pe(re.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&T.fromCache&&m&&m.source==="server"?g.reject(new pe(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),b=new tb(ef(p.path),E,{includeMetadataChanges:!0,Qa:!0});return JA(u,b)}(await gm(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(i,e,n){if(!n)throw new pe(re.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function lO(i,e,n,s){if(e===!0&&s===!0)throw new pe(re.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function TT(i){if(!Ee.isDocumentKey(i))throw new pe(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function AT(i){if(Ee.isDocumentKey(i))throw new pe(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function cf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se(12329,{type:typeof i})}function ti(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new pe(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cf(i);throw new pe(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="firestore.googleapis.com",bT=!0;class ST{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pb,this.ssl=bT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:bT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<BD)throw new pe(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new pe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new pe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new pe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ST({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ST(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new gN;switch(s.type){case"firstParty":return new EN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pe(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=ET.get(n);s&&(fe("ComponentProvider","Removing Datastore"),ET.delete(n),s.terminate())}(this),Promise.resolve()}}function uO(i,e,n,s={}){var o;i=ti(i,hf);const u=mr(e),f=i._getSettings(),p=Object.assign(Object.assign({},f),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${n}`;u&&(Gh(`https://${m}`),$h("Firestore",!0)),f.host!==pb&&f.host!==m&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:m,ssl:u,emulatorOptions:s});if(!rs(g,p)&&(i._setSettings(g),s.mockUserToken)){let E,b;if(typeof s.mockUserToken=="string")E=s.mockUserToken,b=an.MOCK_USER;else{E=s0(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new pe(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new an(T)}i._authCredentials=new _N(new Z0(E,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new xo(this.firestore,e,this._query)}}class ln{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}}class is extends xo{constructor(e,n,s){super(e,n,ef(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new Ee(e))}withConverter(e){return new is(this.firestore,e,this._path)}}function Bh(i,e,...n){if(i=lt(i),db("collection","path",e),i instanceof hf){const s=ot.fromString(e,...n);return AT(s),new is(i,null,s)}{if(!(i instanceof ln||i instanceof is))throw new pe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ot.fromString(e,...n));return AT(s),new is(i.firestore,null,s)}}function ea(i,e,...n){if(i=lt(i),arguments.length===1&&(e=eA.newId()),db("doc","path",e),i instanceof hf){const s=ot.fromString(e,...n);return TT(s),new ln(i,null,new Ee(s))}{if(!(i instanceof ln||i instanceof is))throw new pe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ot.fromString(e,...n));return TT(s),new ln(i.firestore,i instanceof is?i.converter:null,new Ee(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="AsyncQueue";class RT{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new GA(this,"async_queue_retry"),this.rc=()=>{const s=Lp();s&&fe(wT,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const n=Lp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Lp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new ns;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!No(e))throw e;fe(wT,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,dr("INTERNAL UNHANDLED ERROR: ",CT(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(e,n,s){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const o=og.createAndSchedule(this,e,n,s,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&Se(47125,{cc:CT(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function CT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class aa extends hf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new RT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new RT(e),this._firestoreClient=void 0,await e}}}function cO(i,e){const n=typeof i=="object"?i:Kh(),s=typeof i=="string"?i:Dh,o=yu(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=xm("firestore");u&&uO(o,...u)}return o}function fg(i){if(i._terminated)throw new pe(re.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||hO(i),i._firestoreClient}function hO(i){var e,n,s;const o=i._freezeSettings(),u=function(p,m,g,E){return new MN(p,m,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,fb(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new rO(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(p){const m=p?._online.build();return{_offline:p?._offline.build(m),_online:m}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ao(en.fromBase64String(e))}catch(n){throw new pe(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ao(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=/^__.*__$/;class dO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new gs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Su(e,this.data,n,this.fieldTransforms)}}class mb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new gs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function gb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ic:i})}}class pf{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new pf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:s,Rc:!1});return o.Vc(e),o}mc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:s,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return zh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(gb(this.Ic)&&fO.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class pO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||of(e)}bc(e,n,s,o=!1){return new pf({Ic:e,methodName:n,wc:s,path:Jt.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mf(i){const e=i._freezeSettings(),n=of(i._databaseId);return new pO(i._databaseId,!!e.ignoreUndefinedProperties,n)}function _b(i,e,n,s,o,u={}){const f=i.bc(u.merge||u.mergeFields?2:0,e,n,o);gg("Data must be an object, but it was:",f,s);const p=yb(s,f);let m,g;if(u.merge)m=new Dn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const T=_m(e,b,n);if(!f.contains(T))throw new pe(re.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Eb(E,T)||E.push(T)}m=new Dn(E),g=f.fieldTransforms.filter(b=>m.covers(b.field))}else m=null,g=f.fieldTransforms;return new dO(new En(p),m,g)}class gf extends df{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gf}}function mO(i,e,n){return new pf({Ic:3,wc:e.settings.wc,methodName:i._methodName,Rc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class mg extends df{constructor(e,n){super(e),this.Sc=n}_toFieldTransform(e){const n=mO(this,e,!0),s=this.Sc.map(u=>Oo(u,n)),o=new vo(s);return new oD(e.path,o)}isEqual(e){return e instanceof mg&&rs(this.Sc,e.Sc)}}function gO(i,e,n,s){const o=i.bc(1,e,n);gg("Data must be an object, but it was:",o,s);const u=[],f=En.empty();ms(s,(m,g)=>{const E=_g(e,m,n);g=lt(g);const b=o.mc(E);if(g instanceof gf)u.push(E);else{const T=Oo(g,b);T!=null&&(u.push(E),f.set(E,T))}});const p=new Dn(u);return new mb(f,p,o.fieldTransforms)}function _O(i,e,n,s,o,u){const f=i.bc(1,e,n),p=[_m(e,s,n)],m=[o];if(u.length%2!=0)throw new pe(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<u.length;T+=2)p.push(_m(e,u[T])),m.push(u[T+1]);const g=[],E=En.empty();for(let T=p.length-1;T>=0;--T)if(!Eb(g,p[T])){const x=p[T];let D=m[T];D=lt(D);const G=f.mc(x);if(D instanceof gf)g.push(x);else{const L=Oo(D,G);L!=null&&(g.push(x),E.set(x,L))}}const b=new Dn(g);return new mb(E,b,f.fieldTransforms)}function yO(i,e,n,s=!1){return Oo(n,i.bc(s?4:3,e))}function Oo(i,e){if(vb(i=lt(i)))return gg("Unsupported field value:",e,i),yb(i,e);if(i instanceof df)return function(s,o){if(!gb(o.Ic))throw o.gc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const p of s){let m=Oo(p,o.fc(f));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=lt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return rD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Vt.fromDate(s);return{timestampValue:Vh(o.serializer,u)}}if(s instanceof Vt){const u=new Vt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Vh(o.serializer,u)}}if(s instanceof dg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ao)return{bytesValue:PA(o.serializer,s._byteString)};if(s instanceof ln){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.gc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Zm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof pg)return function(f,p){return{mapValue:{fields:{[lA]:{stringValue:uA},[xh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw p.gc("VectorValues must only contain numeric values.");return Ym(p.serializer,g)})}}}}}}(s,o);throw o.gc(`Unsupported field value: ${cf(s)}`)}(i,e)}function yb(i,e){const n={};return nA(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ms(i,(s,o)=>{const u=Oo(o,e.Ac(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function vb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Vt||i instanceof dg||i instanceof Ao||i instanceof ln||i instanceof df||i instanceof pg)}function gg(i,e,n){if(!vb(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=cf(n);throw s==="an object"?e.gc(i+" a custom object"):e.gc(i+" "+s)}}function _m(i,e,n){if((e=lt(e))instanceof ff)return e._internalPath;if(typeof e=="string")return _g(i,e);throw zh("Field path arguments must be of type string or ",i,!1,void 0,n)}const vO=new RegExp("[~\\*/\\[\\]]");function _g(i,e,n){if(e.search(vO)>=0)throw zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new ff(...e.split("."))._internalPath}catch{throw zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function zh(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(u||f)&&(m+=" (found",u&&(m+=` in field ${s}`),f&&(m+=` in document ${o}`),m+=")"),new pe(re.INVALID_ARGUMENT,p+i+m)}function Eb(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new EO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class EO extends Tb{data(){return super.data()}}function yg(i,e){return typeof e=="string"?_g(i,e):e instanceof ff?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new pe(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vg{}class AO extends vg{}function ym(i,e,...n){let s=[];e instanceof vg&&s.push(e),s=s.concat(n),function(u){const f=u.filter(m=>m instanceof Eg).length,p=u.filter(m=>m instanceof _f).length;if(f>1||f>0&&p>0)throw new pe(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class _f extends AO{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new _f(e,n,s)}_apply(e){const n=this._parse(e);return Ab(e._query,n),new xo(e.firestore,e.converter,sm(e._query,n))}_parse(e){const n=mf(e.firestore);return function(u,f,p,m,g,E,b){let T;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new pe(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){DT(b,E);const D=[];for(const G of b)D.push(NT(m,u,G));T={arrayValue:{values:D}}}else T=NT(m,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||DT(b,E),T=yO(p,f,b,E==="in"||E==="not-in");return Dt.create(g,E,T)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function vm(i,e,n){const s=e,o=yg("where",i);return _f._create(o,s,n)}class Eg extends vg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Eg(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:ri.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const p=u.getFlattenedFilters();for(const m of p)Ab(f,m),f=sm(f,m)}(e._query,n),new xo(e.firestore,e.converter,sm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function NT(i,e,n){if(typeof(n=lt(n))=="string"){if(n==="")throw new pe(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_A(e)&&n.indexOf("/")!==-1)throw new pe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ot.fromString(n));if(!Ee.isDocumentKey(s))throw new pe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return HE(i,new Ee(s))}if(n instanceof ln)return HE(i,n._key);throw new pe(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cf(n)}.`)}function DT(i,e){if(!Array.isArray(i)||i.length===0)throw new pe(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ab(i,e){const n=function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new pe(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class bO{convertValue(e,n="none"){switch(us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ms(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[xh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>St(f.doubleValue));return new pg(u)}convertGeoPoint(e){return new dg(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Jh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(cu(e));default:return null}}convertTimestamp(e){const n=os(e);return new Vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ot.fromString(e);Qe(BA(s),9688,{name:e});const o=new hu(s.get(1),s.get(3)),u=new Ee(s.popFirst(5));return o.isEqual(n)||dr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sb extends Tb{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(yg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class yh extends Sb{data(e={}){return super.data(e)}}class SO{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Wl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new yh(this._firestore,this._userDataWriter,s.key,s,new Wl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(p=>{const m=new yh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Wl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||p.type!==3).map(p=>{const m=new yh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Wl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return p.type!==0&&(g=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),E=f.indexOf(p.doc.key)),{type:wO(p.type),doc:m,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function wO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(i){i=ti(i,ln);const e=ti(i.firestore,aa);return oO(fg(e),i._key).then(n=>Cb(e,i,n))}class Rb extends bO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ao(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,n)}}function RO(i,e,n){i=ti(i,ln);const s=ti(i.firestore,aa),o=bb(i.converter,e);return Tg(s,[_b(mf(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,ei.none())])}function vh(i,e,n,...s){i=ti(i,ln);const o=ti(i.firestore,aa),u=mf(o);let f;return f=typeof(e=lt(e))=="string"||e instanceof ff?_O(u,"updateDoc",i._key,e,n,s):gO(u,"updateDoc",i._key,e),Tg(o,[f.toMutation(i._key,ei.exists(!0))])}function CO(i,e){const n=ti(i.firestore,aa),s=ea(i),o=bb(i.converter,e);return Tg(n,[_b(mf(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,ei.exists(!1))]).then(()=>s)}function Em(i,...e){var n,s,o;i=lt(i);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||IT(e[f])||(u=e[f],f++);const p={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(IT(e[f])){const b=e[f];e[f]=(n=b.next)===null||n===void 0?void 0:n.bind(b),e[f+1]=(s=b.error)===null||s===void 0?void 0:s.bind(b),e[f+2]=(o=b.complete)===null||o===void 0?void 0:o.bind(b)}let m,g,E;if(i instanceof ln)g=ti(i.firestore,aa),E=ef(i._key.path),m={next:b=>{e[f]&&e[f](Cb(g,i,b))},error:e[f+1],complete:e[f+2]};else{const b=ti(i,xo);g=ti(b.firestore,aa),E=b._query;const T=new Rb(g);m={next:x=>{e[f]&&e[f](new SO(g,T,b,x))},error:e[f+1],complete:e[f+2]},TO(i._query)}return function(T,x,D,G){const L=new cb(G),H=new tb(x,L,D);return T.asyncQueue.enqueueAndForget(async()=>JA(await gm(T),H)),()=>{L.xu(),T.asyncQueue.enqueueAndForget(async()=>eb(await gm(T),H))}}(fg(g),E,p,m)}function Tg(i,e){return function(s,o){const u=new ns;return s.asyncQueue.enqueueAndForget(async()=>Yx(await aO(s),o,u)),u.promise}(fg(i),e)}function Cb(i,e,n){const s=n.docs.get(e._key),o=new Rb(i);return new Sb(i,o,e._key,s,new Wl(n.hasPendingWrites,n.fromCache),e.converter)}function Ib(...i){return new mg("arrayUnion",i)}(function(e,n=!0){(function(o){Co=o})(ua),ss(new cr("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new aa(new yN(s.getProvider("auth-internal")),new TN(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new pe(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hu(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),Gn(xE,OE,e),Gn(xE,OE,"esm2017")})();var IO="firebase",NO="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn(IO,NO,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="firebasestorage.googleapis.com",Db="storageBucket",DO=2*60*1e3,xO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et extends ki{constructor(e,n,s=0){super(jp(e),`Firebase Storage: ${n} (${jp(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Et.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return jp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vt||(vt={}));function jp(i){return"storage/"+i}function Ag(){const i="An unknown error occurred, please check the error payload for server response.";return new Et(vt.UNKNOWN,i)}function OO(i){return new Et(vt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function kO(i){return new Et(vt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function PO(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Et(vt.UNAUTHENTICATED,i)}function MO(){return new Et(vt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function VO(i){return new Et(vt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function LO(){return new Et(vt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function UO(){return new Et(vt.CANCELED,"User canceled the upload/download.")}function jO(i){return new Et(vt.INVALID_URL,"Invalid URL '"+i+"'.")}function BO(i){return new Et(vt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function zO(){return new Et(vt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Db+"' property when initializing the app?")}function qO(){return new Et(vt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function HO(){return new Et(vt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function FO(i){return new Et(vt.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Tm(i){return new Et(vt.INVALID_ARGUMENT,i)}function xb(){return new Et(vt.APP_DELETED,"The Firebase app was deleted.")}function GO(i){return new Et(vt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ru(i,e){return new Et(vt.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Gl(i){throw new Et(vt.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=xn.makeFromUrl(e,n)}catch{return new xn(e,"")}if(s.path==="")return s;throw BO(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}const f="(/(.*))?$",p=new RegExp("^gs://"+o+f,"i"),m={bucket:1,path:3};function g(oe){oe.path_=decodeURIComponent(oe.path)}const E="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",x=new RegExp(`^https?://${b}/${E}/b/${o}/o${T}`,"i"),D={bucket:1,path:3},G=n===Nb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,L="([^?#]*)",H=new RegExp(`^https?://${G}/${o}/${L}`,"i"),Z=[{regex:p,indices:m,postModify:u},{regex:x,indices:D,postModify:g},{regex:H,indices:{bucket:1,path:2},postModify:g}];for(let oe=0;oe<Z.length;oe++){const ce=Z[oe],_e=ce.regex.exec(e);if(_e){const P=_e[ce.indices.bucket];let R=_e[ce.indices.path];R||(R=""),s=new xn(P,R),ce.postModify(s);break}}if(s==null)throw jO(e);return s}}class $O{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(i,e,n){let s=1,o=null,u=null,f=!1,p=0;function m(){return p===2}let g=!1;function E(...L){g||(g=!0,e.apply(null,L))}function b(L){o=setTimeout(()=>{o=null,i(x,m())},L)}function T(){u&&clearTimeout(u)}function x(L,...H){if(g){T();return}if(L){T(),E.call(null,L,...H);return}if(m()||f){T(),E.call(null,L,...H);return}s<64&&(s*=2);let Z;p===1?(p=2,Z=0):Z=(s+Math.random())*1e3,b(Z)}let D=!1;function G(L){D||(D=!0,T(),!g&&(o!==null?(L||(p=2),clearTimeout(o),b(0)):L||(p=1)))}return b(0),u=setTimeout(()=>{f=!0,G(!0)},n),G}function QO(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(i){return i!==void 0}function XO(i){return typeof i=="object"&&!Array.isArray(i)}function bg(i){return typeof i=="string"||i instanceof String}function xT(i){return Sg()&&i instanceof Blob}function Sg(){return typeof Blob<"u"}function OT(i,e,n,s){if(s<e)throw Tm(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw Tm(`Invalid value for '${i}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(i,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${i}`}function Ob(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var ta;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(ta||(ta={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,n,s,o,u,f,p,m,g,E,b,T=!0,x=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=p,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=b,this.retry=T,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,G)=>{this.resolve_=D,this.reject_=G,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new sh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=p=>{const m=p.loaded,g=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const p=u.getErrorCode()===ta.NO_ERROR,m=u.getStatus();if(!p||WO(m,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===ta.ABORT;s(!1,new sh(!1,null,E));return}const g=this.successCodes_.indexOf(m)!==-1;s(!0,new sh(g,u))})},n=(s,o)=>{const u=this.resolve_,f=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(p,p.getResponse());YO(m)?u(m):u()}catch(m){f(m)}else if(p!==null){const m=Ag();m.serverResponse=p.getErrorText(),this.errorCallback_?f(this.errorCallback_(p,m)):f(m)}else if(o.canceled){const m=this.appDelete_?xb():UO();f(m)}else{const m=LO();f(m)}};this.canceled_?n(!1,new sh(!1,null,!0)):this.backoffId_=KO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&QO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class sh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function JO(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function ek(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function tk(i,e){e&&(i["X-Firebase-GMPID"]=e)}function nk(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function ik(i,e,n,s,o,u,f=!0,p=!1){const m=Ob(i.urlParams),g=i.url+m,E=Object.assign({},i.headers);return tk(E,e),JO(E,n),ek(E,u),nk(E,s),new ZO(g,i.method,E,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,f,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function sk(...i){const e=rk();if(e!==void 0){const n=new e;for(let s=0;s<i.length;s++)n.append(i[s]);return n.getBlob()}else{if(Sg())return new Blob(i);throw new Et(vt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function ak(i,e,n){return i.webkitSlice?i.webkitSlice(e,n):i.mozSlice?i.mozSlice(e,n):i.slice?i.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(i){if(typeof atob>"u")throw FO("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Bp{constructor(e,n){this.data=e,this.contentType=n||null}}function lk(i,e){switch(i){case Ri.RAW:return new Bp(kb(e));case Ri.BASE64:case Ri.BASE64URL:return new Bp(Pb(i,e));case Ri.DATA_URL:return new Bp(ck(e),hk(e))}throw Ag()}function kb(i){const e=[];for(let n=0;n<i.length;n++){let s=i.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,f=i.charCodeAt(++n);s=65536|(u&1023)<<10|f&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function uk(i){let e;try{e=decodeURIComponent(i)}catch{throw ru(Ri.DATA_URL,"Malformed data URL.")}return kb(e)}function Pb(i,e){switch(i){case Ri.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw ru(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ri.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw ru(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=ok(e)}catch(o){throw o.message.includes("polyfill")?o:ru(i,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class Mb{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ru(Ri.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=fk(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function ck(i){const e=new Mb(i);return e.base64?Pb(Ri.BASE64,e.rest):uk(e.rest)}function hk(i){return new Mb(i).contentType}function fk(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n){let s=0,o="";xT(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(xT(this.data_)){const s=this.data_,o=ak(s,e,n);return o===null?null:new Xr(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new Xr(s,!0)}}static getBlob(...e){if(Sg()){const n=e.map(s=>s instanceof Xr?s.data_:s);return new Xr(sk.apply(null,n))}else{const n=e.map(f=>bg(f)?lk(Ri.RAW,f).data:f.data_);let s=0;n.forEach(f=>{s+=f.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(f=>{for(let p=0;p<f.length;p++)o[u++]=f[p]}),new Xr(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(i){let e;try{e=JSON.parse(i)}catch{return null}return XO(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function pk(i,e){const n=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?n:i+"/"+n}function Lb(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(i,e){return e}class pn{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||mk}}let ah=null;function gk(i){return!bg(i)||i.length<2?i:Lb(i)}function Ub(){if(ah)return ah;const i=[];i.push(new pn("bucket")),i.push(new pn("generation")),i.push(new pn("metageneration")),i.push(new pn("name","fullPath",!0));function e(u,f){return gk(f)}const n=new pn("name");n.xform=e,i.push(n);function s(u,f){return f!==void 0?Number(f):f}const o=new pn("size");return o.xform=s,i.push(o),i.push(new pn("timeCreated")),i.push(new pn("updated")),i.push(new pn("md5Hash",null,!0)),i.push(new pn("cacheControl",null,!0)),i.push(new pn("contentDisposition",null,!0)),i.push(new pn("contentEncoding",null,!0)),i.push(new pn("contentLanguage",null,!0)),i.push(new pn("contentType",null,!0)),i.push(new pn("metadata","customMetadata",!0)),ah=i,ah}function _k(i,e){function n(){const s=i.bucket,o=i.fullPath,u=new xn(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:n})}function yk(i,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const f=n[u];s[f.local]=f.xform(s,e[f.server])}return _k(s,i),s}function jb(i,e,n){const s=Vb(e);return s===null?null:yk(i,s,n)}function vk(i,e,n,s){const o=Vb(e);if(o===null||!bg(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const f=encodeURIComponent;return u.split(",").map(g=>{const E=i.bucket,b=i.fullPath,T="/b/"+f(E)+"/o/"+f(b),x=wg(T,n,s),D=Ob({alt:"media",token:g});return x+D})[0]}function Ek(i,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=i[u.local])}return JSON.stringify(n)}class Bb{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(i){if(!i)throw Ag()}function Tk(i,e){function n(s,o){const u=jb(i,o,e);return zb(u!==null),u}return n}function Ak(i,e){function n(s,o){const u=jb(i,o,e);return zb(u!==null),vk(u,o,i.host,i._protocol)}return n}function qb(i){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=MO():o=PO():n.getStatus()===402?o=kO(i.bucket):n.getStatus()===403?o=VO(i.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function bk(i){const e=qb(i);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=OO(i.path)),u.serverResponse=o.serverResponse,u}return n}function Sk(i,e,n){const s=e.fullServerUrl(),o=wg(s,i.host,i._protocol),u="GET",f=i.maxOperationRetryTime,p=new Bb(o,u,Ak(i,n),f);return p.errorHandler=bk(e),p}function wk(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function Rk(i,e,n){const s=Object.assign({},n);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=wk(null,e)),s}function Ck(i,e,n,s,o){const u=e.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function p(){let Z="";for(let oe=0;oe<2;oe++)Z=Z+Math.random().toString().slice(2);return Z}const m=p();f["Content-Type"]="multipart/related; boundary="+m;const g=Rk(e,s,o),E=Ek(g,n),b="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+m+`\r
Content-Type: `+g.contentType+`\r
\r
`,T=`\r
--`+m+"--",x=Xr.getBlob(b,s,T);if(x===null)throw qO();const D={name:g.fullPath},G=wg(u,i.host,i._protocol),L="POST",H=i.maxUploadRetryTime,ee=new Bb(G,L,Tk(i,n),H);return ee.urlParams=D,ee.headers=f,ee.body=x.uploadData(),ee.errorHandler=qb(e),ee}class Ik{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ta.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ta.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ta.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,u){if(this.sent_)throw Gl("cannot .send() more than once");if(mr(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const f in u)u.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,u[f].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Gl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Gl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Gl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Gl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Nk extends Ik{initXhr(){this.xhr_.responseType="text"}}function Hb(){return new Nk}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n){this._service=e,n instanceof xn?this._location=n:this._location=xn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new oa(e,n)}get root(){const e=new xn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Lb(this._location.path)}get storage(){return this._service}get parent(){const e=dk(this._location.path);if(e===null)return null;const n=new xn(this._location.bucket,e);return new oa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw GO(e)}}function Dk(i,e,n){i._throwIfRoot("uploadBytes");const s=Ck(i.storage,i._location,Ub(),new Xr(e,!0),n);return i.storage.makeRequestWithTokens(s,Hb).then(o=>({metadata:o,ref:i}))}function xk(i){i._throwIfRoot("getDownloadURL");const e=Sk(i.storage,i._location,Ub());return i.storage.makeRequestWithTokens(e,Hb).then(n=>{if(n===null)throw HO();return n})}function Ok(i,e){const n=pk(i._location.path,e),s=new xn(i._location.bucket,n);return new oa(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(i){return/^[A-Za-z]+:\/\//.test(i)}function Pk(i,e){return new oa(i,e)}function Fb(i,e){if(i instanceof Rg){const n=i;if(n._bucket==null)throw zO();const s=new oa(n,n._bucket);return e!=null?Fb(s,e):s}else return e!==void 0?Ok(i,e):i}function Mk(i,e){if(e&&kk(e)){if(i instanceof Rg)return Pk(i,e);throw Tm("To use ref(service, url), the first argument must be a Storage instance.")}else return Fb(i,e)}function kT(i,e){const n=e?.[Db];return n==null?null:xn.makeFromBucketSpec(n,i)}function Vk(i,e,n,s={}){i.host=`${e}:${n}`;const o=mr(e);o&&(Gh(`https://${i.host}/b`),$h("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:s0(u,i.app.options.projectId))}class Rg{constructor(e,n,s,o,u,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=Nb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DO,this._maxUploadRetryTime=xO,this._requests=new Set,o!=null?this._bucket=xn.makeFromBucketSpec(o,this._host):this._bucket=kT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=xn.makeFromBucketSpec(this._url,e):this._bucket=kT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){OT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){OT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new oa(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new $O(xb());{const f=ik(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const PT="@firebase/storage",MT="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="storage";function $b(i,e,n){return i=lt(i),Dk(i,e,n)}function Kb(i){return i=lt(i),xk(i)}function Qb(i,e){return i=lt(i),Mk(i,e)}function Lk(i=Kh(),e){i=lt(i);const s=yu(i,Gb).getImmediate({identifier:e}),o=xm("storage");return o&&Uk(s,...o),s}function Uk(i,e,n,s={}){Vk(i,e,n,s)}function jk(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new Rg(n,s,o,e,ua)}function Bk(){ss(new cr(Gb,jk,"PUBLIC").setMultipleInstances(!0)),Gn(PT,MT,""),Gn(PT,MT,"esm2017")}Bk();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,n,s,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,vn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||n.get().then(u=>this.auth=u,()=>{}),this.messaging||s.get().then(u=>this.messaging=u,()=>{}),this.appCheck||o?.get().then(u=>this.appCheck=u,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),s=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:n,messagingToken:s,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="us-central1";class qk{constructor(e,n,s,o,u=Am,f=(...p)=>fetch(...p)){this.app=e,this.fetchImpl=f,this.emulatorOrigin=null,this.contextProvider=new zk(e,n,s,o),this.cancelAllRequests=new Promise(p=>{this.deleteService=()=>Promise.resolve(p())});try{const p=new URL(u);this.customDomain=p.origin+(p.pathname==="/"?"":p.pathname),this.region=Am}catch{this.customDomain=null,this.region=u}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function Hk(i,e,n){const s=mr(e);i.emulatorOrigin=`http${s?"s":""}://${e}:${n}`,s&&(Gh(i.emulatorOrigin),$h("Functions",!0))}const VT="@firebase/functions",LT="0.12.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk="auth-internal",Gk="app-check-internal",$k="messaging-internal";function Kk(i){const e=(n,{instanceIdentifier:s})=>{const o=n.getProvider("app").getImmediate(),u=n.getProvider(Fk),f=n.getProvider($k),p=n.getProvider(Gk);return new qk(o,u,f,p,s)};ss(new cr(Yb,e,"PUBLIC").setMultipleInstances(!0)),Gn(VT,LT,i),Gn(VT,LT,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(i=Kh(),e=Am){const s=yu(lt(i),Yb).getImmediate({identifier:e}),o=xm("functions");return o&&Yk(s,...o),s}function Yk(i,e,n){Hk(lt(i),e,n)}Kk();const Xk={apiKey:"AIzaSyAq2YoYuNWWUXBUO7BYlXLp4py_SqB8Uw8",authDomain:"journeest-project-unique-id.firebaseapp.com",projectId:"journeest-project-unique-id",storageBucket:"journeest-project-unique-id.appspot.com",messagingSenderId:"649186591378",appId:"1:649186591378:web:01c3d3fb957bf5d8829c4b"},yf=l0(Xk),vf=pN(yf),Ci=cO(yf),Xb=Lk(yf);Qk(yf);console.log("Firebase initialized!");const Wk="_container_1n2h2_1",Zk="_formWrapper_1n2h2_10",Jk="_mainTitle_1n2h2_19",eP="_subtitle_1n2h2_25",tP="_fieldset_1n2h2_31",nP="_checkboxGroup_1n2h2_57",iP="_termsGroup_1n2h2_71",rP="_error_1n2h2_86",sP="_submitButton_1n2h2_96",Zn={container:Wk,formWrapper:Zk,mainTitle:Jk,subtitle:eP,fieldset:tP,checkboxGroup:nP,termsGroup:iP,error:rP,submitButton:sP},aP=()=>{const i=la(),[e,n]=z.useState({legalName:"",brandName:"",country:"España",businessType:"",propertyCount:1,roomCount:1}),[s,o]=z.useState({fullName:"",position:"",email:"",phone:""}),[u,f]=z.useState({increaseRevenue:!1,reduceCosts:!1,automateProcesses:!1}),[p,m]=z.useState(""),[g,E]=z.useState(!1),[b,T]=z.useState(""),[x,D]=z.useState(!1),G=Z=>{n({...e,[Z.target.name]:Z.target.value})},L=Z=>{o({...s,[Z.target.name]:Z.target.value})},H=Z=>{f({...u,[Z.target.name]:Z.target.checked})},ee=async Z=>{if(Z.preventDefault(),T(""),!g){T("Debes aceptar los términos y condiciones.");return}D(!0);try{const ce=(await ZI(vf,s.email,p)).user;await RO(ea(Ci,"companies",ce.uid),{...e,contact:s,objectives:u,adminUid:ce.uid,createdAt:new Date}),i("/onboarding/areas/intro")}catch(oe){oe.code==="auth/email-already-in-use"?T("Este correo electrónico ya está en uso."):oe.code==="auth/weak-password"?T("La contraseña debe tener al menos 6 caracteres."):(T("Ocurrió un error al crear la cuenta. Inténtalo de nuevo."),console.error(oe))}finally{D(!1)}};return w.jsx("div",{className:Zn.container,children:w.jsxs("div",{className:Zn.formWrapper,children:[w.jsx("h1",{className:Zn.mainTitle,children:"Bienvenido a Journeest"}),w.jsx("p",{className:Zn.subtitle,children:"Empecemos con los datos básicos para crear tu diagnóstico."}),w.jsxs("form",{onSubmit:ee,children:[w.jsxs("fieldset",{className:Zn.fieldset,children:[w.jsx("legend",{children:"1. Datos de la Empresa"}),w.jsx("input",{name:"legalName",placeholder:"Nombre Legal",value:e.legalName,onChange:G,required:!0}),w.jsx("input",{name:"brandName",placeholder:"Marca Comercial",value:e.brandName,onChange:G,required:!0}),w.jsxs("select",{name:"businessType",value:e.businessType,onChange:G,required:!0,children:[w.jsx("option",{value:"",children:"Tipo de negocio..."}),w.jsx("option",{value:"hotel",children:"Hotel"}),w.jsx("option",{value:"apartamentos",children:"Apartamentos Turísticos"}),w.jsx("option",{value:"agencia",children:"Agencia de Viajes"}),w.jsx("option",{value:"otro",children:"Otro"})]})]}),w.jsxs("fieldset",{className:Zn.fieldset,children:[w.jsx("legend",{children:"2. Contacto Principal"}),w.jsx("input",{name:"fullName",placeholder:"Nombre Completo",value:s.fullName,onChange:L,required:!0}),w.jsx("input",{name:"position",placeholder:"Cargo",value:s.position,onChange:L,required:!0}),w.jsx("input",{name:"email",type:"email",placeholder:"E-mail Corporativo",value:s.email,onChange:L,required:!0}),w.jsx("input",{name:"password",type:"password",placeholder:"Crea una contraseña",value:p,onChange:Z=>m(Z.target.value),required:!0}),w.jsx("input",{name:"phone",type:"tel",placeholder:"Teléfono (WhatsApp)",value:s.phone,onChange:L})]}),w.jsxs("fieldset",{className:Zn.fieldset,children:[w.jsx("legend",{children:"3. ¿Cuál es tu objetivo prioritario?"}),w.jsxs("div",{className:Zn.checkboxGroup,children:[w.jsxs("label",{children:[w.jsx("input",{type:"checkbox",name:"increaseRevenue",checked:u.increaseRevenue,onChange:H})," Aumentar ingresos"]}),w.jsxs("label",{children:[w.jsx("input",{type:"checkbox",name:"reduceCosts",checked:u.reduceCosts,onChange:H})," Reducir costes"]}),w.jsxs("label",{children:[w.jsx("input",{type:"checkbox",name:"automateProcesses",checked:u.automateProcesses,onChange:H})," Automatizar procesos"]})]})]}),w.jsxs("div",{className:Zn.termsGroup,children:[w.jsx("input",{type:"checkbox",id:"terms",checked:g,onChange:Z=>E(Z.target.checked),required:!0}),w.jsxs("label",{htmlFor:"terms",children:["Acepto los ",w.jsx(Zr,{to:"/terminos",target:"_blank",children:"términos y la política de privacidad"})]})]}),b&&w.jsx("p",{className:Zn.error,children:b}),w.jsx("button",{type:"submit",className:Zn.submitButton,disabled:x,children:x?"Creando cuenta...":"Continuar y Crear Áreas"})]})]})})},oP="_container_9cp71_1",lP="_formWrapper_9cp71_9",uP="_logo_9cp71_19",cP="_title_9cp71_24",hP="_subtitle_9cp71_30",fP="_inputGroup_9cp71_35",dP="_error_9cp71_59",pP="_submitButton_9cp71_68",mP="_registerLink_9cp71_90",bi={container:oP,formWrapper:lP,logo:uP,title:cP,subtitle:hP,inputGroup:fP,error:dP,submitButton:pP,registerLink:mP},gP="https://i.imgur.com/IKpS29L.png",_P=()=>{const[i,e]=z.useState(""),[n,s]=z.useState(""),[o,u]=z.useState(""),[f,p]=z.useState(!1),m=la(),g=async E=>{E.preventDefault(),u(""),p(!0);try{await JI(vf,i,n),m("/dashboard")}catch(b){b.code==="auth/user-not-found"||b.code==="auth/wrong-password"||b.code==="auth/invalid-credential"?u("El correo o la contraseña son incorrectos."):(u("Ocurrió un error. Por favor, inténtalo de nuevo."),console.error("Login Error:",b))}finally{p(!1)}};return w.jsx("div",{className:bi.container,children:w.jsxs("div",{className:bi.formWrapper,children:[w.jsx("img",{src:gP,alt:"Journeest Logo",className:bi.logo}),w.jsx("h2",{className:bi.title,children:"Bienvenido de nuevo"}),w.jsx("p",{className:bi.subtitle,children:"Inicia sesión para acceder a tu panel."}),w.jsxs("form",{onSubmit:g,children:[w.jsxs("div",{className:bi.inputGroup,children:[w.jsx("label",{htmlFor:"email",children:"Correo Electrónico"}),w.jsx("input",{type:"email",id:"email",value:i,onChange:E=>e(E.target.value),required:!0})]}),w.jsxs("div",{className:bi.inputGroup,children:[w.jsx("label",{htmlFor:"password",children:"Contraseña"}),w.jsx("input",{type:"password",id:"password",value:n,onChange:E=>s(E.target.value),required:!0})]}),o&&w.jsx("p",{className:bi.error,children:o}),w.jsx("button",{type:"submit",className:bi.submitButton,disabled:f,children:f?"Iniciando sesión...":"Iniciar Sesión"})]}),w.jsxs("p",{className:bi.registerLink,children:["¿No tienes una cuenta? ",w.jsx(Zr,{to:"/registro",children:"Regístrate"})]})]})})},yP="_pageWrapper_flfok_1",vP="_container_flfok_11",EP="_title_flfok_21",TP="_subtitle_flfok_27",AP="_content_flfok_33",bP="_startButton_flfok_52",SP="_footer_flfok_70",wP="_logoFuturlogix_flfok_77",Gr={pageWrapper:yP,container:vP,title:EP,subtitle:TP,content:AP,startButton:bP,footer:SP,logoFuturlogix:wP},RP="https://i.imgur.com/sKQhiGY.png",CP=()=>w.jsxs("div",{className:Gr.pageWrapper,children:[w.jsxs("div",{className:Gr.container,children:[w.jsx("h1",{className:Gr.title,children:"¡Bienvenido a Journeest!"}),w.jsx("p",{className:Gr.subtitle,children:"Estás a punto de iniciar el diagnóstico de tu empresa."}),w.jsxs("div",{className:Gr.content,children:[w.jsxs("p",{children:["El siguiente paso es fundamental: vamos a definir las ",w.jsx("strong",{children:"áreas clave"})," de tu negocio. Piensa en los departamentos o funciones principales que componen tu operación, como por ejemplo:"]}),w.jsxs("ul",{children:[w.jsx("li",{children:"Recepción y Reservas"}),w.jsx("li",{children:"Marketing y Ventas"}),w.jsx("li",{children:"Restauración (F&B)"}),w.jsx("li",{children:"Mantenimiento y Limpieza"}),w.jsx("li",{children:"Administración y Finanzas"})]}),w.jsx("p",{children:"Al definir estas áreas y asignar un responsable a cada una, podremos realizar un análisis profundo y personalizado, departamento por departamento."})]}),w.jsx(Zr,{to:"/onboarding/areas",className:Gr.startButton,children:"Empezar a Crear Áreas"})]}),w.jsxs("footer",{className:Gr.footer,children:[w.jsx("p",{children:"Powered by"}),w.jsx("img",{src:RP,alt:"Futurlogix Logo",className:Gr.logoFuturlogix})]})]}),Wb=z.createContext({currentUser:null,loading:!0}),Cg=()=>z.useContext(Wb),IP=({children:i})=>{const[e,n]=z.useState(null),[s,o]=z.useState(!0);z.useEffect(()=>n2(vf,p=>{n(p),o(!1)}),[]);const u={currentUser:e,loading:s};return w.jsx(Wb.Provider,{value:u,children:!s&&i})},NP="_pageWrapper_1c5it_1",DP="_container_1c5it_6",xP="_mainTitle_1c5it_10",OP="_subtitle_1c5it_15",kP="_mainLayout_1c5it_23",PP="_formColumn_1c5it_28",MP="_listColumn_1c5it_28",VP="_columnTitle_1c5it_34",LP="_templateButton_1c5it_65",UP="_areaList_1c5it_71",jP="_areaCard_1c5it_76",BP="_status_1c5it_88",zP="_Pendiente_1c5it_97",qP="_Completada_1c5it_99",HP="_continueButton_1c5it_100",FP="_error_1c5it_112",GP="_checkboxWrapper_1c5it_116",Wt={pageWrapper:NP,container:DP,mainTitle:xP,subtitle:OP,mainLayout:kP,formColumn:PP,listColumn:MP,columnTitle:VP,templateButton:LP,areaList:UP,areaCard:jP,status:BP,Pendiente:zP,Invitaciónenviada:"_Invitaciónenviada_1c5it_98",Completada:qP,continueButton:HP,error:FP,checkboxWrapper:GP},$P=["Marketing y Ventas","Recepción y Reservas","Housekeeping","Restauración (F&B)","Mantenimiento","Administración"],KP=()=>{const i=la(),{currentUser:e}=Cg(),[n,s]=z.useState(""),[o,u]=z.useState(""),[f,p]=z.useState(""),[m,g]=z.useState(""),[E,b]=z.useState(""),[T,x]=z.useState(""),[D,G]=z.useState(""),[L,H]=z.useState(null),[ee,Z]=z.useState(!1),[oe,ce]=z.useState([]),[_e,P]=z.useState(null),[R,C]=z.useState(!1),[k,V]=z.useState(""),U=z.useMemo(()=>n==="Otra..."?o:n,[n,o]);z.useEffect(()=>{if(!e)return;(async()=>{const de=ea(Ci,"companies",e.uid),De=await wb(de);De.exists()&&P(De.data().contact)})()},[e]),z.useEffect(()=>{ee&&_e&&(g(_e.fullName),b(_e.position),x(_e.email))},[ee,_e]),z.useEffect(()=>{if(!e)return;const te=ym(Bh(Ci,"areas"),vm("companyId","==",e.uid)),de=Em(te,De=>{const O=De.docs.map(J=>({id:J.id,...J.data()}));ce(O)});return()=>de()},[e]);const N=()=>{s(""),u(""),p(""),g(""),b(""),x(""),G(""),H(null),Z(!1)},pt=async te=>{if(te.preventDefault(),!U||!T){V("El nombre del área y el email del responsable son obligatorios.");return}C(!0),V("");try{if(!e)throw new Error("Usuario no autenticado");const de=ee&&_e?{name:_e.fullName,position:_e.position,email:_e.email}:{name:m,position:E,email:T},De=await CO(Bh(Ci,"areas"),{name:U,description:f,responsible:de,deadline:D,status:"Pendiente",companyId:e.uid,createdAt:new Date,supportingDocs:[]});if(L){const O=`docs/${e.uid}/${De.id}/${L.name}`,J=Qb(Xb,O);await $b(J,L);const ue=await Kb(J);await vh(De,{supportingDocs:Ib({name:L.name,url:ue})})}N()}catch(de){V("Error al crear el área. Inténtalo de nuevo."),console.error(de)}finally{C(!1)}},st=()=>{alert("Funcionalidad para cargar plantillas de áreas estándar próximamente.")},Y=()=>{i("/dashboard")};return w.jsx("div",{className:Wt.pageWrapper,children:w.jsxs("div",{className:Wt.container,children:[w.jsx("h1",{className:Wt.mainTitle,children:"Asignar Colaboradores"}),w.jsx("p",{className:Wt.subtitle,children:"Crea las áreas de tu empresa, asigna responsables y establece una fecha límite para su análisis."}),w.jsxs("div",{className:Wt.mainLayout,children:[w.jsxs("div",{className:Wt.formColumn,children:[w.jsx("h2",{className:Wt.columnTitle,children:"Añadir Nueva Área"}),w.jsxs("form",{onSubmit:pt,children:[w.jsxs("select",{value:n,onChange:te=>s(te.target.value),required:!0,children:[w.jsx("option",{value:"",children:"Selecciona un área..."}),$P.map(te=>w.jsx("option",{value:te,children:te},te)),w.jsx("option",{value:"Otra...",children:"Otra..."})]}),n==="Otra..."&&w.jsx("input",{type:"text",placeholder:"Nombre del área personalizada",value:o,onChange:te=>u(te.target.value),required:!0}),w.jsx("textarea",{placeholder:"Descripción corta (max 80 car.)",maxLength:80,value:f,onChange:te=>p(te.target.value)}),w.jsxs("div",{className:Wt.checkboxWrapper,children:[w.jsx("input",{type:"checkbox",id:"assignToSelf",checked:ee,onChange:te=>Z(te.target.checked)}),w.jsx("label",{htmlFor:"assignToSelf",children:"Asignar esta área a mí mismo"})]}),w.jsx("input",{type:"text",placeholder:"Nombre del responsable",value:m,onChange:te=>g(te.target.value),required:!0,disabled:ee}),w.jsx("input",{type:"text",placeholder:"Puesto del responsable",value:E,onChange:te=>b(te.target.value),required:!0,disabled:ee}),w.jsx("input",{type:"email",placeholder:"E-mail del responsable",value:T,onChange:te=>x(te.target.value),required:!0,disabled:ee}),w.jsx("label",{htmlFor:"deadline",children:"Fecha Límite"}),w.jsx("input",{type:"date",id:"deadline",value:D,onChange:te=>G(te.target.value),required:!0}),w.jsx("label",{htmlFor:"uploader",children:"Subir Documentos (Opcional)"}),w.jsx("input",{type:"file",id:"uploader",onChange:te=>H(te.target.files?te.target.files[0]:null)}),k&&w.jsx("p",{className:Wt.error,children:k}),w.jsx("button",{type:"submit",disabled:R,children:R?"Añadiendo...":"Añadir Área a la Lista"})]}),w.jsx("button",{onClick:st,className:Wt.templateButton,children:"Cargar Áreas Estándar"})]}),w.jsxs("div",{className:Wt.listColumn,children:[w.jsx("h2",{className:Wt.columnTitle,children:"Áreas Creadas"}),w.jsx("div",{className:Wt.areaList,children:oe.length===0?w.jsx("p",{children:"Aún no hay áreas en la lista."}):oe.map(te=>w.jsxs("div",{className:Wt.areaCard,children:[w.jsx("h4",{children:te.name}),w.jsx("p",{children:te.responsible.email}),w.jsx("span",{className:`${Wt.status} ${Wt[te.status.replace(/ /g,"")]}`,children:te.status})]},te.id))}),w.jsx("button",{onClick:Y,className:Wt.continueButton,disabled:oe.length===0,children:"Enviar Invitaciones y Continuar"})]})]})]})})},QP="_pageWrapper_1izfi_1",YP="_header_1izfi_2",XP="_container_1izfi_4",WP="_sidebar_1izfi_5",ZP="_active_1izfi_9",JP="_mainContent_1izfi_10",eM="_buttonContainer_1izfi_21",tM="_saveButton_1izfi_22",nM="_finalizeButton_1izfi_23",iM="_centered_1izfi_24",rM="_processBox_1izfi_26",sM="_taskTitle_1izfi_37",aM="_taskRow_1izfi_43",oM="_addTaskButton_1izfi_49",lM="_addProcessButton_1izfi_63",uM="_kpiBox_1izfi_74",cM="_addKpiButton_1izfi_85",hM="_toolBox_1izfi_96",fM="_inlineGroup_1izfi_108",dM="_addToolButton_1izfi_124",pM="_problemBox_1izfi_135",mM="_addProblemButton_1izfi_157",gM="_ideaBox_1izfi_168",_M="_addIdeaButton_1izfi_190",yM="_uploadBox_1izfi_201",vM="_attachmentList_1izfi_224",EM="_backButton_1izfi_245",Fe={pageWrapper:QP,header:YP,container:XP,sidebar:WP,active:ZP,mainContent:JP,buttonContainer:eM,saveButton:tM,finalizeButton:nM,centered:iM,processBox:rM,taskTitle:sM,taskRow:aM,addTaskButton:oM,addProcessButton:lM,kpiBox:uM,addKpiButton:cM,toolBox:hM,inlineGroup:fM,addToolButton:dM,problemBox:pM,addProblemButton:mM,ideaBox:gM,addIdeaButton:_M,uploadBox:yM,attachmentList:vM,backButton:EM},TM=[{id:"resumen",label:"1. Resumen"},{id:"procesos",label:"2. Procesos"},{id:"kpis",label:"3. KPIs"},{id:"herramientas",label:"4. Herramientas"},{id:"problemas",label:"5. Problemas"},{id:"ideas",label:"6. Ideas de Mejora"},{id:"adjuntos",label:"7. Adjuntar Docs"}],AM=()=>{const{token:i}=c1(),e=la(),[n,s]=z.useState("resumen"),[o,u]=z.useState(""),[f,p]=z.useState(!0),[m,g]=z.useState(""),[E,b]=z.useState({description:"",employeeCount:0,temporality:"constante"}),[T,x]=z.useState([]),[D,G]=z.useState([]),[L,H]=z.useState([]),[ee,Z]=z.useState([]),[oe,ce]=z.useState([]),[_e,P]=z.useState([]),[R,C]=z.useState(null),[k,V]=z.useState(!1),[U,N]=z.useState("Pendiente");z.useEffect(()=>{if(!i){g("No se ha proporcionado un ID de área."),p(!1);return}(async()=>{const me=ea(Ci,"areas",i),he=await wb(me);if(he.exists()){const xe=he.data();u(xe.name||""),N(xe.status||"Pendiente"),b(xe.summary||{description:"",employeeCount:0,temporality:"constante"}),x(xe.processes||[]),G(xe.kpis||[]),H(xe.tools||[]),Z(xe.problems||[]),ce(xe.ideas||[]),P(xe.attachments||[])}else g("El área solicitada no existe o el enlace no es válido.");p(!1)})()},[i]);const pt=async()=>{if(!i)return;const le=ea(Ci,"areas",i);try{const me={summary:E,processes:T,kpis:D,tools:L,problems:ee,ideas:oe,attachments:_e};U==="Pendiente"&&(me.status="En proceso",N("En proceso")),await vh(le,me),alert("¡Progreso guardado con éxito!")}catch(me){console.error(me),alert("Error al guardar el progreso.")}},st=async()=>{if(!window.confirm("¿Estás seguro de que has completado toda la información? Una vez finalizada, no podrás editarla.")||!i)return;await pt();const le=ea(Ci,"areas",i);try{await vh(le,{status:"Completada"}),alert("¡Área finalizada! Gracias por tu colaboración.")}catch{alert("Error al finalizar el área.")}},Y=()=>x([...T,{id:crypto.randomUUID(),name:"",trigger:"",tasks:[],sla:""}]),te=(le,me,he)=>{const xe=[...T];xe[le][me]=he,x(xe)},de=le=>{const me=[...T];me[le].tasks.push({name:"",duration:0,responsible:""}),x(me)},De=(le,me,he,xe)=>{const Ut=[...T];Ut[le].tasks[me][he]=xe,x(Ut)},O=()=>G([...D,{id:crypto.randomUUID(),name:"",formula:"",frequency:"",target:""}]),J=(le,me,he)=>{const xe=[...D];xe[le][me]=he,G(xe)},ue=()=>H([...L,{id:crypto.randomUUID(),name:"",category:"",hasApi:!1,annualCost:0,satisfaction:3}]),se=(le,me,he)=>{const xe=[...L];xe[le][me]=he,H(xe)},ve=()=>Z([...ee,{id:crypto.randomUUID(),description:"",resourceLost:"",impact:"",severity:5,isRegulatoryRisk:!1}]),Ie=(le,me,he)=>{const xe=[...ee];xe[le][me]=he,Z(xe)},we=()=>ce([...oe,{id:crypto.randomUUID(),description:"",urgency:5,isQuickWin:!1}]),mt=(le,me,he)=>{const xe=[...oe];xe[le][me]=he,ce(xe)},Ze=async()=>{if(!R||!i)return;V(!0);const le=`attachments/${i}/${R.name}`,me=Qb(Xb,le);try{await $b(me,R);const he=await Kb(me),xe={name:R.name,url:he},Ut=ea(Ci,"areas",i);await vh(Ut,{attachments:Ib(xe)}),P([..._e,xe]),C(null)}catch(he){console.error(he),alert("Error al subir el archivo.")}finally{V(!1)}};return f?w.jsx("div",{className:Fe.centered,children:"Cargando..."}):m?w.jsx("div",{className:Fe.centered,children:m}):w.jsxs("div",{className:Fe.pageWrapper,children:[w.jsx("header",{className:Fe.header,children:w.jsxs("h1",{children:["Análisis del Área: ",o]})}),w.jsxs("div",{className:Fe.container,children:[w.jsxs("aside",{className:Fe.sidebar,children:[w.jsx("nav",{children:TM.map(le=>w.jsx("button",{onClick:()=>s(le.id),className:n===le.id?Fe.active:"",children:le.label},le.id))}),w.jsx("button",{onClick:()=>e("/dashboard"),className:Fe.backButton,children:"Volver al Dashboard"})]}),w.jsxs("main",{className:Fe.mainContent,children:[n==="resumen"&&w.jsxs("section",{children:[w.jsx("h2",{children:"1. Resumen del Área"}),w.jsx("label",{children:"Descripción breve (max 130 car.)"}),w.jsx("input",{type:"text",maxLength:130,value:E.description,onChange:le=>b({...E,description:le.target.value})}),w.jsx("label",{children:"Nº de empleados"}),w.jsx("input",{type:"number",value:E.employeeCount,onChange:le=>b({...E,employeeCount:parseInt(le.target.value)})}),w.jsx("label",{children:"Temporalidad"}),w.jsxs("select",{value:E.temporality,onChange:le=>b({...E,temporality:le.target.value}),children:[w.jsx("option",{value:"constante",children:"Constante"}),w.jsx("option",{value:"temporada",children:"Temporada"}),w.jsx("option",{value:"eventos",children:"Eventos"})]})]}),n==="procesos"&&w.jsxs("section",{children:[w.jsx("h2",{children:"2. Procesos Clave"}),T.map((le,me)=>w.jsxs("div",{className:Fe.processBox,children:[w.jsx("input",{type:"text",placeholder:"Nombre del Proceso (Ej: Check-in presencial)",value:le.name,onChange:he=>te(me,"name",he.target.value)}),w.jsx("input",{type:"text",placeholder:"Trigger o Disparador (Ej: Cliente llega a recepción)",value:le.trigger,onChange:he=>te(me,"trigger",he.target.value)}),w.jsx("h4",{className:Fe.taskTitle,children:"Tareas"}),le.tasks.map((he,xe)=>w.jsxs("div",{className:Fe.taskRow,children:[w.jsx("input",{type:"text",placeholder:"Nombre de la tarea",value:he.name,onChange:Ut=>De(me,xe,"name",Ut.target.value)}),w.jsx("input",{type:"number",placeholder:"Duración (min)",value:he.duration,onChange:Ut=>De(me,xe,"duration",parseInt(Ut.target.value))}),w.jsx("input",{type:"text",placeholder:"Responsable",value:he.responsible,onChange:Ut=>De(me,xe,"responsible",Ut.target.value)})]},xe)),w.jsx("button",{className:Fe.addTaskButton,onClick:()=>de(me),children:"+ Añadir Tarea"})]},le.id)),w.jsx("button",{className:Fe.addProcessButton,onClick:Y,children:"+ Añadir Nuevo Proceso"})]}),n==="kpis"&&w.jsxs("section",{children:[w.jsx("h2",{children:"3. KPIs y Métricas"}),D.map((le,me)=>w.jsxs("div",{className:Fe.kpiBox,children:[w.jsx("input",{type:"text",placeholder:"Nombre del KPI (Ej: ADR, RevPAR)",value:le.name,onChange:he=>J(me,"name",he.target.value)}),w.jsx("input",{type:"text",placeholder:"Fórmula (Ej: Ingresos / Habitaciones vendidas)",value:le.formula,onChange:he=>J(me,"formula",he.target.value)}),w.jsx("input",{type:"text",placeholder:"Frecuencia de Revisión (Ej: Diario, Semanal)",value:le.frequency,onChange:he=>J(me,"frequency",he.target.value)}),w.jsx("input",{type:"text",placeholder:"Objetivo (Ej: 85€)",value:le.target,onChange:he=>J(me,"target",he.target.value)})]},le.id)),w.jsx("button",{className:Fe.addKpiButton,onClick:O,children:"+ Añadir Nuevo KPI"})]}),n==="herramientas"&&w.jsxs("section",{children:[w.jsx("h2",{children:"4. Herramientas y Software"}),L.map((le,me)=>w.jsxs("div",{className:Fe.toolBox,children:[w.jsx("input",{type:"text",placeholder:"Nombre de la Herramienta (Ej: Cloudbeds)",value:le.name,onChange:he=>se(me,"name",he.target.value)}),w.jsxs("select",{value:le.category,onChange:he=>se(me,"category",he.target.value),children:[w.jsx("option",{value:"",children:"Categoría..."}),w.jsx("option",{value:"PMS",children:"PMS"}),w.jsx("option",{value:"CRM",children:"CRM"}),w.jsx("option",{value:"Channel Manager",children:"Channel Manager"}),w.jsx("option",{value:"Motor de Reservas",children:"Motor de Reservas"}),w.jsx("option",{value:"Otro",children:"Otro"})]}),w.jsx("input",{type:"number",placeholder:"Coste Anual (€)",value:le.annualCost,onChange:he=>se(me,"annualCost",parseInt(he.target.value))}),w.jsxs("div",{className:Fe.inlineGroup,children:[w.jsx("label",{children:"¿Tiene API?"}),w.jsx("input",{type:"checkbox",checked:le.hasApi,onChange:he=>se(me,"hasApi",he.target.checked)})]}),w.jsxs("div",{className:Fe.inlineGroup,children:[w.jsxs("label",{children:["Satisfacción (1-5): ",le.satisfaction," ★"]}),w.jsx("input",{type:"range",min:"1",max:"5",value:le.satisfaction,onChange:he=>se(me,"satisfaction",parseInt(he.target.value))})]})]},le.id)),w.jsx("button",{className:Fe.addToolButton,onClick:ue,children:"+ Añadir Nueva Herramienta"})]}),n==="problemas"&&w.jsxs("section",{children:[w.jsx("h2",{children:"5. Problemas / Cuellos de Botella"}),ee.map((le,me)=>w.jsxs("div",{className:Fe.problemBox,children:[w.jsx("textarea",{placeholder:"Descripción del problema (Ej: Colas en recepción en horas punta)",value:le.description,onChange:he=>Ie(me,"description",he.target.value)}),w.jsx("input",{type:"text",placeholder:"Recurso perdido (Ej: Tiempo, dinero, clientes)",value:le.resourceLost,onChange:he=>Ie(me,"resourceLost",he.target.value)}),w.jsx("input",{type:"text",placeholder:"Impacto en el negocio",value:le.impact,onChange:he=>Ie(me,"impact",he.target.value)}),w.jsxs("div",{className:Fe.inlineGroup,children:[w.jsxs("label",{children:["Gravedad (1-10): ",le.severity]}),w.jsx("input",{type:"range",min:"1",max:"10",value:le.severity,onChange:he=>Ie(me,"severity",parseInt(he.target.value))})]}),w.jsx("div",{className:Fe.inlineGroup,children:w.jsxs("label",{children:[w.jsx("input",{type:"checkbox",checked:le.isRegulatoryRisk,onChange:he=>Ie(me,"isRegulatoryRisk",he.target.checked)}),"¿Supone un riesgo regulatorio?"]})})]},le.id)),w.jsx("button",{className:Fe.addProblemButton,onClick:ve,children:"+ Añadir Nuevo Problema"})]}),n==="ideas"&&w.jsxs("section",{children:[w.jsx("h2",{children:"6. Ideas de Mejora"}),oe.map((le,me)=>w.jsxs("div",{className:Fe.ideaBox,children:[w.jsx("textarea",{placeholder:"Descripción de la idea (max 200 car.)",maxLength:200,value:le.description,onChange:he=>mt(me,"description",he.target.value)}),w.jsxs("div",{className:Fe.inlineGroup,children:[w.jsxs("label",{children:["Urgencia (0-10): ",le.urgency]}),w.jsx("input",{type:"range",min:"0",max:"10",value:le.urgency,onChange:he=>mt(me,"urgency",parseInt(he.target.value))})]}),w.jsx("div",{className:Fe.inlineGroup,children:w.jsxs("label",{children:[w.jsx("input",{type:"checkbox",checked:le.isQuickWin,onChange:he=>mt(me,"isQuickWin",he.target.checked)}),'¿Es un "Quick Win" (se puede implementar en menos de 2 semanas)?']})})]},le.id)),w.jsx("button",{className:Fe.addIdeaButton,onClick:we,children:"+ Añadir Nueva Idea"})]}),n==="adjuntos"&&w.jsxs("section",{children:[w.jsx("h2",{children:"7. Adjuntar Documentos"}),w.jsx("p",{children:"Sube cualquier documento de apoyo relevante: SOPs, manuales, capturas de pantalla, etc."}),w.jsxs("div",{className:Fe.uploadBox,children:[w.jsx("input",{type:"file",onChange:le=>C(le.target.files?le.target.files[0]:null)}),w.jsx("button",{onClick:Ze,disabled:!R||k,children:k?"Subiendo...":"Subir Archivo"})]}),w.jsxs("div",{className:Fe.attachmentList,children:[w.jsx("h4",{children:"Documentos Subidos:"}),_e.length===0?w.jsx("p",{children:"No hay documentos."}):w.jsx("ul",{children:_e.map((le,me)=>w.jsx("li",{children:w.jsx("a",{href:le.url,target:"_blank",rel:"noopener noreferrer",children:le.name})},me))})]})]}),w.jsxs("div",{className:Fe.buttonContainer,children:[w.jsx("button",{className:Fe.saveButton,onClick:pt,children:"Guardar Borrador"}),w.jsx("button",{className:Fe.finalizeButton,onClick:st,children:"Finalizar Área"})]})]})]})]})},bM="_pageWrapper_ptp2c_1",SM="_header_ptp2c_6",wM="_logoJourneest_ptp2c_15",RM="_logoutButton_ptp2c_19",CM="_container_ptp2c_31",IM="_title_ptp2c_37",NM="_subtitle_ptp2c_42",DM="_dashboardGrid_ptp2c_48",xM="_card_ptp2c_54",OM="_fullWidth_ptp2c_61",kM="_cardTitle_ptp2c_65",PM="_areasTable_ptp2c_71",MM="_status_ptp2c_87",VM="_Pendiente_ptp2c_94",LM="_Completada_ptp2c_96",UM="_actionButton_ptp2c_98",jM="_footer_ptp2c_113",BM="_logoFuturlogix_ptp2c_120",zM="_progressText_ptp2c_126",qM="_progressBar_ptp2c_137",HM="_progressFill_ptp2c_145",FM="_statsContainer_ptp2c_152",GM="_statItem_ptp2c_159",rt={pageWrapper:bM,header:SM,logoJourneest:wM,logoutButton:RM,container:CM,title:IM,subtitle:NM,dashboardGrid:DM,card:xM,fullWidth:OM,cardTitle:kM,areasTable:PM,status:MM,Pendiente:VM,Invitaciónenviada:"_Invitaciónenviada_ptp2c_95",Completada:LM,actionButton:UM,footer:jM,logoFuturlogix:BM,progressText:zM,progressBar:qM,progressFill:HM,statsContainer:FM,statItem:GM},$M="https://i.imgur.com/IKpS29L.png",KM="https://i.imgur.com/sKQhiGY.png",QM=()=>{const{currentUser:i}=Cg(),e=la(),[n,s]=z.useState([]),[o,u]=z.useState([]),[f,p]=z.useState(!0);z.useEffect(()=>{if(!i)return;const T=ym(Bh(Ci,"areas"),vm("companyId","==",i.uid)),x=Em(T,L=>{const H=L.docs.map(ee=>({id:ee.id,...ee.data(),kpis:ee.data().kpis||[],problems:ee.data().problems||[]}));s(H),p(!1)}),D=ym(Bh(Ci,"reports"),vm("companyId","==",i.uid)),G=Em(D,L=>{const H=L.docs.map(ee=>({id:ee.id,areaId:ee.data().areaId}));u(H)});return()=>{x(),G()}},[i]);const m=z.useMemo(()=>{const T=n.filter(L=>L.status==="Completada").length,x=n.reduce((L,H)=>L+(H.problems?.length||0),0),D=n.reduce((L,H)=>L+(H.kpis?.length||0),0),G=n.length>0?T/n.length*100:0;return{completedAreas:T,totalProblems:x,totalKPIs:D,progressPercentage:G}},[n]),g=async()=>{try{await i2(vf),e("/login")}catch(T){console.error("Error al cerrar sesión",T)}},E=T=>{if(T.responsible.email===i?.email&&T.status!=="Completada"){e(`/area/${T.id}`);return}const x=o.find(D=>D.areaId===T.id);x&&e(`/informe/${x.id}`)},b=T=>T.responsible.email===i?.email&&T.status!=="Completada"?{text:"Completar",disabled:!1}:T.status==="Completada"||T.status==="Error al generar informe"?o.some(D=>D.areaId===T.id)?{text:"Ver Informe",disabled:!1}:T.status==="Error al generar informe"?{text:"Error",disabled:!0}:{text:"Generando...",disabled:!0}:{text:"Recordar",disabled:!0};return w.jsxs("div",{className:rt.pageWrapper,children:[w.jsxs("header",{className:rt.header,children:[w.jsx("img",{src:$M,alt:"Journeest Logo",className:rt.logoJourneest}),w.jsx("button",{onClick:g,className:rt.logoutButton,children:"Cerrar Sesión"})]}),w.jsxs("main",{className:rt.container,children:[w.jsx("h1",{className:rt.title,children:"Panel de Control"}),w.jsx("p",{className:rt.subtitle,children:"Monitoriza el progreso del diagnóstico de tu empresa."}),w.jsxs("div",{className:rt.dashboardGrid,children:[w.jsxs("div",{className:rt.card,children:[w.jsx("h2",{className:rt.cardTitle,children:"Progreso Global"}),w.jsxs("div",{className:rt.progressText,children:[w.jsx("strong",{children:m.completedAreas})," de ",w.jsx("strong",{children:n.length})," áreas completadas"]}),w.jsx("div",{className:rt.progressBar,children:w.jsx("div",{className:rt.progressFill,style:{width:`${m.progressPercentage}%`}})})]}),w.jsxs("div",{className:rt.card,children:[w.jsx("h2",{className:rt.cardTitle,children:"Resumen de Datos"}),w.jsxs("div",{className:rt.statsContainer,children:[w.jsxs("div",{className:rt.statItem,children:[w.jsx("span",{children:m.totalKPIs}),"KPIs registrados"]}),w.jsxs("div",{className:rt.statItem,children:[w.jsx("span",{children:m.totalProblems}),"Problemas detectados"]})]})]}),w.jsxs("div",{className:`${rt.card} ${rt.fullWidth}`,children:[w.jsx("h2",{className:rt.cardTitle,children:"Estado de las Áreas"}),w.jsxs("table",{className:rt.areasTable,children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{children:"Área"}),w.jsx("th",{children:"Responsable"}),w.jsx("th",{children:"Estado"}),w.jsx("th",{children:"Acción"})]})}),w.jsx("tbody",{children:f?w.jsx("tr",{children:w.jsx("td",{colSpan:4,style:{textAlign:"center"},children:"Cargando..."})}):n.length>0?n.map(T=>{const x=b(T);return w.jsxs("tr",{children:[w.jsx("td",{children:T.name}),w.jsx("td",{children:T.responsible.email}),w.jsx("td",{children:w.jsx("span",{className:`${rt.status} ${rt[T.status.replace(/ /g,"")]}`,children:T.status})}),w.jsx("td",{children:w.jsx("button",{onClick:()=>E(T),className:rt.actionButton,disabled:x.disabled,children:x.text})})]},T.id)}):w.jsx("tr",{children:w.jsx("td",{colSpan:4,style:{textAlign:"center"},children:"No se han encontrado áreas."})})})]})]})]})]}),w.jsxs("footer",{className:rt.footer,children:[w.jsx("p",{children:"Powered by"}),w.jsx("img",{src:KM,alt:"Futurlogix Logo",className:rt.logoFuturlogix})]})]})},YM=()=>w.jsxs("div",{children:[w.jsx("h1",{children:"Dashboard de Futurlogix (Back-office)"}),w.jsx("p",{children:"Panel de administración para el equipo de Futurlogix."})]}),zp=({children:i})=>{const{currentUser:e}=Cg();return e?i:w.jsx(S1,{to:"/login",replace:!0})};function XM(){return w.jsxs(R1,{children:[w.jsx(Si,{path:"/",element:w.jsx(vR,{})}),w.jsx(Si,{path:"/registro",element:w.jsx(aP,{})}),w.jsx(Si,{path:"/login",element:w.jsx(_P,{})}),w.jsx(Si,{path:"/area/:token",element:w.jsx(AM,{})}),w.jsx(Si,{path:"/onboarding/areas/intro",element:w.jsx(zp,{children:w.jsx(CP,{})})}),w.jsx(Si,{path:"/onboarding/areas",element:w.jsx(zp,{children:w.jsx(KP,{})})}),w.jsx(Si,{path:"/dashboard",element:w.jsx(zp,{children:w.jsx(QM,{})})}),w.jsx(Si,{path:"/futurlogix/dashboard",element:w.jsx(YM,{})}),w.jsx(Si,{path:"*",element:w.jsx("h1",{children:"404: Página no encontrada"})})]})}kw.createRoot(document.getElementById("root")).render(w.jsx(ww.StrictMode,{children:w.jsx(X1,{children:w.jsxs(IP,{children:[" ",w.jsx(XM,{})]})})}));
